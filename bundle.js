var Sw=Object.defineProperty;var Ew=(e,t,r)=>t in e?Sw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fm=(e,t,r)=>Ew(e,typeof t!="symbol"?t+"":t,r);function Tw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lg={exports:{}},tc={},Ug={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=Symbol.for("react.element"),Pw=Symbol.for("react.portal"),Rw=Symbol.for("react.fragment"),Iw=Symbol.for("react.strict_mode"),Aw=Symbol.for("react.profiler"),Ow=Symbol.for("react.provider"),Lw=Symbol.for("react.context"),Uw=Symbol.for("react.forward_ref"),Dw=Symbol.for("react.suspense"),Mw=Symbol.for("react.memo"),$w=Symbol.for("react.lazy"),mm=Symbol.iterator;function Fw(e){return e===null||typeof e!="object"?null:(e=mm&&e[mm]||e["@@iterator"],typeof e=="function"?e:null)}var Dg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mg=Object.assign,$g={};function Ta(e,t,r){this.props=e,this.context=t,this.refs=$g,this.updater=r||Dg}Ta.prototype.isReactComponent={};Ta.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ta.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fg(){}Fg.prototype=Ta.prototype;function dh(e,t,r){this.props=e,this.context=t,this.refs=$g,this.updater=r||Dg}var uh=dh.prototype=new Fg;uh.constructor=dh;Mg(uh,Ta.prototype);uh.isPureReactComponent=!0;var pm=Array.isArray,Bg=Object.prototype.hasOwnProperty,hh={current:null},zg={key:!0,ref:!0,__self:!0,__source:!0};function Wg(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Bg.call(t,n)&&!zg.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:so,type:e,key:i,ref:o,props:a,_owner:hh.current}}function Bw(e,t){return{$$typeof:so,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fh(e){return typeof e=="object"&&e!==null&&e.$$typeof===so}function zw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xm=/\/+/g;function Lc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zw(""+e.key):t.toString(36)}function tl(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case so:case Pw:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Lc(o,0):n,pm(a)?(r="",e!=null&&(r=e.replace(xm,"$&/")+"/"),tl(a,t,r,"",function(d){return d})):a!=null&&(fh(a)&&(a=Bw(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(xm,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",pm(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Lc(i,l);o+=tl(i,t,r,c,a)}else if(c=Fw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Lc(i,l++),o+=tl(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function To(e,t,r){if(e==null)return e;var n=[],a=0;return tl(e,n,"","",function(i){return t.call(r,i,a++)}),n}function Ww(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},rl={transition:null},qw={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:rl,ReactCurrentOwner:hh};function qg(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:To,forEach:function(e,t,r){To(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return To(e,function(){t++}),t},toArray:function(e){return To(e,function(t){return t})||[]},only:function(e){if(!fh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Ta;Se.Fragment=Rw;Se.Profiler=Aw;Se.PureComponent=dh;Se.StrictMode=Iw;Se.Suspense=Dw;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qw;Se.act=qg;Se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Mg({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=hh.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Bg.call(t,c)&&!zg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:so,type:e.type,key:a,ref:i,props:n,_owner:o}};Se.createContext=function(e){return e={$$typeof:Lw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ow,_context:e},e.Consumer=e};Se.createElement=Wg;Se.createFactory=function(e){var t=Wg.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:Uw,render:e}};Se.isValidElement=fh;Se.lazy=function(e){return{$$typeof:$w,_payload:{_status:-1,_result:e},_init:Ww}};Se.memo=function(e,t){return{$$typeof:Mw,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=rl.transition;rl.transition={};try{e()}finally{rl.transition=t}};Se.unstable_act=qg;Se.useCallback=function(e,t){return Dt.current.useCallback(e,t)};Se.useContext=function(e){return Dt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Dt.current.useEffect(e,t)};Se.useId=function(){return Dt.current.useId()};Se.useImperativeHandle=function(e,t,r){return Dt.current.useImperativeHandle(e,t,r)};Se.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Dt.current.useMemo(e,t)};Se.useReducer=function(e,t,r){return Dt.current.useReducer(e,t,r)};Se.useRef=function(e){return Dt.current.useRef(e)};Se.useState=function(e){return Dt.current.useState(e)};Se.useSyncExternalStore=function(e,t,r){return Dt.current.useSyncExternalStore(e,t,r)};Se.useTransition=function(){return Dt.current.useTransition()};Se.version="18.3.1";Ug.exports=Se;var p=Ug.exports;const se=Nn(p),Hw=Tw({__proto__:null,default:se},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw=p,Vw=Symbol.for("react.element"),Kw=Symbol.for("react.fragment"),Jw=Object.prototype.hasOwnProperty,Yw=Gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qw={key:!0,ref:!0,__self:!0,__source:!0};function Hg(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Jw.call(t,n)&&!Qw.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Vw,type:e,key:i,ref:o,props:a,_owner:Yw.current}}tc.Fragment=Kw;tc.jsx=Hg;tc.jsxs=Hg;Lg.exports=tc;var s=Lg.exports;const we=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ze=globalThis,cn="10.32.1";function rc(){return sc(ze),ze}function sc(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||cn,t[cn]=t[cn]||{}}function Ca(e,t,r=ze){const n=r.__SENTRY__=r.__SENTRY__||{},a=n[cn]=n[cn]||{};return a[e]||(a[e]=t())}const Xw=["debug","info","warn","error","log","assert","trace"],Zw="Sentry Logger ",vl={};function Pa(e){if(!("console"in ze))return e();const t=ze.console,r={},n=Object.keys(vl);n.forEach(a=>{const i=vl[a];r[a]=t[a],t[a]=i});try{return e()}finally{n.forEach(a=>{t[a]=r[a]})}}function ej(){ph().enabled=!0}function tj(){ph().enabled=!1}function Gg(){return ph().enabled}function rj(...e){mh("log",...e)}function sj(...e){mh("warn",...e)}function nj(...e){mh("error",...e)}function mh(e,...t){we&&Gg()&&Pa(()=>{ze.console[e](`${Zw}[${e}]:`,...t)})}function ph(){return we?Ca("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const de={enable:ej,disable:tj,isEnabled:Gg,log:rj,warn:sj,error:nj},Vg=50,mn="?",gm=/\(error: (.*)\)/,bm=/captureMessage|captureException/;function Kg(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,a=0)=>{const i=[],o=r.split(`
`);for(let l=n;l<o.length;l++){let c=o[l];c.length>1024&&(c=c.slice(0,1024));const d=gm.test(c)?c.replace(gm,"$1"):c;if(!d.match(/\S*Error: /)){for(const u of t){const h=u(d);if(h){i.push(h);break}}if(i.length>=Vg+a)break}}return ij(i.slice(a))}}function aj(e){return Array.isArray(e)?Kg(...e):e}function ij(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Co(t).function||"")&&t.pop(),t.reverse(),bm.test(Co(t).function||"")&&(t.pop(),bm.test(Co(t).function||"")&&t.pop()),t.slice(0,Vg).map(r=>({...r,filename:r.filename||Co(t).filename,function:r.function||mn}))}function Co(e){return e[e.length-1]||{}}const Uc="<anonymous>";function Ms(e){try{return!e||typeof e!="function"?Uc:e.name||Uc}catch{return Uc}}function ym(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}function Jg(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const sl={},vm={};function _n(e,t){sl[e]=sl[e]||[],sl[e].push(t)}function Sn(e,t){if(!vm[e]){vm[e]=!0;try{t()}catch(r){we&&de.error(`Error while instrumenting ${e}`,r)}}}function Pr(e,t){const r=e&&sl[e];if(r)for(const n of r)try{n(t)}catch(a){we&&de.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ms(n)}
Error:`,a)}}let Dc=null;function oj(e){const t="error";_n(t,e),Sn(t,lj)}function lj(){Dc=ze.onerror,ze.onerror=function(e,t,r,n,a){return Pr("error",{column:n,error:a,line:r,msg:e,url:t}),Dc?Dc.apply(this,arguments):!1},ze.onerror.__SENTRY_INSTRUMENTED__=!0}let Mc=null;function cj(e){const t="unhandledrejection";_n(t,e),Sn(t,dj)}function dj(){Mc=ze.onunhandledrejection,ze.onunhandledrejection=function(e){return Pr("unhandledrejection",e),Mc?Mc.apply(this,arguments):!0},ze.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Yg=Object.prototype.toString;function nc(e){switch(Yg.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return $s(e,Error)}}function Ra(e,t){return Yg.call(e)===`[object ${t}]`}function Qg(e){return Ra(e,"ErrorEvent")}function wm(e){return Ra(e,"DOMError")}function uj(e){return Ra(e,"DOMException")}function as(e){return Ra(e,"String")}function xh(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ac(e){return e===null||xh(e)||typeof e!="object"&&typeof e!="function"}function _i(e){return Ra(e,"Object")}function ic(e){return typeof Event<"u"&&$s(e,Event)}function hj(e){return typeof Element<"u"&&$s(e,Element)}function fj(e){return Ra(e,"RegExp")}function no(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function mj(e){return _i(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function $s(e,t){try{return e instanceof t}catch{return!1}}function Xg(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function Zg(e){return typeof Request<"u"&&$s(e,Request)}const gh=ze,pj=80;function e0(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,a=[];let i=0,o=0;const l=" > ",c=l.length;let d;const u=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||pj;for(;r&&i++<n&&(d=xj(r,u),!(d==="html"||i>1&&o+a.length*c+d.length>=h));)a.push(d),o+=d.length,r=r.parentNode;return a.reverse().join(l)}catch{return"<unknown>"}}function xj(e,t){const r=e,n=[];if(!(r!=null&&r.tagName))return"";if(gh.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const a=t!=null&&t.length?t.filter(o=>r.getAttribute(o)).map(o=>[o,r.getAttribute(o)]):null;if(a!=null&&a.length)a.forEach(o=>{n.push(`[${o[0]}="${o[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const o=r.className;if(o&&as(o)){const l=o.split(/\s+/);for(const c of l)n.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const l=r.getAttribute(o);l&&n.push(`[${o}="${l}"]`)}return n.join("")}function bh(){try{return gh.document.location.href}catch{return""}}function gj(e){if(!gh.HTMLElement)return null;let t=e;const r=5;for(let n=0;n<r;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function rr(e,t,r){if(!(t in e))return;const n=e[t];if(typeof n!="function")return;const a=r(n);typeof a=="function"&&t0(a,n);try{e[t]=a}catch{we&&de.log(`Failed to replace method "${t}" in object`,e)}}function pn(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{we&&de.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function t0(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,pn(e,"__sentry_original__",t)}catch{}}function yh(e){return e.__sentry_original__}function r0(e){if(nc(e))return{message:e.message,name:e.name,stack:e.stack,...km(e)};if(ic(e)){const t={type:e.type,target:jm(e.target),currentTarget:jm(e.currentTarget),...km(e)};return typeof CustomEvent<"u"&&$s(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function jm(e){try{return hj(e)?e0(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function km(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function bj(e){const t=Object.keys(r0(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function Ad(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Nm(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const a=e[n];try{Xg(a)?r.push(Jg(a)):r.push(String(a))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function nl(e,t,r=!1){return as(e)?fj(t)?t.test(e):as(t)?r?e===t:e.includes(t):!1:!1}function oc(e,t=[],r=!1){return t.some(n=>nl(e,n,r))}function yj(){const e=ze;return e.crypto||e.msCrypto}let $c;function vj(){return Math.random()*16}function mr(e=yj()){try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return $c||($c="10000000100040008000"+1e11),$c.replace(/[018]/g,t=>(t^(vj()&15)>>t/4).toString(16))}function s0(e){var t,r;return(r=(t=e.exception)==null?void 0:t.values)==null?void 0:r[0]}function en(e){const{message:t,event_id:r}=e;if(t)return t;const n=s0(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Od(e,t,r){const n=e.exception=e.exception||{},a=n.values=n.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function ua(e,t){const r=s0(e);if(!r)return;const n={type:"generic",handled:!0},a=r.mechanism;if(r.mechanism={...n,...a,...t},t&&"data"in t){const i={...a==null?void 0:a.data,...t.data};r.mechanism.data=i}}function _m(e){if(wj(e))return!0;try{pn(e,"__sentry_captured__",!0)}catch{}return!1}function wj(e){try{return e.__sentry_captured__}catch{}}const n0=1e3;function ao(){return Date.now()/n0}function jj(){const{performance:e}=ze;if(!(e!=null&&e.now)||!e.timeOrigin)return ao;const t=e.timeOrigin;return()=>(t+e.now())/n0}let Sm;function is(){return(Sm??(Sm=jj()))()}function kj(e){const t=is(),r={sid:mr(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>_j(r)};return e&&ha(r,e),r}function ha(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||is(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:mr()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Nj(e,t){let r={};e.status==="ok"&&(r={status:"exited"}),ha(e,r)}function _j(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function io(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&Object.keys(t).length===0)return e;const n={...e};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=io(n[a],t[a],r-1));return n}function Em(){return mr()}function a0(){return mr().substring(16)}const Ld="_sentrySpan";function Tm(e,t){t?pn(e,Ld,t):delete e[Ld]}function Cm(e){return e[Ld]}const Sj=100;let xn=class Ud{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Em(),sampleRand:Math.random()}}clone(){const t=new Ud;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Tm(t,Cm(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ha(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this.setTags({[t]:r})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,r){return this.setAttributes({[t]:r})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,n=r instanceof Ud?r.getScopeData():_i(r)?t:void 0,{tags:a,attributes:i,extra:o,user:l,contexts:c,level:d,fingerprint:u=[],propagationContext:h}=n||{};return this._tags={...this._tags,...a},this._attributes={...this._attributes,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),d&&(this._level=d),u.length&&(this._fingerprint=u),h&&(this._propagationContext=h),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Tm(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Em(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){var i;const n=typeof r=="number"?r:Sj;if(n<=0)return this;const a={timestamp:ao(),...t,message:t.message?Ad(t.message,2048):t.message};return this._breadcrumbs.push(a),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),(i=this._client)==null||i.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Cm(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=io(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=(r==null?void 0:r.event_id)||mr();if(!this._client)return we&&de.warn("No client configured on scope - will not capture exception!"),n;const a=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:a,...r,event_id:n},this),n}captureMessage(t,r,n){const a=(n==null?void 0:n.event_id)||mr();if(!this._client)return we&&de.warn("No client configured on scope - will not capture message!"),a;const i=(n==null?void 0:n.syntheticException)??new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:a},this),a}captureEvent(t,r){const n=(r==null?void 0:r.event_id)||mr();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(we&&de.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Ej(){return Ca("defaultCurrentScope",()=>new xn)}function Tj(){return Ca("defaultIsolationScope",()=>new xn)}class Cj{constructor(t,r){let n;t?n=t:n=new xn;let a;r?a=r:a=new xn,this._stack=[{scope:n}],this._isolationScope=a}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(a){throw this._popScope(),a}return no(n)?n.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function fa(){const e=rc(),t=sc(e);return t.stack=t.stack||new Cj(Ej(),Tj())}function Pj(e){return fa().withScope(e)}function Rj(e,t){const r=fa();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function Pm(e){return fa().withScope(()=>e(fa().getIsolationScope()))}function Ij(){return{withIsolationScope:Pm,withScope:Pj,withSetScope:Rj,withSetIsolationScope:(e,t)=>Pm(t),getCurrentScope:()=>fa().getScope(),getIsolationScope:()=>fa().getIsolationScope()}}function vh(e){const t=sc(e);return t.acs?t.acs:Ij()}function hs(){const e=rc();return vh(e).getCurrentScope()}function En(){const e=rc();return vh(e).getIsolationScope()}function Aj(){return Ca("globalScope",()=>new xn)}function wh(...e){const t=rc(),r=vh(t);if(e.length===2){const[n,a]=e;return n?r.withSetScope(n,a):r.withScope(a)}return r.withScope(e[0])}function Nt(){return hs().getClient()}function Oj(e){const t=e.getPropagationContext(),{traceId:r,parentSpanId:n,propagationSpanId:a}=t,i={trace_id:r,span_id:a||a0()};return n&&(i.parent_span_id=n),i}const Lj="sentry.source",Uj="sentry.sample_rate",Dj="sentry.previous_trace_sample_rate",Mj="sentry.op",$j="sentry.origin",i0="sentry.profile_id",o0="sentry.exclusive_time",Fj=0,Bj=1,zj="_sentryScope",Wj="_sentryIsolationScope";function qj(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function l0(e){const t=e;return{scope:t[zj],isolationScope:qj(t[Wj])}}const Hj="sentry-",Gj=/^sentry-/;function Vj(e){const t=Kj(e);if(!t)return;const r=Object.entries(t).reduce((n,[a,i])=>{if(a.match(Gj)){const o=a.slice(Hj.length);n[o]=i}return n},{});if(Object.keys(r).length>0)return r}function Kj(e){if(!(!e||!as(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,r)=>{const n=Rm(r);return Object.entries(n).forEach(([a,i])=>{t[a]=i}),t},{}):Rm(e)}function Rm(e){return e.split(",").map(t=>{const r=t.indexOf("=");if(r===-1)return[];const n=t.slice(0,r),a=t.slice(r+1);return[n,a].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}const Jj=/^o(\d+)\./,Yj=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Qj(e){return e==="http"||e==="https"}function Ia(e,t=!1){const{host:r,path:n,pass:a,port:i,projectId:o,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&a?`:${a}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${o}`}function Xj(e){const t=Yj.exec(e);if(!t){Pa(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[r,n,a="",i="",o="",l=""]=t.slice(1);let c="",d=l;const u=d.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),d=u.pop()),d){const h=d.match(/^\d+/);h&&(d=h[0])}return c0({host:i,pass:a,path:c,projectId:d,port:o,protocol:r,publicKey:n})}function c0(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Zj(e){if(!we)return!0;const{port:t,projectId:r,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(de.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:r.match(/^\d+$/)?Qj(n)?t&&isNaN(parseInt(t,10))?(de.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(de.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(de.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function ek(e){const t=e.match(Jj);return t==null?void 0:t[1]}function tk(e){const t=e.getOptions(),{host:r}=e.getDsn()||{};let n;return t.orgId?n=String(t.orgId):r&&(n=ek(r)),n}function d0(e){const t=typeof e=="string"?Xj(e):c0(e);if(!(!t||!Zj(t)))return t}function rk(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const u0=1;let Im=!1;function sk(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext(),a=n?t:jh(e).parent_span_id,i=l0(e).scope,o=n?(i==null?void 0:i.getPropagationContext().propagationSpanId)||a0():t;return{parent_span_id:a,span_id:o,trace_id:r}}function nk(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:r,traceFlags:n,...a},attributes:i})=>({span_id:t,trace_id:r,sampled:n===u0,attributes:i,...a}))}function Am(e){return typeof e=="number"?Om(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Om(e.getTime()):is()}function Om(e){return e>9999999999?e/1e3:e}function jh(e){var n;if(ik(e))return e.getSpanJSON();const{spanId:t,traceId:r}=e.spanContext();if(ak(e)){const{attributes:a,startTime:i,name:o,endTime:l,status:c,links:d}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(n=e.parentSpanContext)==null?void 0:n.spanId:void 0;return{span_id:t,trace_id:r,data:a,description:o,parent_span_id:u,start_timestamp:Am(i),timestamp:Am(l)||void 0,status:lk(c),op:a[Mj],origin:a[$j],links:nk(d)}}return{span_id:t,trace_id:r,start_timestamp:0,data:{}}}function ak(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function ik(e){return typeof e.getSpanJSON=="function"}function ok(e){const{traceFlags:t}=e.spanContext();return t===u0}function lk(e){if(!(!e||e.code===Fj))return e.code===Bj?"ok":e.message||"internal_error"}const ck="_sentryRootSpan";function h0(e){return e[ck]||e}function Lm(){Im||(Pa(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Im=!0)}function dk(e){var r;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=(r=Nt())==null?void 0:r.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Um(e){de.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Dm(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const r of t){if(hk(r)){if(nl(e.description,r))return we&&Um(e),!0;continue}if(!r.name&&!r.op)continue;const n=r.name?nl(e.description,r.name):!0,a=r.op?e.op&&nl(e.op,r.op):!0;if(n&&a)return we&&Um(e),!0}return!1}function uk(e,t){const r=t.parent_span_id,n=t.span_id;if(r)for(const a of e)a.parent_span_id===n&&(a.parent_span_id=r)}function hk(e){return typeof e=="string"||e instanceof RegExp}const kh="production",fk="_frozenDsc";function f0(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},a={environment:r.environment||kh,release:r.release,public_key:n,trace_id:e,org_id:tk(t)};return t.emit("createDsc",a),a}function mk(e,t){const r=t.getPropagationContext();return r.dsc||f0(r.traceId,e)}function pk(e){var g;const t=Nt();if(!t)return{};const r=h0(e),n=jh(r),a=n.data,i=r.spanContext().traceState,o=(i==null?void 0:i.get("sentry.sample_rate"))??a[Uj]??a[Dj];function l(y){return(typeof o=="number"||typeof o=="string")&&(y.sample_rate=`${o}`),y}const c=r[fk];if(c)return l(c);const d=i==null?void 0:i.get("sentry.dsc"),u=d&&Vj(d);if(u)return l(u);const h=f0(e.spanContext().traceId,t),f=a[Lj],m=n.description;return f!=="url"&&m&&(h.transaction=m),dk()&&(h.sampled=String(ok(r)),h.sample_rand=(i==null?void 0:i.get("sentry.sample_rand"))??((g=l0(r).scope)==null?void 0:g.getPropagationContext().sampleRand.toString())),l(h),t.emit("createDsc",h,r),h}function Xr(e,t=100,r=1/0){try{return Dd("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function m0(e,t=3,r=100*1024){const n=Xr(e,t);return yk(n)>r?m0(e,t-1,r):n}function Dd(e,t,r=1/0,n=1/0,a=vk()){const[i,o]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=xk(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const d=t;if(d&&typeof d.toJSON=="function")try{const m=d.toJSON();return Dd("",m,c-1,n,a)}catch{}const u=Array.isArray(t)?[]:{};let h=0;const f=r0(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(h>=n){u[m]="[MaxProperties ~]";break}const g=f[m];u[m]=Dd(m,g,c-1,n,a),h++}return o(t),u}function xk(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Xg(t))return Jg(t);if(mj(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Ms(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const r=gk(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function gk(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function bk(e){return~-encodeURI(e).split(/%..|./).length}function yk(e){return bk(JSON.stringify(e))}function vk(){const e=new WeakSet;function t(n){return e.has(n)?!0:(e.add(n),!1)}function r(n){e.delete(n)}return[t,r]}function Aa(e,t=[]){return[e,t]}function wk(e,t){const[r,n]=e;return[r,[...n,t]]}function Mm(e,t){const r=e[1];for(const n of r){const a=n[0].type;if(t(n,a))return!0}return!1}function Md(e){const t=sc(ze);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function jk(e){const[t,r]=e;let n=JSON.stringify(t);function a(i){typeof n=="string"?n=typeof i=="string"?n+i:[Md(n),i]:n.push(typeof i=="string"?Md(i):i)}for(const i of r){const[o,l]=i;if(a(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)a(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(Xr(l))}a(c)}}return typeof n=="string"?n:kk(n)}function kk(e){const t=e.reduce((a,i)=>a+i.length,0),r=new Uint8Array(t);let n=0;for(const a of e)r.set(a,n),n+=a.length;return r}function Nk(e){const t=typeof e.data=="string"?Md(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const _k={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function $m(e){return _k[e]}function p0(e){if(!(e!=null&&e.sdk))return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function Sk(e,t,r,n){var i;const a=(i=e.sdkProcessingMetadata)==null?void 0:i.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:Ia(n)},...a&&{trace:a}}}function Ek(e,t){var n,a,i,o;if(!t)return e;const r=e.sdk||{};return e.sdk={...r,name:r.name||t.name,version:r.version||t.version,integrations:[...((n=e.sdk)==null?void 0:n.integrations)||[],...t.integrations||[]],packages:[...((a=e.sdk)==null?void 0:a.packages)||[],...t.packages||[]],settings:(i=e.sdk)!=null&&i.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function Tk(e,t,r,n){const a=p0(r),i={sent_at:new Date().toISOString(),...a&&{sdk:a},...!!n&&t&&{dsn:Ia(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Aa(i,[o])}function Ck(e,t,r,n){const a=p0(r),i=e.type&&e.type!=="replay_event"?e.type:"event";Ek(e,r==null?void 0:r.sdk);const o=Sk(e,a,n,t);return delete e.sdkProcessingMetadata,Aa(o,[[{type:i},e]])}const Fc=0,Fm=1,Bm=2;function lc(e){return new Si(t=>{t(e)})}function Nh(e){return new Si((t,r)=>{r(e)})}class Si{constructor(t){this._state=Fc,this._handlers=[],this._runExecutor(t)}then(t,r){return new Si((n,a)=>{this._handlers.push([!1,i=>{if(!t)n(i);else try{n(t(i))}catch(o){a(o)}},i=>{if(!r)a(i);else try{n(r(i))}catch(o){a(o)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Si((r,n)=>{let a,i;return this.then(o=>{i=!1,a=o,t&&t()},o=>{i=!0,a=o,t&&t()}).then(()=>{if(i){n(a);return}r(a)})})}_executeHandlers(){if(this._state===Fc)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Fm&&r[1](this._value),this._state===Bm&&r[2](this._value),r[0]=!0)})}_runExecutor(t){const r=(i,o)=>{if(this._state===Fc){if(no(o)){o.then(n,a);return}this._state=i,this._value=o,this._executeHandlers()}},n=i=>{r(Fm,i)},a=i=>{r(Bm,i)};try{t(n,a)}catch(i){a(i)}}}function Pk(e,t,r,n=0){try{const a=$d(t,r,e,n);return no(a)?a:lc(a)}catch(a){return Nh(a)}}function $d(e,t,r,n){const a=r[n];if(!e||!a)return e;const i=a({...e},t);return we&&i===null&&de.log(`Event processor "${a.id||"?"}" dropped event`),no(i)?i.then(o=>$d(o,t,r,n+1)):$d(i,t,r,n+1)}function Rk(e,t){const{fingerprint:r,span:n,breadcrumbs:a,sdkProcessingMetadata:i}=t;Ik(e,t),n&&Lk(e,n),Uk(e,r),Ak(e,a),Ok(e,i)}function zm(e,t){const{extra:r,tags:n,attributes:a,user:i,contexts:o,level:l,sdkProcessingMetadata:c,breadcrumbs:d,fingerprint:u,eventProcessors:h,attachments:f,propagationContext:m,transactionName:g,span:y}=t;qa(e,"extra",r),qa(e,"tags",n),qa(e,"attributes",a),qa(e,"user",i),qa(e,"contexts",o),e.sdkProcessingMetadata=io(e.sdkProcessingMetadata,c,2),l&&(e.level=l),g&&(e.transactionName=g),y&&(e.span=y),d.length&&(e.breadcrumbs=[...e.breadcrumbs,...d]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),h.length&&(e.eventProcessors=[...e.eventProcessors,...h]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...m}}function qa(e,t,r){e[t]=io(e[t],r,1)}function Ik(e,t){const{extra:r,tags:n,user:a,contexts:i,level:o,transactionName:l}=t;Object.keys(r).length&&(e.extra={...r,...e.extra}),Object.keys(n).length&&(e.tags={...n,...e.tags}),Object.keys(a).length&&(e.user={...a,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),l&&e.type!=="transaction"&&(e.transaction=l)}function Ak(e,t){const r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function Ok(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Lk(e,t){e.contexts={trace:sk(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:pk(t),...e.sdkProcessingMetadata};const r=h0(t),n=jh(r).description;n&&!e.transaction&&e.type==="transaction"&&(e.transaction=n)}function Uk(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Yr,Wm,qm,gs;function Dk(e){const t=ze._sentryDebugIds,r=ze._debugIds;if(!t&&!r)return{};const n=t?Object.keys(t):[],a=r?Object.keys(r):[];if(gs&&n.length===Wm&&a.length===qm)return gs;Wm=n.length,qm=a.length,gs={},Yr||(Yr={});const i=(o,l)=>{for(const c of o){const d=l[c],u=Yr==null?void 0:Yr[c];if(u&&gs&&d)gs[u[0]]=d,Yr&&(Yr[c]=[u[0],d]);else if(d){const h=e(c);for(let f=h.length-1;f>=0;f--){const m=h[f],g=m==null?void 0:m.filename;if(g&&gs&&Yr){gs[g]=d,Yr[c]=[g,d];break}}}}};return t&&i(n,t),r&&i(a,r),gs}function Mk(e,t,r,n,a,i){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||mr(),timestamp:t.timestamp||ao()},d=r.integrations||e.integrations.map(w=>w.name);$k(c,e),zk(c,d),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&Fk(c,e.stackParser);const u=qk(n,r.captureContext);r.mechanism&&ua(c,r.mechanism);const h=a?a.getEventProcessors():[],f=Aj().getScopeData();if(i){const w=i.getScopeData();zm(f,w)}if(u){const w=u.getScopeData();zm(f,w)}const m=[...r.attachments||[],...f.attachments];m.length&&(r.attachments=m),Rk(c,f);const g=[...h,...f.eventProcessors];return Pk(g,c,r).then(w=>(w&&Bk(w),typeof o=="number"&&o>0?Wk(w,o,l):w))}function $k(e,t){var l,c;const{environment:r,release:n,dist:a,maxValueLength:i}=t;e.environment=e.environment||r||kh,!e.release&&n&&(e.release=n),!e.dist&&a&&(e.dist=a);const o=e.request;o!=null&&o.url&&i&&(o.url=Ad(o.url,i)),i&&((c=(l=e.exception)==null?void 0:l.values)==null||c.forEach(d=>{d.value&&(d.value=Ad(d.value,i))}))}function Fk(e,t){var n,a;const r=Dk(t);(a=(n=e.exception)==null?void 0:n.values)==null||a.forEach(i=>{var o,l;(l=(o=i.stacktrace)==null?void 0:o.frames)==null||l.forEach(c=>{c.filename&&(c.debug_id=r[c.filename])})})}function Bk(e){var n,a;const t={};if((a=(n=e.exception)==null?void 0:n.values)==null||a.forEach(i=>{var o,l;(l=(o=i.stacktrace)==null?void 0:o.frames)==null||l.forEach(c=>{c.debug_id&&(c.abs_path?t[c.abs_path]=c.debug_id:c.filename&&(t[c.filename]=c.debug_id),delete c.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;Object.entries(t).forEach(([i,o])=>{r.push({type:"sourcemap",code_file:i,debug_id:o})})}function zk(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Wk(e,t,r){var a,i;if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Xr(o.data,t,r)}}))},...e.user&&{user:Xr(e.user,t,r)},...e.contexts&&{contexts:Xr(e.contexts,t,r)},...e.extra&&{extra:Xr(e.extra,t,r)}};return(a=e.contexts)!=null&&a.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=Xr(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(o=>({...o,...o.data&&{data:Xr(o.data,t,r)}}))),(i=e.contexts)!=null&&i.flags&&n.contexts&&(n.contexts.flags=Xr(e.contexts.flags,3,r)),n}function qk(e,t){if(!t)return e;const r=e?e.clone():new xn;return r.update(t),r}function Hk(e){if(e)return Gk(e)?{captureContext:e}:Kk(e)?{captureContext:e}:e}function Gk(e){return e instanceof xn||typeof e=="function"}const Vk=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Kk(e){return Object.keys(e).some(t=>Vk.includes(t))}function x0(e,t){return hs().captureException(e,Hk(t))}function g0(e,t){return hs().captureEvent(e,t)}function Jk(e,t){En().setContext(e,t)}function Yk(){return En().lastEventId()}function Hm(e){const t=En(),r=hs(),{userAgent:n}=ze.navigator||{},a=kj({user:r.getUser()||t.getUser(),...n&&{userAgent:n},...e}),i=t.getSession();return(i==null?void 0:i.status)==="ok"&&ha(i,{status:"exited"}),b0(),t.setSession(a),a}function b0(){const e=En(),r=hs().getSession()||e.getSession();r&&Nj(r),y0(),e.setSession()}function y0(){const e=En(),t=Nt(),r=e.getSession();r&&t&&t.captureSession(r)}function Gm(e=!1){if(e){b0();return}y0()}const Qk="7";function v0(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function Xk(e){return`${v0(e)}${e.projectId}/envelope/`}function Zk(e,t){const r={sentry_version:Qk};return e.publicKey&&(r.sentry_key=e.publicKey),t&&(r.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(r).toString()}function eN(e,t,r){return t||`${Xk(e)}?${Zk(e,r)}`}function tN(e,t){const r=d0(e);if(!r)return"";const n=`${v0(r)}embed/error-page/`;let a=`dsn=${Ia(r)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(a+=`&name=${encodeURIComponent(o.name)}`),o.email&&(a+=`&email=${encodeURIComponent(o.email)}`)}else a+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${n}?${a}`}const Vm=[];function rN(e){const t={};return e.forEach(r=>{const{name:n}=r,a=t[n];a&&!a.isDefaultInstance&&r.isDefaultInstance||(t[n]=r)}),Object.values(t)}function sN(e){const t=e.defaultIntegrations||[],r=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...t,...r];else if(typeof r=="function"){const a=r(t);n=Array.isArray(a)?a:[a]}else n=t;return rN(n)}function nN(e,t){const r={};return t.forEach(n=>{n&&w0(e,n,r)}),r}function Km(e,t){for(const r of t)r!=null&&r.afterAllSetup&&r.afterAllSetup(e)}function w0(e,t,r){if(r[t.name]){we&&de.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,!Vm.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Vm.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>n(a,i,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),a=Object.assign((i,o)=>n(i,o,e),{id:t.name});e.addEventProcessor(a)}we&&de.log(`Integration installed: ${t.name}`)}function aN(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function iN(e,t,r,n){const a={};return t!=null&&t.sdk&&(a.sdk={name:t.sdk.name,version:t.sdk.version}),r&&n&&(a.dsn=Ia(n)),Aa(a,[aN(e)])}function j0(e,t){const r=t??oN(e)??[];if(r.length===0)return;const n=e.getOptions(),a=iN(r,n._metadata,n.tunnel,e.getDsn());k0().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(a)}function oN(e){return k0().get(e)}function k0(){return Ca("clientToLogBufferMap",()=>new WeakMap)}function lN(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function cN(e,t,r,n){const a={};return t!=null&&t.sdk&&(a.sdk={name:t.sdk.name,version:t.sdk.version}),r&&n&&(a.dsn=Ia(n)),Aa(a,[lN(e)])}function N0(e,t){const r=t??dN(e)??[];if(r.length===0)return;const n=e.getOptions(),a=cN(r,n._metadata,n.tunnel,e.getDsn());_0().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(a)}function dN(e){return _0().get(e)}function _0(){return Ca("clientToMetricBufferMap",()=>new WeakMap)}const _h=Symbol.for("SentryBufferFullError");function Sh(e=100){const t=new Set;function r(){return t.size<e}function n(o){t.delete(o)}function a(o){if(!r())return Nh(_h);const l=o();return t.add(l),l.then(()=>n(l),()=>n(l)),l}function i(o){if(!t.size)return lc(!0);const l=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return l;const c=[l,new Promise(d=>setTimeout(()=>d(!1),o))];return Promise.race(c)}return{get $(){return Array.from(t)},add:a,drain:i}}const uN=60*1e3;function hN(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;const n=Date.parse(`${e}`);return isNaN(n)?uN:n-t}function fN(e,t){return e[t]||e.all||0}function mN(e,t,r=Date.now()){return fN(e,t)>r}function pN(e,{statusCode:t,headers:r},n=Date.now()){const a={...e},i=r==null?void 0:r["x-sentry-rate-limits"],o=r==null?void 0:r["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,d,,,u]=l.split(":",5),h=parseInt(c,10),f=(isNaN(h)?60:h)*1e3;if(!d)a.all=n+f;else for(const m of d.split(";"))m==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(a[m]=n+f):a[m]=n+f}else o?a.all=n+hN(o,n):t===429&&(a.all=n+60*1e3);return a}const S0=64;function xN(e,t,r=Sh(e.bufferSize||S0)){let n={};const a=o=>r.drain(o);function i(o){const l=[];if(Mm(o,(h,f)=>{const m=$m(f);mN(n,m)?e.recordDroppedEvent("ratelimit_backoff",m):l.push(h)}),l.length===0)return Promise.resolve({});const c=Aa(o[0],l),d=h=>{Mm(c,(f,m)=>{e.recordDroppedEvent(h,$m(m))})},u=()=>t({body:jk(c)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&we&&de.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),n=pN(n,h),h),h=>{throw d("network_error"),we&&de.error("Encountered error running transport request:",h),h});return r.add(u).then(h=>h,h=>{if(h===_h)return we&&de.error("Skipped sending event because buffer is full."),d("queue_overflow"),Promise.resolve({});throw h})}return{send:i,flush:a}}function gN(e,t,r){const n=[{type:"client_report"},{timestamp:ao(),discarded_events:e}];return Aa(t?{dsn:t}:{},[n])}function E0(e){const t=[];e.message&&t.push(e.message);try{const r=e.exception.values[e.exception.values.length-1];r!=null&&r.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`))}catch{}return t}function bN(e){var c;const{trace_id:t,parent_span_id:r,span_id:n,status:a,origin:i,data:o,op:l}=((c=e.contexts)==null?void 0:c.trace)??{};return{data:o??{},description:e.transaction,op:l,parent_span_id:r,span_id:n??"",start_timestamp:e.start_timestamp??0,status:a,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o==null?void 0:o[i0],exclusive_time:o==null?void 0:o[o0],measurements:e.measurements,is_segment:!0}}function yN(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[i0]:e.profile_id},...e.exclusive_time&&{[o0]:e.exclusive_time}}}},measurements:e.measurements}}const Jm="Not capturing exception because it's already been captured.",Ym="Discarded session because of missing or non-string release",T0=Symbol.for("SentryInternalError"),C0=Symbol.for("SentryDoNotSendEventError"),vN=5e3;function al(e){return{message:e,[T0]:!0}}function Bc(e){return{message:e,[C0]:!0}}function Qm(e){return!!e&&typeof e=="object"&&T0 in e}function Xm(e){return!!e&&typeof e=="object"&&C0 in e}function Zm(e,t,r,n,a){let i=0,o,l=!1;e.on(r,()=>{i=0,clearTimeout(o),l=!1}),e.on(t,c=>{i+=n(c),i>=8e5?a(e):l||(l=!0,o=setTimeout(()=>{a(e)},vN))}),e.on("flush",()=>{a(e)})}class wN{constructor(t){var n,a,i;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Sh(((n=t.transportOptions)==null?void 0:n.bufferSize)??S0),t.dsn?this._dsn=d0(t.dsn):we&&de.warn("No DSN provided, client will not send events."),this._dsn){const o=eN(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??((a=this._options._experiments)==null?void 0:a.enableLogs),this._options.enableLogs&&Zm(this,"afterCaptureLog","flushLogs",_N,j0),(this._options.enableMetrics??((i=this._options._experiments)==null?void 0:i.enableMetrics)??!0)&&Zm(this,"afterCaptureMetric","flushMetrics",NN,N0)}captureException(t,r,n){const a=mr();if(_m(t))return we&&de.log(Jm),a;const i={event_id:a,...r};return this._process(()=>this.eventFromException(t,i).then(o=>this._captureEvent(o,i,n)).then(o=>o),"error"),i.event_id}captureMessage(t,r,n,a){const i={event_id:mr(),...n},o=xh(t)?t:String(t),l=ac(t),c=l?this.eventFromMessage(o,r,i):this.eventFromException(t,i);return this._process(()=>c.then(d=>this._captureEvent(d,i,a)),l?"unknown":"error"),i.event_id}captureEvent(t,r,n){const a=mr();if(r!=null&&r.originalException&&_m(r.originalException))return we&&de.log(Jm),a;const i={event_id:a,...r},o=t.sdkProcessingMetadata||{},l=o.capturedSpanScope,c=o.capturedSpanIsolationScope,d=ep(t.type);return this._process(()=>this._captureEvent(t,i,l||n,c),d),i.event_id}captureSession(t){this.sendSession(t),ha(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const r=this._transport;if(!r)return!0;this.emit("flush");const n=await this._isClientDoneProcessing(t),a=await r.flush(t);return n&&a}async close(t){const r=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),r}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];w0(this,t,this._integrations),r||Km(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=Ck(t,this._dsn,this._options._metadata,this._options.tunnel);for(const a of r.attachments||[])n=wk(n,Nk(a));this.sendEnvelope(n).then(a=>this.emit("afterSendEvent",t,a))}sendSession(t){const{release:r,environment:n=kh}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!r){we&&de.warn(Ym);return}i.release=i.release||r,i.environment=i.environment||n,t.attrs=i}else{if(!t.release&&!r){we&&de.warn(Ym);return}t.release=t.release||r,t.environment=t.environment||n}this.emit("beforeSendSession",t);const a=Tk(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(a)}recordDroppedEvent(t,r,n=1){if(this._options.sendClientReports){const a=`${t}:${r}`;we&&de.log(`Recording outcome: "${a}"${n>1?` (${n} times)`:""}`),this._outcomes[a]=(this._outcomes[a]||0)+n}}on(t,r){const n=this._hooks[t]=this._hooks[t]||new Set,a=(...i)=>r(...i);return n.add(a),()=>{n.delete(a)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(a=>a(...r))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(r){return we&&de.error("Error while sending envelope:",r),{}}return we&&de.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=nN(this,t),Km(this,t)}_updateSessionFromEvent(t,r){var c,d;let n=r.level==="fatal",a=!1;const i=(c=r.exception)==null?void 0:c.values;if(i){a=!0,n=!1;for(const u of i)if(((d=u.mechanism)==null?void 0:d.handled)===!1){n=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&n)&&(ha(t,{...n&&{status:"crashed"},errors:t.errors||Number(a||n)}),this.captureSession(t))}async _isClientDoneProcessing(t){let r=0;for(;!t||r<t;){if(await new Promise(n=>setTimeout(n,1)),!this._numProcessing)return!0;r++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n,a){const i=this.getOptions(),o=Object.keys(this._integrations);return!r.integrations&&(o!=null&&o.length)&&(r.integrations=o),this.emit("preprocessEvent",t,r),t.type||a.setLastEventId(t.event_id||r.event_id),Mk(i,t,r,n,this,a).then(l=>{if(l===null)return l;this.emit("postprocessEvent",l,r),l.contexts={trace:Oj(n),...l.contexts};const c=mk(this,n);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,r={},n=hs(),a=En()){return we&&Fd(t)&&de.log(`Captured error event \`${E0(t)[0]||"<unknown>"}\``),this._processEvent(t,r,n,a).then(i=>i.event_id,i=>{we&&(Xm(i)?de.log(i.message):Qm(i)?de.warn(i.message):de.warn(i))})}_processEvent(t,r,n,a){const i=this.getOptions(),{sampleRate:o}=i,l=P0(t),c=Fd(t),u=`before send for type \`${t.type||"error"}\``,h=typeof o>"u"?void 0:rk(o);if(c&&typeof h=="number"&&Math.random()>h)return this.recordDroppedEvent("sample_rate","error"),Nh(Bc(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const f=ep(t.type);return this._prepareEvent(t,r,n,a).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",f),Bc("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return m;const y=kN(this,i,m,r);return jN(y,u)}).then(m=>{var w;if(m===null){if(this.recordDroppedEvent("before_send",f),l){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw Bc(`${u} returned \`null\`, will not send event.`)}const g=n.getSession()||a.getSession();if(c&&g&&this._updateSessionFromEvent(g,m),l){const b=((w=m.sdkProcessingMetadata)==null?void 0:w.spanCountBeforeProcessing)||0,x=m.spans?m.spans.length:0,v=b-x;v>0&&this.recordDroppedEvent("before_send","span",v)}const y=m.transaction_info;if(l&&y&&m.transaction!==t.transaction){const b="custom";m.transaction_info={...y,source:b}}return this.sendEvent(m,r),m}).then(null,m=>{throw Xm(m)||Qm(m)?m:(this.captureException(m,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:m}),al(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t,r){this._numProcessing++,this._promiseBuffer.add(t).then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n===_h&&this.recordDroppedEvent("queue_overflow",r),n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[a,i]=r.split(":");return{reason:a,category:i,quantity:n}})}_flushOutcomes(){we&&de.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){we&&de.log("No outcomes to send");return}if(!this._dsn){we&&de.log("No dsn provided, will not send outcomes");return}we&&de.log("Sending outcomes:",t);const r=gN(t,this._options.tunnel&&Ia(this._dsn));this.sendEnvelope(r)}}function ep(e){return e==="replay_event"?"replay":e||"error"}function jN(e,t){const r=`${t} must return \`null\` or a valid event.`;if(no(e))return e.then(n=>{if(!_i(n)&&n!==null)throw al(r);return n},n=>{throw al(`${t} rejected with ${n}`)});if(!_i(e)&&e!==null)throw al(r);return e}function kN(e,t,r,n){const{beforeSend:a,beforeSendTransaction:i,beforeSendSpan:o,ignoreSpans:l}=t;let c=r;if(Fd(c)&&a)return a(c,n);if(P0(c)){if(o||l){const d=bN(c);if(l!=null&&l.length&&Dm(d,l))return null;if(o){const u=o(d);u?c=io(r,yN(u)):Lm()}if(c.spans){const u=[],h=c.spans;for(const m of h){if(l!=null&&l.length&&Dm(m,l)){uk(h,m);continue}if(o){const g=o(m);g?u.push(g):(Lm(),u.push(m))}else u.push(m)}const f=c.spans.length-u.length;f&&e.recordDroppedEvent("before_send","span",f),c.spans=u}}if(i){if(c.spans){const d=c.spans.length;c.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:d}}return i(c,n)}}return c}function Fd(e){return e.type===void 0}function P0(e){return e.type==="transaction"}function NN(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+R0(e.attributes)}function _N(e){let t=0;return e.message&&(t+=e.message.length*2),t+R0(e.attributes)}function R0(e){if(!e)return 0;let t=0;return Object.values(e).forEach(r=>{Array.isArray(r)?t+=r.length*tp(r[0]):ac(r)?t+=tp(r):t+=100}),t}function tp(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function SN(e,t){t.debug===!0&&(we?de.enable():Pa(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),hs().update(t.initialScope);const n=new e(t);return EN(n),n.init(),n}function EN(e){hs().setClient(e)}function zc(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function TN(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function I0(e,t,r=[t],n="npm"){const a=e._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${t}`,packages:r.map(i=>({name:`${n}:@sentry/${i}`,version:cn})),version:cn}),e._metadata=a}const CN=100;function gn(e,t){const r=Nt(),n=En();if(!r)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:i=CN}=r.getOptions();if(i<=0)return;const l={timestamp:ao(),...e},c=a?Pa(()=>a(l,t)):l;c!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,i))}let rp;const PN="FunctionToString",sp=new WeakMap,RN=()=>({name:PN,setupOnce(){rp=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=yh(this),r=sp.has(Nt())&&t!==void 0?t:this;return rp.apply(r,e)}}catch{}},setup(e){sp.set(e,!0)}}),IN=RN,AN=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],ON="EventFilters",LN=(e={})=>{let t;return{name:ON,setup(r){const n=r.getOptions();t=np(e,n)},processEvent(r,n,a){if(!t){const i=a.getOptions();t=np(e,i)}return DN(r,t)?null:r}}},UN=(e={})=>({...LN(e),name:"InboundFilters"});function np(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:AN],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function DN(e,t){if(e.type){if(e.type==="transaction"&&$N(e,t.ignoreTransactions))return we&&de.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${en(e)}`),!0}else{if(MN(e,t.ignoreErrors))return we&&de.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${en(e)}`),!0;if(WN(e))return we&&de.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${en(e)}`),!0;if(FN(e,t.denyUrls))return we&&de.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${en(e)}.
Url: ${wl(e)}`),!0;if(!BN(e,t.allowUrls))return we&&de.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${en(e)}.
Url: ${wl(e)}`),!0}return!1}function MN(e,t){return t!=null&&t.length?E0(e).some(r=>oc(r,t)):!1}function $N(e,t){if(!(t!=null&&t.length))return!1;const r=e.transaction;return r?oc(r,t):!1}function FN(e,t){if(!(t!=null&&t.length))return!1;const r=wl(e);return r?oc(r,t):!1}function BN(e,t){if(!(t!=null&&t.length))return!0;const r=wl(e);return r?oc(r,t):!0}function zN(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function wl(e){var t,r;try{const n=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(i=>{var o,l,c;return((o=i.mechanism)==null?void 0:o.parent_id)===void 0&&((c=(l=i.stacktrace)==null?void 0:l.frames)==null?void 0:c.length)}),a=(r=n==null?void 0:n.stacktrace)==null?void 0:r.frames;return a?zN(a):null}catch{return we&&de.error(`Cannot extract url for event ${en(e)}`),null}}function WN(e){var t,r;return(r=(t=e.exception)==null?void 0:t.values)!=null&&r.length?!e.message&&!e.exception.values.some(n=>n.stacktrace||n.type&&n.type!=="Error"||n.value):!1}function qN(e,t,r,n,a,i){var l;if(!((l=a.exception)!=null&&l.values)||!i||!$s(i.originalException,Error))return;const o=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;o&&(a.exception.values=Bd(e,t,n,i.originalException,r,a.exception.values,o,0))}function Bd(e,t,r,n,a,i,o,l){if(i.length>=r+1)return i;let c=[...i];if($s(n[a],Error)){ap(o,l);const d=e(t,n[a]),u=c.length;ip(d,a,u,l),c=Bd(e,t,r,n[a],a,[d,...c],d,u)}return Array.isArray(n.errors)&&n.errors.forEach((d,u)=>{if($s(d,Error)){ap(o,l);const h=e(t,d),f=c.length;ip(h,`errors[${u}]`,f,l),c=Bd(e,t,r,d,a,[h,...c],h,f)}}),c}function ap(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function ip(e,t,r,n){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function HN(e){const t="console";_n(t,e),Sn(t,GN)}function GN(){"console"in ze&&Xw.forEach(function(e){e in ze.console&&rr(ze.console,e,function(t){return vl[e]=t,function(...r){Pr("console",{args:r,level:e});const a=vl[e];a==null||a.apply(ze.console,r)}})})}function VN(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const KN="Dedupe",JN=()=>{let e;return{name:KN,processEvent(t){if(t.type)return t;try{if(QN(t,e))return we&&de.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},YN=JN;function QN(e,t){return t?!!(XN(e,t)||ZN(e,t)):!1}function XN(e,t){const r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!O0(e,t)||!A0(e,t))}function ZN(e,t){const r=op(t),n=op(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!O0(e,t)||!A0(e,t))}function A0(e,t){let r=ym(e),n=ym(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let a=0;a<n.length;a++){const i=n[a],o=r[a];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function O0(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function op(e){var t,r;return(r=(t=e.exception)==null?void 0:t.values)==null?void 0:r[0]}function L0(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Ei=ze;function e_(){return"history"in Ei&&!!Ei.history}function t_(){if(!("fetch"in Ei))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function zd(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function r_(){var r;if(typeof EdgeRuntime=="string")return!0;if(!t_())return!1;if(zd(Ei.fetch))return!0;let e=!1;const t=Ei.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),(r=n.contentWindow)!=null&&r.fetch&&(e=zd(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){we&&de.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function s_(e,t){const r="fetch";_n(r,e),Sn(r,()=>n_(void 0,t))}function n_(e,t=!1){t&&!r_()||rr(ze,"fetch",function(r){return function(...n){const a=new Error,{method:i,url:o}=a_(n),l={args:n,fetchData:{method:i,url:o},startTimestamp:is()*1e3,virtualError:a,headers:i_(n)};return Pr("fetch",{...l}),r.apply(ze,n).then(async c=>(Pr("fetch",{...l,endTimestamp:is()*1e3,response:c}),c),c=>{if(Pr("fetch",{...l,endTimestamp:is()*1e3,error:c}),nc(c)&&c.stack===void 0&&(c.stack=a.stack,pn(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const d=new URL(l.fetchData.url);c.message=`${c.message} (${d.host})`}catch{}throw c})}})}function il(e,t){return!!e&&typeof e=="object"&&!!e[t]}function lp(e){return typeof e=="string"?e:e?il(e,"url")?e.url:e.toString?e.toString():"":""}function a_(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[r,n]=e;return{url:lp(r),method:il(n,"method")?String(n.method).toUpperCase():Zg(r)&&il(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:lp(t),method:il(t,"method")?String(t.method).toUpperCase():"GET"}}function i_(e){const[t,r]=e;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if(Zg(t))return new Headers(t.headers)}catch{}}function o_(){return"npm"}const Ge=ze;let Wd=0;function U0(){return Wd>0}function l_(){Wd++,setTimeout(()=>{Wd--})}function ma(e,t={}){function r(a){return typeof a=="function"}if(!r(e))return e;try{const a=e.__sentry_wrapped__;if(a)return typeof a=="function"?a:e;if(yh(e))return e}catch{return e}const n=function(...a){try{const i=a.map(o=>ma(o,t));return e.apply(this,i)}catch(i){throw l_(),wh(o=>{o.addEventProcessor(l=>(t.mechanism&&(Od(l,void 0),ua(l,t.mechanism)),l.extra={...l.extra,arguments:a},l)),x0(i)}),i}};try{for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}catch{}t0(n,e),pn(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch{}return n}function c_(){const e=bh(),{referrer:t}=Ge.document||{},{userAgent:r}=Ge.navigator||{},n={...t&&{Referer:t},...r&&{"User-Agent":r}};return{url:e,headers:n}}function Eh(e,t){const r=Th(e,t),n={type:m_(t),value:p_(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function d_(e,t,r,n){const a=Nt(),i=a==null?void 0:a.getOptions().normalizeDepth,o=v_(t),l={__serialized__:m0(t,i)};if(o)return{exception:{values:[Eh(e,o)]},extra:l};const c={exception:{values:[{type:ic(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:b_(t,{isUnhandledRejection:n})}]},extra:l};if(r){const d=Th(e,r);d.length&&(c.exception.values[0].stacktrace={frames:d})}return c}function Wc(e,t){return{exception:{values:[Eh(e,t)]}}}function Th(e,t){const r=t.stacktrace||t.stack||"",n=h_(t),a=f_(t);try{return e(r,n,a)}catch{}return[]}const u_=/Minified React error #\d+;/i;function h_(e){return e&&u_.test(e.message)?1:0}function f_(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function D0(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function m_(e){const t=e==null?void 0:e.name;return!t&&D0(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function p_(e){const t=e==null?void 0:e.message;return D0(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function x_(e,t,r,n){const a=(r==null?void 0:r.syntheticException)||void 0,i=Ch(e,t,a,n);return ua(i),i.level="error",r!=null&&r.event_id&&(i.event_id=r.event_id),lc(i)}function g_(e,t,r="info",n,a){const i=(n==null?void 0:n.syntheticException)||void 0,o=qd(e,t,i,a);return o.level=r,n!=null&&n.event_id&&(o.event_id=n.event_id),lc(o)}function Ch(e,t,r,n,a){let i;if(Qg(t)&&t.error)return Wc(e,t.error);if(wm(t)||uj(t)){const o=t;if("stack"in t)i=Wc(e,t);else{const l=o.name||(wm(o)?"DOMError":"DOMException"),c=o.message?`${l}: ${o.message}`:l;i=qd(e,c,r,n),Od(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return nc(t)?Wc(e,t):_i(t)||ic(t)?(i=d_(e,t,r,a),ua(i,{synthetic:!0}),i):(i=qd(e,t,r,n),Od(i,`${t}`),ua(i,{synthetic:!0}),i)}function qd(e,t,r,n){const a={};if(n&&r){const i=Th(e,r);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),ua(a,{synthetic:!0})}if(xh(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return a.logentry={message:i,params:o},a}return a.message=t,a}function b_(e,{isUnhandledRejection:t}){const r=bj(e),n=t?"promise rejection":"exception";return Qg(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:ic(e)?`Event \`${y_(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function y_(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function v_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];if(r instanceof Error)return r}}class w_ extends wN{constructor(t){var u;const r=j_(t),n=Ge.SENTRY_SDK_SOURCE||o_();I0(r,"browser",["browser"],n),(u=r._metadata)!=null&&u.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);const{sendDefaultPii:a,sendClientReports:i,enableLogs:o,_experiments:l,enableMetrics:c}=this._options,d=c??(l==null?void 0:l.enableMetrics)??!0;Ge.document&&(i||o||d)&&Ge.document.addEventListener("visibilitychange",()=>{Ge.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),o&&j0(this),d&&N0(this))}),a&&this.on("beforeSendSession",TN)}eventFromException(t,r){return x_(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return g_(this._options.stackParser,t,r,n,this._options.attachStacktrace)}_prepareEvent(t,r,n,a){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n,a)}}function j_(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=Ge.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const k_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ot=ze,N_=1e3;let cp,Hd,Gd;function __(e){const t="dom";_n(t,e),Sn(t,S_)}function S_(){if(!Ot.document)return;const e=Pr.bind(null,"dom"),t=dp(e,!0);Ot.document.addEventListener("click",t,!1),Ot.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{var i,o;const a=(i=Ot[r])==null?void 0:i.prototype;(o=a==null?void 0:a.hasOwnProperty)!=null&&o.call(a,"addEventListener")&&(rr(a,"addEventListener",function(l){return function(c,d,u){if(c==="click"||c=="keypress")try{const h=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=h[c]=h[c]||{refCount:0};if(!f.handler){const m=dp(e);f.handler=m,l.call(this,c,m,u)}f.refCount++}catch{}return l.call(this,c,d,u)}}),rr(a,"removeEventListener",function(l){return function(c,d,u){if(c==="click"||c=="keypress")try{const h=this.__sentry_instrumentation_handlers__||{},f=h[c];f&&(f.refCount--,f.refCount<=0&&(l.call(this,c,f.handler,u),f.handler=void 0,delete h[c]),Object.keys(h).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return l.call(this,c,d,u)}}))})}function E_(e){if(e.type!==Hd)return!1;try{if(!e.target||e.target._sentryId!==Gd)return!1}catch{}return!0}function T_(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function dp(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=C_(r);if(T_(r.type,n))return;pn(r,"_sentryCaptured",!0),n&&!n._sentryId&&pn(n,"_sentryId",mr());const a=r.type==="keypress"?"input":r.type;E_(r)||(e({event:r,name:a,global:t}),Hd=r.type,Gd=n?n._sentryId:void 0),clearTimeout(cp),cp=Ot.setTimeout(()=>{Gd=void 0,Hd=void 0},N_)}}function C_(e){try{return e.target}catch{return null}}let Po;function M0(e){const t="history";_n(t,e),Sn(t,P_)}function P_(){if(Ot.addEventListener("popstate",()=>{const t=Ot.location.href,r=Po;if(Po=t,r===t)return;Pr("history",{from:r,to:t})}),!e_())return;function e(t){return function(...r){const n=r.length>2?r[2]:void 0;if(n){const a=Po,i=R_(String(n));if(Po=i,a===i)return t.apply(this,r);Pr("history",{from:a,to:i})}return t.apply(this,r)}}rr(Ot.history,"pushState",e),rr(Ot.history,"replaceState",e)}function R_(e){try{return new URL(e,Ot.location.origin).toString()}catch{return e}}const ol={};function I_(e){const t=ol[e];if(t)return t;let r=Ot[e];if(zd(r))return ol[e]=r.bind(Ot);const n=Ot.document;if(n&&typeof n.createElement=="function")try{const a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);const i=a.contentWindow;i!=null&&i[e]&&(r=i[e]),n.head.removeChild(a)}catch(a){k_&&de.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,a)}return r&&(ol[e]=r.bind(Ot))}function A_(e){ol[e]=void 0}const ii="__sentry_xhr_v3__";function O_(e){const t="xhr";_n(t,e),Sn(t,L_)}function L_(){if(!Ot.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const a=new Error,i=is()*1e3,o=as(n[0])?n[0].toUpperCase():void 0,l=U_(n[1]);if(!o||!l)return t.apply(r,n);r[ii]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const d=r[ii];if(d&&r.readyState===4){try{d.status_code=r.status}catch{}const u={endTimestamp:is()*1e3,startTimestamp:i,xhr:r,virtualError:a};Pr("xhr",u)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(d,u,h){return c(),d.apply(u,h)}}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(d,u,h){const[f,m]=h,g=u[ii];return g&&as(f)&&as(m)&&(g.request_headers[f.toLowerCase()]=m),d.apply(u,h)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const a=r[ii];if(!a)return t.apply(r,n);n[0]!==void 0&&(a.body=n[0]);const i={startTimestamp:is()*1e3,xhr:r};return Pr("xhr",i),t.apply(r,n)}})}function U_(e){if(as(e))return e;try{return e.toString()}catch{}}const D_=40;function M_(e,t=I_("fetch")){let r=0,n=0;async function a(i){const o=i.body.length;r+=o,n++;const l={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};try{const c=await t(e.url,l);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw A_("fetch"),c}finally{r-=o,n--}}return xN(e,a,Sh(e.bufferSize||D_))}const pa=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$_=30,F_=50;function Vd(e,t,r,n){const a={filename:e,function:t==="<anonymous>"?mn:t,in_app:!0};return r!==void 0&&(a.lineno=r),n!==void 0&&(a.colno=n),a}const B_=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,z_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,W_=/\((\S*)(?::(\d+))(?::(\d+))\)/,q_=/at (.+?) ?\(data:(.+?),/,H_=e=>{const t=e.match(q_);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const r=B_.exec(e);if(r){const[,a,i,o]=r;return Vd(a,mn,+i,+o)}const n=z_.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const l=W_.exec(n[2]);l&&(n[2]=l[1],n[3]=l[2],n[4]=l[3])}const[i,o]=$0(n[1]||mn,n[2]);return Vd(o,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},G_=[$_,H_],V_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,K_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,J_=e=>{const t=V_.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=K_.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let n=t[3],a=t[1]||mn;return[a,n]=$0(a,n),Vd(n,a,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Y_=[F_,J_],Q_=[G_,Y_],X_=Kg(...Q_),$0=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:mn,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Ro=1024,Z_="Breadcrumbs",e1=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Z_,setup(r){t.console&&HN(n1(r)),t.dom&&__(s1(r,t.dom)),t.xhr&&O_(a1(r)),t.fetch&&s_(i1(r)),t.history&&M0(o1(r)),t.sentry&&r.on("beforeSendEvent",r1(r))}}},t1=e1;function r1(e){return function(r){Nt()===e&&gn({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:en(r)},{event:r})}}function s1(e,t){return function(n){if(Nt()!==e)return;let a,i,o=typeof t=="object"?t.serializeAttribute:void 0,l=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;l&&l>Ro&&(pa&&de.warn(`\`dom.maxStringLength\` cannot exceed ${Ro}, but a value of ${l} was configured. Sentry will use ${Ro} instead.`),l=Ro),typeof o=="string"&&(o=[o]);try{const d=n.event,u=l1(d)?d.target:d;a=e0(u,{keyAttrs:o,maxStringLength:l}),i=gj(u)}catch{a="<unknown>"}if(a.length===0)return;const c={category:`ui.${n.name}`,message:a};i&&(c.data={"ui.component_name":i}),gn(c,{event:n.event,name:n.name,global:n.global})}}function n1(e){return function(r){if(Nt()!==e)return;const n={category:"console",data:{arguments:r.args,logger:"console"},level:VN(r.level),message:Nm(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${Nm(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;gn(n,{input:r.args,level:r.level})}}function a1(e){return function(r){if(Nt()!==e)return;const{startTimestamp:n,endTimestamp:a}=r,i=r.xhr[ii];if(!n||!a||!i)return;const{method:o,url:l,status_code:c,body:d}=i,u={method:o,url:l,status_code:c},h={xhr:r.xhr,input:d,startTimestamp:n,endTimestamp:a},f={category:"xhr",data:u,type:"http",level:L0(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,h),gn(f,h)}}function i1(e){return function(r){if(Nt()!==e)return;const{startTimestamp:n,endTimestamp:a}=r;if(a&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){const i=r.fetchData,o={data:r.error,input:r.args,startTimestamp:n,endTimestamp:a},l={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",l,o),gn(l,o)}else{const i=r.response,o={...r.fetchData,status_code:i==null?void 0:i.status};r.fetchData.request_body_size,r.fetchData.response_body_size,i==null||i.status;const l={input:r.args,response:i,startTimestamp:n,endTimestamp:a},c={category:"fetch",data:o,type:"http",level:L0(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,l),gn(c,l)}}}function o1(e){return function(r){if(Nt()!==e)return;let n=r.from,a=r.to;const i=zc(Ge.location.href);let o=n?zc(n):void 0;const l=zc(a);o!=null&&o.path||(o=i),i.protocol===l.protocol&&i.host===l.host&&(a=l.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),gn({category:"navigation",data:{from:n,to:a}})}}function l1(e){return!!e&&!!e.target}const c1=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],d1="BrowserApiErrors",u1=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:d1,setupOnce(){t.setTimeout&&rr(Ge,"setTimeout",up),t.setInterval&&rr(Ge,"setInterval",up),t.requestAnimationFrame&&rr(Ge,"requestAnimationFrame",f1),t.XMLHttpRequest&&"XMLHttpRequest"in Ge&&rr(XMLHttpRequest.prototype,"send",m1);const r=t.eventTarget;r&&(Array.isArray(r)?r:c1).forEach(a=>p1(a,t))}}},h1=u1;function up(e){return function(...t){const r=t[0];return t[0]=ma(r,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Ms(e)}`}}),e.apply(this,t)}}function f1(e){return function(t){return e.apply(this,[ma(t,{mechanism:{data:{handler:Ms(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function m1(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(a=>{a in r&&typeof r[a]=="function"&&rr(r,a,function(i){const o={mechanism:{data:{handler:Ms(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${a}`}},l=yh(i);return l&&(o.mechanism.data.handler=Ms(l)),ma(i,o)})}),e.apply(this,t)}}function p1(e,t){var a,i;const n=(a=Ge[e])==null?void 0:a.prototype;(i=n==null?void 0:n.hasOwnProperty)!=null&&i.call(n,"addEventListener")&&(rr(n,"addEventListener",function(o){return function(l,c,d){try{x1(c)&&(c.handleEvent=ma(c.handleEvent,{mechanism:{data:{handler:Ms(c),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&g1(this,l,c),o.apply(this,[l,ma(c,{mechanism:{data:{handler:Ms(c),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),d])}}),rr(n,"removeEventListener",function(o){return function(l,c,d){try{const u=c.__sentry_wrapped__;u&&o.call(this,l,u,d)}catch{}return o.call(this,l,c,d)}}))}function x1(e){return typeof e.handleEvent=="function"}function g1(e,t,r){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,r)}const b1=()=>({name:"BrowserSession",setupOnce(){if(typeof Ge.document>"u"){pa&&de.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Hm({ignoreDuration:!0}),Gm(),M0(({from:e,to:t})=>{e!==void 0&&e!==t&&(Hm({ignoreDuration:!0}),Gm())})}}),y1="GlobalHandlers",v1=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:y1,setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(j1(r),hp("onerror")),t.onunhandledrejection&&(k1(r),hp("onunhandledrejection"))}}},w1=v1;function j1(e){oj(t=>{const{stackParser:r,attachStacktrace:n}=F0();if(Nt()!==e||U0())return;const{msg:a,url:i,line:o,column:l,error:c}=t,d=S1(Ch(r,c||a,void 0,n,!1),i,o,l);d.level="error",g0(d,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function k1(e){cj(t=>{const{stackParser:r,attachStacktrace:n}=F0();if(Nt()!==e||U0())return;const a=N1(t),i=ac(a)?_1(a):Ch(r,a,void 0,n,!0);i.level="error",g0(i,{originalException:a,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function N1(e){if(ac(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function _1(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function S1(e,t,r,n){const a=e.exception=e.exception||{},i=a.values=a.values||[],o=i[0]=i[0]||{},l=o.stacktrace=o.stacktrace||{},c=l.frames=l.frames||[],d=n,u=r,h=E1(t)??bh();return c.length===0&&c.push({colno:d,filename:h,function:mn,in_app:!0,lineno:u}),e}function hp(e){pa&&de.log(`Global Handler attached: ${e}`)}function F0(){const e=Nt();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function E1(e){if(!(!as(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),r=t?t[1]:"text/javascript",n=e.includes("base64,");return`<data:${r}${n?",base64":""}>`}return e}}const T1=()=>({name:"HttpContext",preprocessEvent(e){var n;if(!Ge.navigator&&!Ge.location&&!Ge.document)return;const t=c_(),r={...t.headers,...(n=e.request)==null?void 0:n.headers};e.request={...t,...e.request,headers:r}}}),C1="cause",P1=5,R1="LinkedErrors",I1=(e={})=>{const t=e.limit||P1,r=e.key||C1;return{name:R1,preprocessEvent(n,a,i){const o=i.getOptions();qN(Eh,o.stackParser,r,t,n,a)}}},A1=I1;function O1(){return L1()?(pa&&Pa(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function L1(){var i;if(typeof Ge.window>"u")return!1;const e=Ge;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((i=t==null?void 0:t.runtime)!=null&&i.id))return!1;const r=bh(),n=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Ge===Ge.top&&n.some(o=>r.startsWith(`${o}://`)))}function U1(e){return[UN(),IN(),h1(),t1(),w1(),A1(),YN(),T1(),b1()]}function D1(e={}){const t=!e.skipBrowserExtensionCheck&&O1();let r=e.defaultIntegrations==null?U1():e.defaultIntegrations;const n={...e,enabled:t?!1:e.enabled,stackParser:aj(e.stackParser||X_),integrations:sN({integrations:e.integrations,defaultIntegrations:r}),transport:e.transport||M_};return SN(w_,n)}function fp(e={}){const t=Ge.document,r=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!r){pa&&de.error("[showReportDialog] Global document not defined");return}const n=hs(),a=Nt(),i=a==null?void 0:a.getDsn();if(!i){pa&&de.error("[showReportDialog] DSN not configured");return}const o={...e,user:{...n.getUser(),...e.user},eventId:e.eventId||Yk()},l=Ge.document.createElement("script");l.async=!0,l.crossOrigin="anonymous",l.src=tN(i,o);const{onLoad:c,onClose:d}=o;if(c&&(l.onload=c),d){const u=h=>{if(h.data==="__sentry_reportdialog_closed__")try{d()}finally{Ge.removeEventListener("message",u)}};Ge.addEventListener("message",u)}r.appendChild(l)}function M1(e){const t={...e};return I0(t,"react"),Jk("react",{version:p.version}),D1(t)}function $1(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function F1(e,t){const r=new WeakSet;function n(a,i){if(!r.has(a)){if(a.cause)return r.add(a),n(a.cause,i);a.cause=i}}n(e,t)}function B1(e,{componentStack:t},r){if($1(p.version)&&nc(e)&&t){const n=new Error(e.message);n.name=`React ErrorBoundary ${e.name}`,n.stack=t,F1(e,n)}return wh(n=>(n.setContext("react",{componentStack:t}),x0(e,r)))}const z1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,qc={componentStack:null,error:null,eventId:null};let W1=class extends p.Component{constructor(t){super(t),this.state=qc,this._openFallbackReportDialog=!0;const r=Nt();r&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=r.on("afterSendEvent",n=>{!n.type&&this._lastEventId&&n.event_id===this._lastEventId&&fp({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,r){const{componentStack:n}=r,{beforeCapture:a,onError:i,showDialog:o,dialogOptions:l}=this.props;wh(c=>{a&&a(c,t,n);const d=this.props.handled!=null?this.props.handled:!!this.props.fallback,u=B1(t,r,{mechanism:{handled:d,type:"auto.function.react.error_boundary"}});i&&i(t,n,u),o&&(this._lastEventId=u,this._openFallbackReportDialog&&fp({...l,eventId:u})),this.setState({error:t,componentStack:n,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:r,eventId:n}=this.state,{onUnmount:a}=this.props;a&&(this.state===qc?a(null,null,null):a(t,r,n)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:r,componentStack:n,eventId:a}=this.state;t&&t(r,n,a),this.setState(qc)}render(){const{fallback:t,children:r}=this.props,n=this.state;if(n.componentStack===null)return typeof r=="function"?r():r;const a=typeof t=="function"?p.createElement(t,{error:n.error,componentStack:n.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:n.eventId}):t;return p.isValidElement(a)?a:(t&&z1&&de.warn("fallback did not produce a valid ReactElement"),null)}};var Kd={},B0={exports:{}},ir={},z0={exports:{}},W0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,G){var $=U.length;U.push(G);e:for(;0<$;){var O=$-1>>>1,T=U[O];if(0<a(T,G))U[O]=G,U[$]=T,$=O;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var G=U[0],$=U.pop();if($!==G){U[0]=$;e:for(var O=0,T=U.length,q=T>>>1;O<q;){var H=2*(O+1)-1,he=U[H],ee=H+1,ne=U[ee];if(0>a(he,$))ee<T&&0>a(ne,he)?(U[O]=ne,U[ee]=$,O=ee):(U[O]=he,U[H]=$,O=H);else if(ee<T&&0>a(ne,$))U[O]=ne,U[ee]=$,O=ee;else break e}}return G}function a(U,G){var $=U.sortIndex-G.sortIndex;return $!==0?$:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(U){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=U)n(d),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(d)}}function j(U){if(y=!1,v(U),!g)if(r(c)!==null)g=!0,xe(N);else{var G=r(d);G!==null&&Re(j,G.startTime-U)}}function N(U,G){g=!1,y&&(y=!1,b(S),S=-1),m=!0;var $=f;try{for(v(G),h=r(c);h!==null&&(!(h.expirationTime>G)||U&&!W());){var O=h.callback;if(typeof O=="function"){h.callback=null,f=h.priorityLevel;var T=O(h.expirationTime<=G);G=e.unstable_now(),typeof T=="function"?h.callback=T:h===r(c)&&n(c),v(G)}else n(c);h=r(c)}if(h!==null)var q=!0;else{var H=r(d);H!==null&&Re(j,H.startTime-G),q=!1}return q}finally{h=null,f=$,m=!1}}var k=!1,E=null,S=-1,L=5,C=-1;function W(){return!(e.unstable_now()-C<L)}function _e(){if(E!==null){var U=e.unstable_now();C=U;var G=!0;try{G=E(!0,U)}finally{G?ue():(k=!1,E=null)}}else k=!1}var ue;if(typeof x=="function")ue=function(){x(_e)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,je=Ee.port2;Ee.port1.onmessage=_e,ue=function(){je.postMessage(null)}}else ue=function(){w(_e,0)};function xe(U){E=U,k||(k=!0,ue())}function Re(U,G){S=w(function(){U(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,xe(N))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(U){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var $=f;f=G;try{return U()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=f;f=U;try{return G()}finally{f=$}},e.unstable_scheduleCallback=function(U,G,$){var O=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?O+$:O):$=O,U){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=$+T,U={id:u++,callback:G,priorityLevel:U,startTime:$,expirationTime:T,sortIndex:-1},$>O?(U.sortIndex=$,t(d,U),r(c)===null&&U===r(d)&&(y?(b(S),S=-1):y=!0,Re(j,$-O))):(U.sortIndex=T,t(c,U),g||m||(g=!0,xe(N))),U},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(U){var G=f;return function(){var $=f;f=G;try{return U.apply(this,arguments)}finally{f=$}}}})(W0);z0.exports=W0;var q1=z0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1=p,ar=q1;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q0=new Set,Ti={};function Tn(e,t){xa(e,t),xa(e+"Capture",t)}function xa(e,t){for(Ti[e]=t,e=0;e<t.length;e++)q0.add(t[e])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jd=Object.prototype.hasOwnProperty,G1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mp={},pp={};function V1(e){return Jd.call(pp,e)?!0:Jd.call(mp,e)?!1:G1.test(e)?pp[e]=!0:(mp[e]=!0,!1)}function K1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function J1(e,t,r,n){if(t===null||typeof t>"u"||K1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ph=/[\-:]([a-z])/g;function Rh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ph,Rh);kt[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ph,Rh);kt[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ph,Rh);kt[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ih(e,t,r,n){var a=kt.hasOwnProperty(t)?kt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(J1(t,r,a,n)&&(r=null),n||a===null?V1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fs=H1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Io=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),Yd=Symbol.for("react.profiler"),H0=Symbol.for("react.provider"),G0=Symbol.for("react.context"),Oh=Symbol.for("react.forward_ref"),Qd=Symbol.for("react.suspense"),Xd=Symbol.for("react.suspense_list"),Lh=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),V0=Symbol.for("react.offscreen"),xp=Symbol.iterator;function Ha(e){return e===null||typeof e!="object"?null:(e=xp&&e[xp]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Hc;function oi(e){if(Hc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hc=t&&t[1]||""}return`
`+Hc+e}var Gc=!1;function Vc(e,t){if(!e||Gc)return"";Gc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?oi(e):""}function Y1(e){switch(e.tag){case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 2:case 15:return e=Vc(e.type,!1),e;case 11:return e=Vc(e.type.render,!1),e;case 1:return e=Vc(e.type,!0),e;default:return""}}function Zd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Wn:return"Portal";case Yd:return"Profiler";case Ah:return"StrictMode";case Qd:return"Suspense";case Xd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case G0:return(e.displayName||"Context")+".Consumer";case H0:return(e._context.displayName||"Context")+".Provider";case Oh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lh:return t=e.displayName||null,t!==null?t:Zd(e.type)||"Memo";case ys:t=e._payload,e=e._init;try{return Zd(e(t))}catch{}}return null}function Q1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zd(t);case 8:return t===Ah?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X1(e){var t=K0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ao(e){e._valueTracker||(e._valueTracker=X1(e))}function J0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=K0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eu(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Y0(e,t){t=t.checked,t!=null&&Ih(e,"checked",t,!1)}function tu(e,t){Y0(e,t);var r=Fs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ru(e,t.type,r):t.hasOwnProperty("defaultValue")&&ru(e,t.type,Fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ru(e,t,r){(t!=="number"||jl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var li=Array.isArray;function sa(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fs(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function su(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(M(92));if(li(r)){if(1<r.length)throw Error(M(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fs(r)}}function Q0(e,t){var r=Fs(t.value),n=Fs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function vp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function X0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?X0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oo,Z0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oo=Oo||document.createElement("div"),Oo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ci(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z1=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){Z1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function eb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function tb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=eb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var eS=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function au(e,t){if(t){if(eS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function iu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=null;function Uh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lu=null,na=null,aa=null;function wp(e){if(e=co(e)){if(typeof lu!="function")throw Error(M(280));var t=e.stateNode;t&&(t=fc(t),lu(e.stateNode,e.type,t))}}function rb(e){na?aa?aa.push(e):aa=[e]:na=e}function sb(){if(na){var e=na,t=aa;if(aa=na=null,wp(e),t)for(e=0;e<t.length;e++)wp(t[e])}}function nb(e,t){return e(t)}function ab(){}var Kc=!1;function ib(e,t,r){if(Kc)return e(t,r);Kc=!0;try{return nb(e,t,r)}finally{Kc=!1,(na!==null||aa!==null)&&(ab(),sb())}}function Pi(e,t){var r=e.stateNode;if(r===null)return null;var n=fc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(M(231,t,typeof r));return r}var cu=!1;if(ls)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{cu=!1}function tS(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var fi=!1,kl=null,Nl=!1,du=null,rS={onError:function(e){fi=!0,kl=e}};function sS(e,t,r,n,a,i,o,l,c){fi=!1,kl=null,tS.apply(rS,arguments)}function nS(e,t,r,n,a,i,o,l,c){if(sS.apply(this,arguments),fi){if(fi){var d=kl;fi=!1,kl=null}else throw Error(M(198));Nl||(Nl=!0,du=d)}}function Cn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ob(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jp(e){if(Cn(e)!==e)throw Error(M(188))}function aS(e){var t=e.alternate;if(!t){if(t=Cn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return jp(a),e;if(i===n)return jp(a),t;i=i.sibling}throw Error(M(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(M(189))}}if(r.alternate!==n)throw Error(M(190))}if(r.tag!==3)throw Error(M(188));return r.stateNode.current===r?e:t}function lb(e){return e=aS(e),e!==null?cb(e):null}function cb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cb(e);if(t!==null)return t;e=e.sibling}return null}var db=ar.unstable_scheduleCallback,kp=ar.unstable_cancelCallback,iS=ar.unstable_shouldYield,oS=ar.unstable_requestPaint,lt=ar.unstable_now,lS=ar.unstable_getCurrentPriorityLevel,Dh=ar.unstable_ImmediatePriority,ub=ar.unstable_UserBlockingPriority,_l=ar.unstable_NormalPriority,cS=ar.unstable_LowPriority,hb=ar.unstable_IdlePriority,cc=null,Gr=null;function dS(e){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(cc,e,void 0,(e.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:fS,uS=Math.log,hS=Math.LN2;function fS(e){return e>>>=0,e===0?32:31-(uS(e)/hS|0)|0}var Lo=64,Uo=4194304;function ci(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=ci(l):(i&=o,i!==0&&(n=ci(i)))}else o=r&~a,o!==0?n=ci(o):i!==0&&(n=ci(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Rr(t),a=1<<r,n|=e[r],t&=~a;return n}function mS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Rr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=mS(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function uu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fb(){var e=Lo;return Lo<<=1,!(Lo&4194240)&&(Lo=64),e}function Jc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function oo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rr(t),e[t]=r}function xS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Rr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Mh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Rr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Be=0;function mb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pb,$h,xb,gb,bb,hu=!1,Do=[],Cs=null,Ps=null,Rs=null,Ri=new Map,Ii=new Map,js=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Np(e,t){switch(e){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(t.pointerId)}}function Va(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=co(t),t!==null&&$h(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function bS(e,t,r,n,a){switch(t){case"focusin":return Cs=Va(Cs,e,t,r,n,a),!0;case"dragenter":return Ps=Va(Ps,e,t,r,n,a),!0;case"mouseover":return Rs=Va(Rs,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ri.set(i,Va(Ri.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ii.set(i,Va(Ii.get(i)||null,e,t,r,n,a)),!0}return!1}function yb(e){var t=sn(e.target);if(t!==null){var r=Cn(t);if(r!==null){if(t=r.tag,t===13){if(t=ob(r),t!==null){e.blockedOn=t,bb(e.priority,function(){xb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ou=n,r.target.dispatchEvent(n),ou=null}else return t=co(r),t!==null&&$h(t),e.blockedOn=r,!1;t.shift()}return!0}function _p(e,t,r){ll(e)&&r.delete(t)}function yS(){hu=!1,Cs!==null&&ll(Cs)&&(Cs=null),Ps!==null&&ll(Ps)&&(Ps=null),Rs!==null&&ll(Rs)&&(Rs=null),Ri.forEach(_p),Ii.forEach(_p)}function Ka(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,yS)))}function Ai(e){function t(a){return Ka(a,e)}if(0<Do.length){Ka(Do[0],e);for(var r=1;r<Do.length;r++){var n=Do[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Cs!==null&&Ka(Cs,e),Ps!==null&&Ka(Ps,e),Rs!==null&&Ka(Rs,e),Ri.forEach(t),Ii.forEach(t),r=0;r<js.length;r++)n=js[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<js.length&&(r=js[0],r.blockedOn===null);)yb(r),r.blockedOn===null&&js.shift()}var ia=fs.ReactCurrentBatchConfig,El=!0;function vS(e,t,r,n){var a=Be,i=ia.transition;ia.transition=null;try{Be=1,Fh(e,t,r,n)}finally{Be=a,ia.transition=i}}function wS(e,t,r,n){var a=Be,i=ia.transition;ia.transition=null;try{Be=4,Fh(e,t,r,n)}finally{Be=a,ia.transition=i}}function Fh(e,t,r,n){if(El){var a=fu(e,t,r,n);if(a===null)ad(e,t,n,Tl,r),Np(e,n);else if(bS(a,e,t,r,n))n.stopPropagation();else if(Np(e,n),t&4&&-1<gS.indexOf(e)){for(;a!==null;){var i=co(a);if(i!==null&&pb(i),i=fu(e,t,r,n),i===null&&ad(e,t,n,Tl,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ad(e,t,n,null,r)}}var Tl=null;function fu(e,t,r,n){if(Tl=null,e=Uh(n),e=sn(e),e!==null)if(t=Cn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ob(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tl=e,null}function vb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lS()){case Dh:return 1;case ub:return 4;case _l:case cS:return 16;case hb:return 536870912;default:return 16}default:return 16}}var Ss=null,Bh=null,cl=null;function wb(){if(cl)return cl;var e,t=Bh,r=t.length,n,a="value"in Ss?Ss.value:Ss.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return cl=a.slice(e,1<n?1-n:void 0)}function dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mo(){return!0}function Sp(){return!1}function or(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mo:Sp,this.isPropagationStopped=Sp,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zh=or(Oa),lo=tt({},Oa,{view:0,detail:0}),jS=or(lo),Yc,Qc,Ja,dc=tt({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ja&&(Ja&&e.type==="mousemove"?(Yc=e.screenX-Ja.screenX,Qc=e.screenY-Ja.screenY):Qc=Yc=0,Ja=e),Yc)},movementY:function(e){return"movementY"in e?e.movementY:Qc}}),Ep=or(dc),kS=tt({},dc,{dataTransfer:0}),NS=or(kS),_S=tt({},lo,{relatedTarget:0}),Xc=or(_S),SS=tt({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),ES=or(SS),TS=tt({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CS=or(TS),PS=tt({},Oa,{data:0}),Tp=or(PS),RS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AS[e])?!!t[e]:!1}function Wh(){return OS}var LS=tt({},lo,{key:function(e){if(e.key){var t=RS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wh,charCode:function(e){return e.type==="keypress"?dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),US=or(LS),DS=tt({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cp=or(DS),MS=tt({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wh}),$S=or(MS),FS=tt({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),BS=or(FS),zS=tt({},dc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WS=or(zS),qS=[9,13,27,32],qh=ls&&"CompositionEvent"in window,mi=null;ls&&"documentMode"in document&&(mi=document.documentMode);var HS=ls&&"TextEvent"in window&&!mi,jb=ls&&(!qh||mi&&8<mi&&11>=mi),Pp=" ",Rp=!1;function kb(e,t){switch(e){case"keyup":return qS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function GS(e,t){switch(e){case"compositionend":return Nb(t);case"keypress":return t.which!==32?null:(Rp=!0,Pp);case"textInput":return e=t.data,e===Pp&&Rp?null:e;default:return null}}function VS(e,t){if(Hn)return e==="compositionend"||!qh&&kb(e,t)?(e=wb(),cl=Bh=Ss=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jb&&t.locale!=="ko"?null:t.data;default:return null}}var KS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KS[e.type]:t==="textarea"}function _b(e,t,r,n){rb(n),t=Cl(t,"onChange"),0<t.length&&(r=new zh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pi=null,Oi=null;function JS(e){Ub(e,0)}function uc(e){var t=Kn(e);if(J0(t))return e}function YS(e,t){if(e==="change")return t}var Sb=!1;if(ls){var Zc;if(ls){var ed="oninput"in document;if(!ed){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),ed=typeof Ap.oninput=="function"}Zc=ed}else Zc=!1;Sb=Zc&&(!document.documentMode||9<document.documentMode)}function Op(){pi&&(pi.detachEvent("onpropertychange",Eb),Oi=pi=null)}function Eb(e){if(e.propertyName==="value"&&uc(Oi)){var t=[];_b(t,Oi,e,Uh(e)),ib(JS,t)}}function QS(e,t,r){e==="focusin"?(Op(),pi=t,Oi=r,pi.attachEvent("onpropertychange",Eb)):e==="focusout"&&Op()}function XS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uc(Oi)}function ZS(e,t){if(e==="click")return uc(t)}function e2(e,t){if(e==="input"||e==="change")return uc(t)}function t2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ar=typeof Object.is=="function"?Object.is:t2;function Li(e,t){if(Ar(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Jd.call(t,a)||!Ar(e[a],t[a]))return!1}return!0}function Lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Up(e,t){var r=Lp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lp(r)}}function Tb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cb(){for(var e=window,t=jl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=jl(e.document)}return t}function Hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function r2(e){var t=Cb(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Tb(r.ownerDocument.documentElement,r)){if(n!==null&&Hh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Up(r,i);var o=Up(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s2=ls&&"documentMode"in document&&11>=document.documentMode,Gn=null,mu=null,xi=null,pu=!1;function Dp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pu||Gn==null||Gn!==jl(n)||(n=Gn,"selectionStart"in n&&Hh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xi&&Li(xi,n)||(xi=n,n=Cl(mu,"onSelect"),0<n.length&&(t=new zh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gn)))}function $o(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vn={animationend:$o("Animation","AnimationEnd"),animationiteration:$o("Animation","AnimationIteration"),animationstart:$o("Animation","AnimationStart"),transitionend:$o("Transition","TransitionEnd")},td={},Pb={};ls&&(Pb=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function hc(e){if(td[e])return td[e];if(!Vn[e])return e;var t=Vn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Pb)return td[e]=t[r];return e}var Rb=hc("animationend"),Ib=hc("animationiteration"),Ab=hc("animationstart"),Ob=hc("transitionend"),Lb=new Map,Mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(e,t){Lb.set(e,t),Tn(t,[e])}for(var rd=0;rd<Mp.length;rd++){var sd=Mp[rd],n2=sd.toLowerCase(),a2=sd[0].toUpperCase()+sd.slice(1);Ws(n2,"on"+a2)}Ws(Rb,"onAnimationEnd");Ws(Ib,"onAnimationIteration");Ws(Ab,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(Ob,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i2=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function $p(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nS(n,t,void 0,e),e.currentTarget=null}function Ub(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;$p(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;$p(a,l,d),i=c}}}if(Nl)throw e=du,Nl=!1,du=null,e}function He(e,t){var r=t[vu];r===void 0&&(r=t[vu]=new Set);var n=e+"__bubble";r.has(n)||(Db(t,e,2,!1),r.add(n))}function nd(e,t,r){var n=0;t&&(n|=4),Db(r,e,n,t)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Fo]){e[Fo]=!0,q0.forEach(function(r){r!=="selectionchange"&&(i2.has(r)||nd(r,!1,e),nd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fo]||(t[Fo]=!0,nd("selectionchange",!1,t))}}function Db(e,t,r,n){switch(vb(t)){case 1:var a=vS;break;case 4:a=wS;break;default:a=Fh}r=a.bind(null,t,r,e),a=void 0,!cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ad(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=sn(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}ib(function(){var d=i,u=Uh(r),h=[];e:{var f=Lb.get(e);if(f!==void 0){var m=zh,g=e;switch(e){case"keypress":if(dl(r)===0)break e;case"keydown":case"keyup":m=US;break;case"focusin":g="focus",m=Xc;break;case"focusout":g="blur",m=Xc;break;case"beforeblur":case"afterblur":m=Xc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$S;break;case Rb:case Ib:case Ab:m=ES;break;case Ob:m=BS;break;case"scroll":m=jS;break;case"wheel":m=WS;break;case"copy":case"cut":case"paste":m=CS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Cp}var y=(t&4)!==0,w=!y&&e==="scroll",b=y?f!==null?f+"Capture":null:f;y=[];for(var x=d,v;x!==null;){v=x;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,b!==null&&(j=Pi(x,b),j!=null&&y.push(Di(x,j,v)))),w)break;x=x.return}0<y.length&&(f=new m(f,g,null,r,u),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==ou&&(g=r.relatedTarget||r.fromElement)&&(sn(g)||g[cs]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=d,g=g?sn(g):null,g!==null&&(w=Cn(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(y=Ep,j="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=Cp,j="onPointerLeave",b="onPointerEnter",x="pointer"),w=m==null?f:Kn(m),v=g==null?f:Kn(g),f=new y(j,x+"leave",m,r,u),f.target=w,f.relatedTarget=v,j=null,sn(u)===d&&(y=new y(b,x+"enter",g,r,u),y.target=v,y.relatedTarget=w,j=y),w=j,m&&g)t:{for(y=m,b=g,x=0,v=y;v;v=In(v))x++;for(v=0,j=b;j;j=In(j))v++;for(;0<x-v;)y=In(y),x--;for(;0<v-x;)b=In(b),v--;for(;x--;){if(y===b||b!==null&&y===b.alternate)break t;y=In(y),b=In(b)}y=null}else y=null;m!==null&&Fp(h,f,m,y,!1),g!==null&&w!==null&&Fp(h,w,g,y,!0)}}e:{if(f=d?Kn(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=YS;else if(Ip(f))if(Sb)N=e2;else{N=XS;var k=QS}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=ZS);if(N&&(N=N(e,d))){_b(h,N,r,u);break e}k&&k(e,f,d),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&ru(f,"number",f.value)}switch(k=d?Kn(d):window,e){case"focusin":(Ip(k)||k.contentEditable==="true")&&(Gn=k,mu=d,xi=null);break;case"focusout":xi=mu=Gn=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,Dp(h,r,u);break;case"selectionchange":if(s2)break;case"keydown":case"keyup":Dp(h,r,u)}var E;if(qh)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Hn?kb(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(jb&&r.locale!=="ko"&&(Hn||S!=="onCompositionStart"?S==="onCompositionEnd"&&Hn&&(E=wb()):(Ss=u,Bh="value"in Ss?Ss.value:Ss.textContent,Hn=!0)),k=Cl(d,S),0<k.length&&(S=new Tp(S,e,null,r,u),h.push({event:S,listeners:k}),E?S.data=E:(E=Nb(r),E!==null&&(S.data=E)))),(E=HS?GS(e,r):VS(e,r))&&(d=Cl(d,"onBeforeInput"),0<d.length&&(u=new Tp("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=E))}Ub(h,t)})}function Di(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Cl(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Pi(e,r),i!=null&&n.unshift(Di(e,i,a)),i=Pi(e,t),i!=null&&n.push(Di(e,i,a))),e=e.return}return n}function In(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fp(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Pi(r,i),c!=null&&o.unshift(Di(r,c,l))):a||(c=Pi(r,i),c!=null&&o.push(Di(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var o2=/\r\n?/g,l2=/\u0000|\uFFFD/g;function Bp(e){return(typeof e=="string"?e:""+e).replace(o2,`
`).replace(l2,"")}function Bo(e,t,r){if(t=Bp(t),Bp(e)!==t&&r)throw Error(M(425))}function Pl(){}var xu=null,gu=null;function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,d2=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(e){return zp.resolve(null).then(e).catch(u2)}:yu;function u2(e){setTimeout(function(){throw e})}function id(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ai(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ai(t)}function Is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var La=Math.random().toString(36).slice(2),Wr="__reactFiber$"+La,Mi="__reactProps$"+La,cs="__reactContainer$"+La,vu="__reactEvents$"+La,h2="__reactListeners$"+La,f2="__reactHandles$"+La;function sn(e){var t=e[Wr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[cs]||r[Wr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wp(e);e!==null;){if(r=e[Wr])return r;e=Wp(e)}return t}e=r,r=e.parentNode}return null}function co(e){return e=e[Wr]||e[cs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function fc(e){return e[Mi]||null}var wu=[],Jn=-1;function qs(e){return{current:e}}function Ve(e){0>Jn||(e.current=wu[Jn],wu[Jn]=null,Jn--)}function qe(e,t){Jn++,wu[Jn]=e.current,e.current=t}var Bs={},Pt=qs(Bs),Ht=qs(!1),bn=Bs;function ga(e,t){var r=e.type.contextTypes;if(!r)return Bs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Gt(e){return e=e.childContextTypes,e!=null}function Rl(){Ve(Ht),Ve(Pt)}function qp(e,t,r){if(Pt.current!==Bs)throw Error(M(168));qe(Pt,t),qe(Ht,r)}function Mb(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(M(108,Q1(e)||"Unknown",a));return tt({},r,n)}function Il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bs,bn=Pt.current,qe(Pt,e),qe(Ht,Ht.current),!0}function Hp(e,t,r){var n=e.stateNode;if(!n)throw Error(M(169));r?(e=Mb(e,t,bn),n.__reactInternalMemoizedMergedChildContext=e,Ve(Ht),Ve(Pt),qe(Pt,e)):Ve(Ht),qe(Ht,r)}var ts=null,mc=!1,od=!1;function $b(e){ts===null?ts=[e]:ts.push(e)}function m2(e){mc=!0,$b(e)}function Hs(){if(!od&&ts!==null){od=!0;var e=0,t=Be;try{var r=ts;for(Be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ts=null,mc=!1}catch(a){throw ts!==null&&(ts=ts.slice(e+1)),db(Dh,Hs),a}finally{Be=t,od=!1}}return null}var Yn=[],Qn=0,Al=null,Ol=0,dr=[],ur=0,yn=null,rs=1,ss="";function Qs(e,t){Yn[Qn++]=Ol,Yn[Qn++]=Al,Al=e,Ol=t}function Fb(e,t,r){dr[ur++]=rs,dr[ur++]=ss,dr[ur++]=yn,yn=e;var n=rs;e=ss;var a=32-Rr(n)-1;n&=~(1<<a),r+=1;var i=32-Rr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,rs=1<<32-Rr(t)+a|r<<a|n,ss=i+e}else rs=1<<i|r<<a|n,ss=e}function Gh(e){e.return!==null&&(Qs(e,1),Fb(e,1,0))}function Vh(e){for(;e===Al;)Al=Yn[--Qn],Yn[Qn]=null,Ol=Yn[--Qn],Yn[Qn]=null;for(;e===yn;)yn=dr[--ur],dr[ur]=null,ss=dr[--ur],dr[ur]=null,rs=dr[--ur],dr[ur]=null}var nr=null,sr=null,Qe=!1,Er=null;function Bb(e,t){var r=hr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Gp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nr=e,sr=Is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nr=e,sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yn!==null?{id:rs,overflow:ss}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nr=e,sr=null,!0):!1;default:return!1}}function ju(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ku(e){if(Qe){var t=sr;if(t){var r=t;if(!Gp(e,t)){if(ju(e))throw Error(M(418));t=Is(r.nextSibling);var n=nr;t&&Gp(e,t)?Bb(n,r):(e.flags=e.flags&-4097|2,Qe=!1,nr=e)}}else{if(ju(e))throw Error(M(418));e.flags=e.flags&-4097|2,Qe=!1,nr=e}}}function Vp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nr=e}function zo(e){if(e!==nr)return!1;if(!Qe)return Vp(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bu(e.type,e.memoizedProps)),t&&(t=sr)){if(ju(e))throw zb(),Error(M(418));for(;t;)Bb(e,t),t=Is(t.nextSibling)}if(Vp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){sr=Is(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}sr=null}}else sr=nr?Is(e.stateNode.nextSibling):null;return!0}function zb(){for(var e=sr;e;)e=Is(e.nextSibling)}function ba(){sr=nr=null,Qe=!1}function Kh(e){Er===null?Er=[e]:Er.push(e)}var p2=fs.ReactCurrentBatchConfig;function Ya(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(M(309));var n=r.stateNode}if(!n)throw Error(M(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!r._owner)throw Error(M(290,e))}return e}function Wo(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kp(e){var t=e._init;return t(e._payload)}function Wb(e){function t(b,x){if(e){var v=b.deletions;v===null?(b.deletions=[x],b.flags|=16):v.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function a(b,x){return b=Us(b,x),b.index=0,b.sibling=null,b}function i(b,x,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<x?(b.flags|=2,x):v):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,v,j){return x===null||x.tag!==6?(x=md(v,b.mode,j),x.return=b,x):(x=a(x,v),x.return=b,x)}function c(b,x,v,j){var N=v.type;return N===qn?u(b,x,v.props.children,j,v.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ys&&Kp(N)===x.type)?(j=a(x,v.props),j.ref=Ya(b,x,v),j.return=b,j):(j=gl(v.type,v.key,v.props,null,b.mode,j),j.ref=Ya(b,x,v),j.return=b,j)}function d(b,x,v,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=pd(v,b.mode,j),x.return=b,x):(x=a(x,v.children||[]),x.return=b,x)}function u(b,x,v,j,N){return x===null||x.tag!==7?(x=un(v,b.mode,j,N),x.return=b,x):(x=a(x,v),x.return=b,x)}function h(b,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=md(""+x,b.mode,v),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Io:return v=gl(x.type,x.key,x.props,null,b.mode,v),v.ref=Ya(b,null,x),v.return=b,v;case Wn:return x=pd(x,b.mode,v),x.return=b,x;case ys:var j=x._init;return h(b,j(x._payload),v)}if(li(x)||Ha(x))return x=un(x,b.mode,v,null),x.return=b,x;Wo(b,x)}return null}function f(b,x,v,j){var N=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(b,x,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Io:return v.key===N?c(b,x,v,j):null;case Wn:return v.key===N?d(b,x,v,j):null;case ys:return N=v._init,f(b,x,N(v._payload),j)}if(li(v)||Ha(v))return N!==null?null:u(b,x,v,j,null);Wo(b,v)}return null}function m(b,x,v,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(v)||null,l(x,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Io:return b=b.get(j.key===null?v:j.key)||null,c(x,b,j,N);case Wn:return b=b.get(j.key===null?v:j.key)||null,d(x,b,j,N);case ys:var k=j._init;return m(b,x,v,k(j._payload),N)}if(li(j)||Ha(j))return b=b.get(v)||null,u(x,b,j,N,null);Wo(x,j)}return null}function g(b,x,v,j){for(var N=null,k=null,E=x,S=x=0,L=null;E!==null&&S<v.length;S++){E.index>S?(L=E,E=null):L=E.sibling;var C=f(b,E,v[S],j);if(C===null){E===null&&(E=L);break}e&&E&&C.alternate===null&&t(b,E),x=i(C,x,S),k===null?N=C:k.sibling=C,k=C,E=L}if(S===v.length)return r(b,E),Qe&&Qs(b,S),N;if(E===null){for(;S<v.length;S++)E=h(b,v[S],j),E!==null&&(x=i(E,x,S),k===null?N=E:k.sibling=E,k=E);return Qe&&Qs(b,S),N}for(E=n(b,E);S<v.length;S++)L=m(E,b,S,v[S],j),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?S:L.key),x=i(L,x,S),k===null?N=L:k.sibling=L,k=L);return e&&E.forEach(function(W){return t(b,W)}),Qe&&Qs(b,S),N}function y(b,x,v,j){var N=Ha(v);if(typeof N!="function")throw Error(M(150));if(v=N.call(v),v==null)throw Error(M(151));for(var k=N=null,E=x,S=x=0,L=null,C=v.next();E!==null&&!C.done;S++,C=v.next()){E.index>S?(L=E,E=null):L=E.sibling;var W=f(b,E,C.value,j);if(W===null){E===null&&(E=L);break}e&&E&&W.alternate===null&&t(b,E),x=i(W,x,S),k===null?N=W:k.sibling=W,k=W,E=L}if(C.done)return r(b,E),Qe&&Qs(b,S),N;if(E===null){for(;!C.done;S++,C=v.next())C=h(b,C.value,j),C!==null&&(x=i(C,x,S),k===null?N=C:k.sibling=C,k=C);return Qe&&Qs(b,S),N}for(E=n(b,E);!C.done;S++,C=v.next())C=m(E,b,S,C.value,j),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?S:C.key),x=i(C,x,S),k===null?N=C:k.sibling=C,k=C);return e&&E.forEach(function(_e){return t(b,_e)}),Qe&&Qs(b,S),N}function w(b,x,v,j){if(typeof v=="object"&&v!==null&&v.type===qn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Io:e:{for(var N=v.key,k=x;k!==null;){if(k.key===N){if(N=v.type,N===qn){if(k.tag===7){r(b,k.sibling),x=a(k,v.props.children),x.return=b,b=x;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ys&&Kp(N)===k.type){r(b,k.sibling),x=a(k,v.props),x.ref=Ya(b,k,v),x.return=b,b=x;break e}r(b,k);break}else t(b,k);k=k.sibling}v.type===qn?(x=un(v.props.children,b.mode,j,v.key),x.return=b,b=x):(j=gl(v.type,v.key,v.props,null,b.mode,j),j.ref=Ya(b,x,v),j.return=b,b=j)}return o(b);case Wn:e:{for(k=v.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){r(b,x.sibling),x=a(x,v.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=pd(v,b.mode,j),x.return=b,b=x}return o(b);case ys:return k=v._init,w(b,x,k(v._payload),j)}if(li(v))return g(b,x,v,j);if(Ha(v))return y(b,x,v,j);Wo(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(r(b,x.sibling),x=a(x,v),x.return=b,b=x):(r(b,x),x=md(v,b.mode,j),x.return=b,b=x),o(b)):r(b,x)}return w}var ya=Wb(!0),qb=Wb(!1),Ll=qs(null),Ul=null,Xn=null,Jh=null;function Yh(){Jh=Xn=Ul=null}function Qh(e){var t=Ll.current;Ve(Ll),e._currentValue=t}function Nu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function oa(e,t){Ul=e,Jh=Xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(Jh!==e)if(e={context:e,memoizedValue:t,next:null},Xn===null){if(Ul===null)throw Error(M(308));Xn=e,Ul.dependencies={lanes:0,firstContext:e}}else Xn=Xn.next=e;return t}var nn=null;function Xh(e){nn===null?nn=[e]:nn.push(e)}function Hb(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Xh(t)):(r.next=a.next,a.next=r),t.interleaved=r,ds(e,n)}function ds(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vs=!1;function Zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function As(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ds(e,r)}return a=n.interleaved,a===null?(t.next=t,Xh(n)):(t.next=a.next,a.next=t),n.interleaved=t,ds(e,r)}function ul(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Mh(e,r)}}function Jp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Dl(e,t,r,n){var a=e.updateQueue;vs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(f=t,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=tt({},h,f);break e;case 2:vs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);wn|=o,e.lanes=o,e.memoizedState=h}}function Yp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(M(191,a));a.call(n)}}}var uo={},Vr=qs(uo),$i=qs(uo),Fi=qs(uo);function an(e){if(e===uo)throw Error(M(174));return e}function ef(e,t){switch(qe(Fi,t),qe($i,e),qe(Vr,uo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nu(t,e)}Ve(Vr),qe(Vr,t)}function va(){Ve(Vr),Ve($i),Ve(Fi)}function Vb(e){an(Fi.current);var t=an(Vr.current),r=nu(t,e.type);t!==r&&(qe($i,e),qe(Vr,r))}function tf(e){$i.current===e&&(Ve(Vr),Ve($i))}var Ze=qs(0);function Ml(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ld=[];function rf(){for(var e=0;e<ld.length;e++)ld[e]._workInProgressVersionPrimary=null;ld.length=0}var hl=fs.ReactCurrentDispatcher,cd=fs.ReactCurrentBatchConfig,vn=0,et=null,mt=null,xt=null,$l=!1,gi=!1,Bi=0,x2=0;function St(){throw Error(M(321))}function sf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ar(e[r],t[r]))return!1;return!0}function nf(e,t,r,n,a,i){if(vn=i,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hl.current=e===null||e.memoizedState===null?v2:w2,e=r(n,a),gi){i=0;do{if(gi=!1,Bi=0,25<=i)throw Error(M(301));i+=1,xt=mt=null,t.updateQueue=null,hl.current=j2,e=r(n,a)}while(gi)}if(hl.current=Fl,t=mt!==null&&mt.next!==null,vn=0,xt=mt=et=null,$l=!1,t)throw Error(M(300));return e}function af(){var e=Bi!==0;return Bi=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?et.memoizedState=xt=e:xt=xt.next=e,xt}function gr(){if(mt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=xt===null?et.memoizedState:xt.next;if(t!==null)xt=t,mt=e;else{if(e===null)throw Error(M(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},xt===null?et.memoizedState=xt=e:xt=xt.next=e}return xt}function zi(e,t){return typeof t=="function"?t(e):t}function dd(e){var t=gr(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=mt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((vn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,et.lanes|=u,wn|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Ar(n,t.memoizedState)||(Wt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,et.lanes|=i,wn|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ud(e){var t=gr(),r=t.queue;if(r===null)throw Error(M(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ar(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Kb(){}function Jb(e,t){var r=et,n=gr(),a=t(),i=!Ar(n.memoizedState,a);if(i&&(n.memoizedState=a,Wt=!0),n=n.queue,of(Xb.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,Wi(9,Qb.bind(null,r,n,a,t),void 0,null),gt===null)throw Error(M(349));vn&30||Yb(r,t,a)}return a}function Yb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Qb(e,t,r,n){t.value=r,t.getSnapshot=n,Zb(t)&&ey(e)}function Xb(e,t,r){return r(function(){Zb(t)&&ey(e)})}function Zb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ar(e,r)}catch{return!0}}function ey(e){var t=ds(e,1);t!==null&&Ir(t,e,1,-1)}function Qp(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},t.queue=e,e=e.dispatch=y2.bind(null,et,e),[t.memoizedState,e]}function Wi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ty(){return gr().memoizedState}function fl(e,t,r,n){var a=Fr();et.flags|=e,a.memoizedState=Wi(1|t,r,void 0,n===void 0?null:n)}function pc(e,t,r,n){var a=gr();n=n===void 0?null:n;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,n!==null&&sf(n,o.deps)){a.memoizedState=Wi(t,r,i,n);return}}et.flags|=e,a.memoizedState=Wi(1|t,r,i,n)}function Xp(e,t){return fl(8390656,8,e,t)}function of(e,t){return pc(2048,8,e,t)}function ry(e,t){return pc(4,2,e,t)}function sy(e,t){return pc(4,4,e,t)}function ny(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ay(e,t,r){return r=r!=null?r.concat([e]):null,pc(4,4,ny.bind(null,t,e),r)}function lf(){}function iy(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function oy(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ly(e,t,r){return vn&21?(Ar(r,t)||(r=fb(),et.lanes|=r,wn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function g2(e,t){var r=Be;Be=r!==0&&4>r?r:4,e(!0);var n=cd.transition;cd.transition={};try{e(!1),t()}finally{Be=r,cd.transition=n}}function cy(){return gr().memoizedState}function b2(e,t,r){var n=Ls(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dy(e))uy(t,r);else if(r=Hb(e,t,r,n),r!==null){var a=Ut();Ir(r,e,n,a),hy(r,t,n)}}function y2(e,t,r){var n=Ls(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dy(e))uy(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ar(l,o)){var c=t.interleaved;c===null?(a.next=a,Xh(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Hb(e,t,a,n),r!==null&&(a=Ut(),Ir(r,e,n,a),hy(r,t,n))}}function dy(e){var t=e.alternate;return e===et||t!==null&&t===et}function uy(e,t){gi=$l=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Mh(e,r)}}var Fl={readContext:xr,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},v2={readContext:xr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:Xp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fl(4194308,4,ny.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return fl(4,2,e,t)},useMemo:function(e,t){var r=Fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=b2.bind(null,et,e),[n.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:Qp,useDebugValue:lf,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=Qp(!1),t=e[0];return e=g2.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=et,a=Fr();if(Qe){if(r===void 0)throw Error(M(407));r=r()}else{if(r=t(),gt===null)throw Error(M(349));vn&30||Yb(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Xp(Xb.bind(null,n,i,e),[e]),n.flags|=2048,Wi(9,Qb.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Fr(),t=gt.identifierPrefix;if(Qe){var r=ss,n=rs;r=(n&~(1<<32-Rr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=x2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w2={readContext:xr,useCallback:iy,useContext:xr,useEffect:of,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:sy,useMemo:oy,useReducer:dd,useRef:ty,useState:function(){return dd(zi)},useDebugValue:lf,useDeferredValue:function(e){var t=gr();return ly(t,mt.memoizedState,e)},useTransition:function(){var e=dd(zi)[0],t=gr().memoizedState;return[e,t]},useMutableSource:Kb,useSyncExternalStore:Jb,useId:cy,unstable_isNewReconciler:!1},j2={readContext:xr,useCallback:iy,useContext:xr,useEffect:of,useImperativeHandle:ay,useInsertionEffect:ry,useLayoutEffect:sy,useMemo:oy,useReducer:ud,useRef:ty,useState:function(){return ud(zi)},useDebugValue:lf,useDeferredValue:function(e){var t=gr();return mt===null?t.memoizedState=e:ly(t,mt.memoizedState,e)},useTransition:function(){var e=ud(zi)[0],t=gr().memoizedState;return[e,t]},useMutableSource:Kb,useSyncExternalStore:Jb,useId:cy,unstable_isNewReconciler:!1};function kr(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _u(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xc={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ut(),a=Ls(e),i=os(n,a);i.payload=t,r!=null&&(i.callback=r),t=As(e,i,a),t!==null&&(Ir(t,e,a,n),ul(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ut(),a=Ls(e),i=os(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=As(e,i,a),t!==null&&(Ir(t,e,a,n),ul(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ut(),n=Ls(e),a=os(r,n);a.tag=2,t!=null&&(a.callback=t),t=As(e,a,n),t!==null&&(Ir(t,e,n,r),ul(t,e,n))}};function Zp(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Li(r,n)||!Li(a,i):!0}function fy(e,t,r){var n=!1,a=Bs,i=t.contextType;return typeof i=="object"&&i!==null?i=xr(i):(a=Gt(t)?bn:Pt.current,n=t.contextTypes,i=(n=n!=null)?ga(e,a):Bs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ex(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xc.enqueueReplaceState(t,t.state,null)}function Su(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Zh(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=xr(i):(i=Gt(t)?bn:Pt.current,a.context=ga(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_u(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&xc.enqueueReplaceState(a,a.state,null),Dl(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function wa(e,t){try{var r="",n=t;do r+=Y1(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function hd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Eu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var k2=typeof WeakMap=="function"?WeakMap:Map;function my(e,t,r){r=os(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zl||(zl=!0,Du=n),Eu(e,t)},r}function py(e,t,r){r=os(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Eu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Eu(e,t),typeof n!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function tx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new k2;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=D2.bind(null,e,t,r),t.then(e,e))}function rx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=os(-1,1),t.tag=2,As(r,t,1))),r.lanes|=1),e)}var N2=fs.ReactCurrentOwner,Wt=!1;function At(e,t,r,n){t.child=e===null?qb(t,null,r,n):ya(t,e.child,r,n)}function nx(e,t,r,n,a){r=r.render;var i=t.ref;return oa(t,a),n=nf(e,t,r,n,i,a),r=af(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,us(e,t,a)):(Qe&&r&&Gh(t),t.flags|=1,At(e,t,n,a),t.child)}function ax(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!xf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xy(e,t,i,n,a)):(e=gl(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Li,r(o,n)&&e.ref===t.ref)return us(e,t,a)}return t.flags|=1,e=Us(i,n),e.ref=t.ref,e.return=t,t.child=e}function xy(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Li(i,n)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,us(e,t,a)}return Tu(e,t,r,n,a)}function gy(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ea,Zt),Zt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(ea,Zt),Zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qe(ea,Zt),Zt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qe(ea,Zt),Zt|=n;return At(e,t,a,r),t.child}function by(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,r,n,a){var i=Gt(r)?bn:Pt.current;return i=ga(t,i),oa(t,a),r=nf(e,t,r,n,i,a),n=af(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,us(e,t,a)):(Qe&&n&&Gh(t),t.flags|=1,At(e,t,r,a),t.child)}function ix(e,t,r,n,a){if(Gt(r)){var i=!0;Il(t)}else i=!1;if(oa(t,a),t.stateNode===null)ml(e,t),fy(t,r,n),Su(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=xr(d):(d=Gt(r)?bn:Pt.current,d=ga(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&ex(t,o,n,d),vs=!1;var f=t.memoizedState;o.state=f,Dl(t,n,o,a),c=t.memoizedState,l!==n||f!==c||Ht.current||vs?(typeof u=="function"&&(_u(t,r,u,n),c=t.memoizedState),(l=vs||Zp(t,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Gb(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:kr(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=xr(c):(c=Gt(r)?bn:Pt.current,c=ga(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&ex(t,o,n,c),vs=!1,f=t.memoizedState,o.state=f,Dl(t,n,o,a);var g=t.memoizedState;l!==h||f!==g||Ht.current||vs?(typeof m=="function"&&(_u(t,r,m,n),g=t.memoizedState),(d=vs||Zp(t,r,d,n,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Cu(e,t,r,n,i,a)}function Cu(e,t,r,n,a,i){by(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Hp(t,r,!1),us(e,t,i);n=t.stateNode,N2.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ya(t,e.child,null,i),t.child=ya(t,null,l,i)):At(e,t,l,i),t.memoizedState=n.state,a&&Hp(t,r,!0),t.child}function yy(e){var t=e.stateNode;t.pendingContext?qp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qp(e,t.context,!1),ef(e,t.containerInfo)}function ox(e,t,r,n,a){return ba(),Kh(a),t.flags|=256,At(e,t,r,n),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null,transitions:null}}function vy(e,t,r){var n=t.pendingProps,a=Ze.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qe(Ze,a&1),e===null)return ku(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yc(o,n,0,null),e=un(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ru(r),t.memoizedState=Pu,e):cf(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return _2(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Us(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Us(l,i):(i=un(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Ru(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Pu,n}return i=e.child,e=i.sibling,n=Us(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function cf(e,t){return t=yc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qo(e,t,r,n){return n!==null&&Kh(n),ya(t,e.child,null,r),e=cf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _2(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=hd(Error(M(422))),qo(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=yc({mode:"visible",children:n.children},a,0,null),i=un(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ya(t,e.child,null,o),t.child.memoizedState=Ru(o),t.memoizedState=Pu,i);if(!(t.mode&1))return qo(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(M(419)),n=hd(i,n,void 0),qo(e,t,o,n)}if(l=(o&e.childLanes)!==0,Wt||l){if(n=gt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ds(e,a),Ir(n,e,a,-1))}return pf(),n=hd(Error(M(421))),qo(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=M2.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,sr=Is(a.nextSibling),nr=t,Qe=!0,Er=null,e!==null&&(dr[ur++]=rs,dr[ur++]=ss,dr[ur++]=yn,rs=e.id,ss=e.overflow,yn=t),t=cf(t,n.children),t.flags|=4096,t)}function lx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Nu(e.return,t,r)}function fd(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function wy(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(At(e,t,n.children,r),n=Ze.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lx(e,r,t);else if(e.tag===19)lx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qe(Ze,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ml(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),fd(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ml(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}fd(t,!0,r,null,i);break;case"together":fd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function us(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,r=Us(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Us(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function S2(e,t,r){switch(t.tag){case 3:yy(t),ba();break;case 5:Vb(t);break;case 1:Gt(t.type)&&Il(t);break;case 4:ef(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;qe(Ll,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qe(Ze,Ze.current&1),t.flags|=128,null):r&t.child.childLanes?vy(e,t,r):(qe(Ze,Ze.current&1),e=us(e,t,r),e!==null?e.sibling:null);qe(Ze,Ze.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return wy(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qe(Ze,Ze.current),n)break;return null;case 22:case 23:return t.lanes=0,gy(e,t,r)}return us(e,t,r)}var jy,Iu,ky,Ny;jy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Iu=function(){};ky=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,an(Vr.current);var i=null;switch(r){case"input":a=eu(e,a),n=eu(e,n),i=[];break;case"select":a=tt({},a,{value:void 0}),n=tt({},n,{value:void 0}),i=[];break;case"textarea":a=su(e,a),n=su(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pl)}au(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ti.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&He("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Ny=function(e,t,r,n){r!==n&&(t.flags|=4)};function Qa(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function E2(e,t,r){var n=t.pendingProps;switch(Vh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Gt(t.type)&&Rl(),Et(t),null;case 3:return n=t.stateNode,va(),Ve(Ht),Ve(Pt),rf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Er!==null&&(Fu(Er),Er=null))),Iu(e,t),Et(t),null;case 5:tf(t);var a=an(Fi.current);if(r=t.type,e!==null&&t.stateNode!=null)ky(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(M(166));return Et(t),null}if(e=an(Vr.current),zo(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Wr]=t,n[Mi]=i,e=(t.mode&1)!==0,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(a=0;a<di.length;a++)He(di[a],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":gp(n,i),He("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},He("invalid",n);break;case"textarea":yp(n,i),He("invalid",n)}au(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Bo(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Bo(n.textContent,l,e),a=["children",""+l]):Ti.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&He("scroll",n)}switch(r){case"input":Ao(n),bp(n,i,!0);break;case"textarea":Ao(n),vp(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=X0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Wr]=t,e[Mi]=n,jy(e,t,!1,!1),t.stateNode=e;e:{switch(o=iu(r,n),r){case"dialog":He("cancel",e),He("close",e),a=n;break;case"iframe":case"object":case"embed":He("load",e),a=n;break;case"video":case"audio":for(a=0;a<di.length;a++)He(di[a],e);a=n;break;case"source":He("error",e),a=n;break;case"img":case"image":case"link":He("error",e),He("load",e),a=n;break;case"details":He("toggle",e),a=n;break;case"input":gp(e,n),a=eu(e,n),He("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=tt({},n,{value:void 0}),He("invalid",e);break;case"textarea":yp(e,n),a=su(e,n),He("invalid",e);break;default:a=n}au(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?tb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Z0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ci(e,c):typeof c=="number"&&Ci(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ti.hasOwnProperty(i)?c!=null&&i==="onScroll"&&He("scroll",e):c!=null&&Ih(e,i,c,o))}switch(r){case"input":Ao(e),bp(e,n,!1);break;case"textarea":Ao(e),vp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?sa(e,!!n.multiple,i,!1):n.defaultValue!=null&&sa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Pl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)Ny(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(M(166));if(r=an(Fi.current),an(Vr.current),zo(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wr]=t,(i=n.nodeValue!==r)&&(e=nr,e!==null))switch(e.tag){case 3:Bo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bo(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wr]=t,t.stateNode=n}return Et(t),null;case 13:if(Ve(Ze),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&sr!==null&&t.mode&1&&!(t.flags&128))zb(),ba(),t.flags|=98560,i=!1;else if(i=zo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Wr]=t}else ba(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),i=!1}else Er!==null&&(Fu(Er),Er=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?pt===0&&(pt=3):pf())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return va(),Iu(e,t),e===null&&Ui(t.stateNode.containerInfo),Et(t),null;case 10:return Qh(t.type._context),Et(t),null;case 17:return Gt(t.type)&&Rl(),Et(t),null;case 19:if(Ve(Ze),i=t.memoizedState,i===null)return Et(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Qa(i,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ml(e),o!==null){for(t.flags|=128,Qa(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(Ze,Ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&lt()>ja&&(t.flags|=128,n=!0,Qa(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ml(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Et(t),null}else 2*lt()-i.renderingStartTime>ja&&r!==1073741824&&(t.flags|=128,n=!0,Qa(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lt(),t.sibling=null,r=Ze.current,qe(Ze,n?r&1|2:r&1),t):(Et(t),null);case 22:case 23:return mf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zt&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function T2(e,t){switch(Vh(t),t.tag){case 1:return Gt(t.type)&&Rl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return va(),Ve(Ht),Ve(Pt),rf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tf(t),null;case 13:if(Ve(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Ze),null;case 4:return va(),null;case 10:return Qh(t.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var Ho=!1,Ct=!1,C2=typeof WeakSet=="function"?WeakSet:Set,K=null;function Zn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(e,t,n)}else r.current=null}function Au(e,t,r){try{r()}catch(n){st(e,t,n)}}var cx=!1;function P2(e,t){if(xu=El,e=Cb(),Hh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++d===a&&(l=o),f===i&&++u===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(gu={focusedElem:e,selectionRange:r},El=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:kr(t.type,y),w);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(j){st(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return g=cx,cx=!1,g}function bi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Au(t,r,i)}a=a.next}while(a!==n)}}function gc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ou(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _y(e){var t=e.alternate;t!==null&&(e.alternate=null,_y(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wr],delete t[Mi],delete t[vu],delete t[h2],delete t[f2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sy(e){return e.tag===5||e.tag===3||e.tag===4}function dx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pl));else if(n!==4&&(e=e.child,e!==null))for(Lu(e,t,r),e=e.sibling;e!==null;)Lu(e,t,r),e=e.sibling}function Uu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Uu(e,t,r),e=e.sibling;e!==null;)Uu(e,t,r),e=e.sibling}var wt=null,_r=!1;function bs(e,t,r){for(r=r.child;r!==null;)Ey(e,t,r),r=r.sibling}function Ey(e,t,r){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(cc,r)}catch{}switch(r.tag){case 5:Ct||Zn(r,t);case 6:var n=wt,a=_r;wt=null,bs(e,t,r),wt=n,_r=a,wt!==null&&(_r?(e=wt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wt.removeChild(r.stateNode));break;case 18:wt!==null&&(_r?(e=wt,r=r.stateNode,e.nodeType===8?id(e.parentNode,r):e.nodeType===1&&id(e,r),Ai(e)):id(wt,r.stateNode));break;case 4:n=wt,a=_r,wt=r.stateNode.containerInfo,_r=!0,bs(e,t,r),wt=n,_r=a;break;case 0:case 11:case 14:case 15:if(!Ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Au(r,t,o),a=a.next}while(a!==n)}bs(e,t,r);break;case 1:if(!Ct&&(Zn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){st(r,t,l)}bs(e,t,r);break;case 21:bs(e,t,r);break;case 22:r.mode&1?(Ct=(n=Ct)||r.memoizedState!==null,bs(e,t,r),Ct=n):bs(e,t,r);break;default:bs(e,t,r)}}function ux(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new C2),t.forEach(function(n){var a=$2.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function wr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:wt=l.stateNode,_r=!1;break e;case 3:wt=l.stateNode.containerInfo,_r=!0;break e;case 4:wt=l.stateNode.containerInfo,_r=!0;break e}l=l.return}if(wt===null)throw Error(M(160));Ey(i,o,a),wt=null,_r=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){st(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ty(t,e),t=t.sibling}function Ty(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wr(t,e),$r(e),n&4){try{bi(3,e,e.return),gc(3,e)}catch(y){st(e,e.return,y)}try{bi(5,e,e.return)}catch(y){st(e,e.return,y)}}break;case 1:wr(t,e),$r(e),n&512&&r!==null&&Zn(r,r.return);break;case 5:if(wr(t,e),$r(e),n&512&&r!==null&&Zn(r,r.return),e.flags&32){var a=e.stateNode;try{Ci(a,"")}catch(y){st(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Y0(a,i),iu(l,o);var d=iu(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?tb(a,h):u==="dangerouslySetInnerHTML"?Z0(a,h):u==="children"?Ci(a,h):Ih(a,u,h,d)}switch(l){case"input":tu(a,i);break;case"textarea":Q0(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?sa(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?sa(a,!!i.multiple,i.defaultValue,!0):sa(a,!!i.multiple,i.multiple?[]:"",!1))}a[Mi]=i}catch(y){st(e,e.return,y)}}break;case 6:if(wr(t,e),$r(e),n&4){if(e.stateNode===null)throw Error(M(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){st(e,e.return,y)}}break;case 3:if(wr(t,e),$r(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(y){st(e,e.return,y)}break;case 4:wr(t,e),$r(e);break;case 13:wr(t,e),$r(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(hf=lt())),n&4&&ux(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ct=(d=Ct)||u,wr(t,e),Ct=d):wr(t,e),$r(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(K=e,u=e.child;u!==null;){for(h=K=u;K!==null;){switch(f=K,m=f.child,f.tag){case 0:case 11:case 14:case 15:bi(4,f,f.return);break;case 1:Zn(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){st(n,r,y)}}break;case 5:Zn(f,f.return);break;case 22:if(f.memoizedState!==null){fx(h);continue}}m!==null?(m.return=f,K=m):fx(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=eb("display",o))}catch(y){st(e,e.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){st(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wr(t,e),$r(e),n&4&&ux(e);break;case 21:break;default:wr(t,e),$r(e)}}function $r(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Sy(r)){var n=r;break e}r=r.return}throw Error(M(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ci(a,""),n.flags&=-33);var i=dx(e);Uu(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=dx(e);Lu(e,l,o);break;default:throw Error(M(161))}}catch(c){st(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R2(e,t,r){K=e,Cy(e)}function Cy(e,t,r){for(var n=(e.mode&1)!==0;K!==null;){var a=K,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ho;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ct;l=Ho;var d=Ct;if(Ho=o,(Ct=c)&&!d)for(K=a;K!==null;)o=K,c=o.child,o.tag===22&&o.memoizedState!==null?mx(a):c!==null?(c.return=o,K=c):mx(a);for(;i!==null;)K=i,Cy(i),i=i.sibling;K=a,Ho=l,Ct=d}hx(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,K=i):hx(e)}}function hx(e){for(;K!==null;){var t=K;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||gc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ct)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:kr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Yp(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yp(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ai(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ct||t.flags&512&&Ou(t)}catch(f){st(t,t.return,f)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function fx(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function mx(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gc(4,t)}catch(c){st(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){st(t,a,c)}}var i=t.return;try{Ou(t)}catch(c){st(t,i,c)}break;case 5:var o=t.return;try{Ou(t)}catch(c){st(t,o,c)}}}catch(c){st(t,t.return,c)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var I2=Math.ceil,Bl=fs.ReactCurrentDispatcher,df=fs.ReactCurrentOwner,pr=fs.ReactCurrentBatchConfig,Ae=0,gt=null,ht=null,jt=0,Zt=0,ea=qs(0),pt=0,qi=null,wn=0,bc=0,uf=0,yi=null,zt=null,hf=0,ja=1/0,Zr=null,zl=!1,Du=null,Os=null,Go=!1,Es=null,Wl=0,vi=0,Mu=null,pl=-1,xl=0;function Ut(){return Ae&6?lt():pl!==-1?pl:pl=lt()}function Ls(e){return e.mode&1?Ae&2&&jt!==0?jt&-jt:p2.transition!==null?(xl===0&&(xl=fb()),xl):(e=Be,e!==0||(e=window.event,e=e===void 0?16:vb(e.type)),e):1}function Ir(e,t,r,n){if(50<vi)throw vi=0,Mu=null,Error(M(185));oo(e,r,n),(!(Ae&2)||e!==gt)&&(e===gt&&(!(Ae&2)&&(bc|=r),pt===4&&ks(e,jt)),Vt(e,n),r===1&&Ae===0&&!(t.mode&1)&&(ja=lt()+500,mc&&Hs()))}function Vt(e,t){var r=e.callbackNode;pS(e,t);var n=Sl(e,e===gt?jt:0);if(n===0)r!==null&&kp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&kp(r),t===1)e.tag===0?m2(px.bind(null,e)):$b(px.bind(null,e)),d2(function(){!(Ae&6)&&Hs()}),r=null;else{switch(mb(n)){case 1:r=Dh;break;case 4:r=ub;break;case 16:r=_l;break;case 536870912:r=hb;break;default:r=_l}r=Dy(r,Py.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Py(e,t){if(pl=-1,xl=0,Ae&6)throw Error(M(327));var r=e.callbackNode;if(la()&&e.callbackNode!==r)return null;var n=Sl(e,e===gt?jt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ql(e,n);else{t=n;var a=Ae;Ae|=2;var i=Iy();(gt!==e||jt!==t)&&(Zr=null,ja=lt()+500,dn(e,t));do try{L2();break}catch(l){Ry(e,l)}while(!0);Yh(),Bl.current=i,Ae=a,ht!==null?t=0:(gt=null,jt=0,t=pt)}if(t!==0){if(t===2&&(a=uu(e),a!==0&&(n=a,t=$u(e,a))),t===1)throw r=qi,dn(e,0),ks(e,n),Vt(e,lt()),r;if(t===6)ks(e,n);else{if(a=e.current.alternate,!(n&30)&&!A2(a)&&(t=ql(e,n),t===2&&(i=uu(e),i!==0&&(n=i,t=$u(e,i))),t===1))throw r=qi,dn(e,0),ks(e,n),Vt(e,lt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(M(345));case 2:Xs(e,zt,Zr);break;case 3:if(ks(e,n),(n&130023424)===n&&(t=hf+500-lt(),10<t)){if(Sl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ut(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=yu(Xs.bind(null,e,zt,Zr),t);break}Xs(e,zt,Zr);break;case 4:if(ks(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Rr(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I2(n/1960))-n,10<n){e.timeoutHandle=yu(Xs.bind(null,e,zt,Zr),n);break}Xs(e,zt,Zr);break;case 5:Xs(e,zt,Zr);break;default:throw Error(M(329))}}}return Vt(e,lt()),e.callbackNode===r?Py.bind(null,e):null}function $u(e,t){var r=yi;return e.current.memoizedState.isDehydrated&&(dn(e,t).flags|=256),e=ql(e,t),e!==2&&(t=zt,zt=r,t!==null&&Fu(t)),e}function Fu(e){zt===null?zt=e:zt.push.apply(zt,e)}function A2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ar(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ks(e,t){for(t&=~uf,t&=~bc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rr(t),n=1<<r;e[r]=-1,t&=~n}}function px(e){if(Ae&6)throw Error(M(327));la();var t=Sl(e,0);if(!(t&1))return Vt(e,lt()),null;var r=ql(e,t);if(e.tag!==0&&r===2){var n=uu(e);n!==0&&(t=n,r=$u(e,n))}if(r===1)throw r=qi,dn(e,0),ks(e,t),Vt(e,lt()),r;if(r===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xs(e,zt,Zr),Vt(e,lt()),null}function ff(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(ja=lt()+500,mc&&Hs())}}function jn(e){Es!==null&&Es.tag===0&&!(Ae&6)&&la();var t=Ae;Ae|=1;var r=pr.transition,n=Be;try{if(pr.transition=null,Be=1,e)return e()}finally{Be=n,pr.transition=r,Ae=t,!(Ae&6)&&Hs()}}function mf(){Zt=ea.current,Ve(ea)}function dn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,c2(r)),ht!==null)for(r=ht.return;r!==null;){var n=r;switch(Vh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rl();break;case 3:va(),Ve(Ht),Ve(Pt),rf();break;case 5:tf(n);break;case 4:va();break;case 13:Ve(Ze);break;case 19:Ve(Ze);break;case 10:Qh(n.type._context);break;case 22:case 23:mf()}r=r.return}if(gt=e,ht=e=Us(e.current,null),jt=Zt=t,pt=0,qi=null,uf=bc=wn=0,zt=yi=null,nn!==null){for(t=0;t<nn.length;t++)if(r=nn[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}nn=null}return e}function Ry(e,t){do{var r=ht;try{if(Yh(),hl.current=Fl,$l){for(var n=et.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}$l=!1}if(vn=0,xt=mt=et=null,gi=!1,Bi=0,df.current=null,r===null||r.return===null){pt=1,qi=t,ht=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=rx(o);if(m!==null){m.flags&=-257,sx(m,o,l,i,t),m.mode&1&&tx(i,d,t),t=m,c=d;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){tx(i,d,t),pf();break e}c=Error(M(426))}}else if(Qe&&l.mode&1){var w=rx(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),sx(w,o,l,i,t),Kh(wa(c,l));break e}}i=c=wa(c,l),pt!==4&&(pt=2),yi===null?yi=[i]:yi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=my(i,c,t);Jp(i,b);break e;case 1:l=c;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Os===null||!Os.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=py(i,l,t);Jp(i,j);break e}}i=i.return}while(i!==null)}Oy(r)}catch(N){t=N,ht===r&&r!==null&&(ht=r=r.return);continue}break}while(!0)}function Iy(){var e=Bl.current;return Bl.current=Fl,e===null?Fl:e}function pf(){(pt===0||pt===3||pt===2)&&(pt=4),gt===null||!(wn&268435455)&&!(bc&268435455)||ks(gt,jt)}function ql(e,t){var r=Ae;Ae|=2;var n=Iy();(gt!==e||jt!==t)&&(Zr=null,dn(e,t));do try{O2();break}catch(a){Ry(e,a)}while(!0);if(Yh(),Ae=r,Bl.current=n,ht!==null)throw Error(M(261));return gt=null,jt=0,pt}function O2(){for(;ht!==null;)Ay(ht)}function L2(){for(;ht!==null&&!iS();)Ay(ht)}function Ay(e){var t=Uy(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?Oy(e):ht=t,df.current=null}function Oy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=T2(r,t),r!==null){r.flags&=32767,ht=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ht=null;return}}else if(r=E2(r,t,Zt),r!==null){ht=r;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);pt===0&&(pt=5)}function Xs(e,t,r){var n=Be,a=pr.transition;try{pr.transition=null,Be=1,U2(e,t,r,n)}finally{pr.transition=a,Be=n}return null}function U2(e,t,r,n){do la();while(Es!==null);if(Ae&6)throw Error(M(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(xS(e,i),e===gt&&(ht=gt=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Go||(Go=!0,Dy(_l,function(){return la(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=pr.transition,pr.transition=null;var o=Be;Be=1;var l=Ae;Ae|=4,df.current=null,P2(e,r),Ty(r,e),r2(gu),El=!!xu,gu=xu=null,e.current=r,R2(r),oS(),Ae=l,Be=o,pr.transition=i}else e.current=r;if(Go&&(Go=!1,Es=e,Wl=a),i=e.pendingLanes,i===0&&(Os=null),dS(r.stateNode),Vt(e,lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(zl)throw zl=!1,e=Du,Du=null,e;return Wl&1&&e.tag!==0&&la(),i=e.pendingLanes,i&1?e===Mu?vi++:(vi=0,Mu=e):vi=0,Hs(),null}function la(){if(Es!==null){var e=mb(Wl),t=pr.transition,r=Be;try{if(pr.transition=null,Be=16>e?16:e,Es===null)var n=!1;else{if(e=Es,Es=null,Wl=0,Ae&6)throw Error(M(331));var a=Ae;for(Ae|=4,K=e.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(K=d;K!==null;){var u=K;switch(u.tag){case 0:case 11:case 15:bi(8,u,i)}var h=u.child;if(h!==null)h.return=u,K=h;else for(;K!==null;){u=K;var f=u.sibling,m=u.return;if(_y(u),u===d){K=null;break}if(f!==null){f.return=m,K=f;break}K=m}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bi(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,K=b;break e}K=i.return}}var x=e.current;for(K=x;K!==null;){o=K;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,K=v;else e:for(o=x;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gc(9,l)}}catch(N){st(l,l.return,N)}if(l===o){K=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,K=j;break e}K=l.return}}if(Ae=a,Hs(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(cc,e)}catch{}n=!0}return n}finally{Be=r,pr.transition=t}}return!1}function xx(e,t,r){t=wa(r,t),t=my(e,t,1),e=As(e,t,1),t=Ut(),e!==null&&(oo(e,1,t),Vt(e,t))}function st(e,t,r){if(e.tag===3)xx(e,e,r);else for(;t!==null;){if(t.tag===3){xx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Os===null||!Os.has(n))){e=wa(r,e),e=py(t,e,1),t=As(t,e,1),e=Ut(),t!==null&&(oo(t,1,e),Vt(t,e));break}}t=t.return}}function D2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&r,gt===e&&(jt&r)===r&&(pt===4||pt===3&&(jt&130023424)===jt&&500>lt()-hf?dn(e,0):uf|=r),Vt(e,t)}function Ly(e,t){t===0&&(e.mode&1?(t=Uo,Uo<<=1,!(Uo&130023424)&&(Uo=4194304)):t=1);var r=Ut();e=ds(e,t),e!==null&&(oo(e,t,r),Vt(e,r))}function M2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ly(e,r)}function $2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(M(314))}n!==null&&n.delete(t),Ly(e,r)}var Uy;Uy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,S2(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,Qe&&t.flags&1048576&&Fb(t,Ol,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ml(e,t),e=t.pendingProps;var a=ga(t,Pt.current);oa(t,r),a=nf(null,t,n,e,a,r);var i=af();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(n)?(i=!0,Il(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Zh(t),a.updater=xc,t.stateNode=a,a._reactInternals=t,Su(t,n,e,r),t=Cu(null,t,n,!0,i,r)):(t.tag=0,Qe&&i&&Gh(t),At(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ml(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=B2(n),e=kr(n,e),a){case 0:t=Tu(null,t,n,e,r);break e;case 1:t=ix(null,t,n,e,r);break e;case 11:t=nx(null,t,n,e,r);break e;case 14:t=ax(null,t,n,kr(n.type,e),r);break e}throw Error(M(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:kr(n,a),Tu(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:kr(n,a),ix(e,t,n,a,r);case 3:e:{if(yy(t),e===null)throw Error(M(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Gb(e,t),Dl(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=wa(Error(M(423)),t),t=ox(e,t,n,r,a);break e}else if(n!==a){a=wa(Error(M(424)),t),t=ox(e,t,n,r,a);break e}else for(sr=Is(t.stateNode.containerInfo.firstChild),nr=t,Qe=!0,Er=null,r=qb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ba(),n===a){t=us(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 5:return Vb(t),e===null&&ku(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,bu(n,a)?o=null:i!==null&&bu(n,i)&&(t.flags|=32),by(e,t),At(e,t,o,r),t.child;case 6:return e===null&&ku(t),null;case 13:return vy(e,t,r);case 4:return ef(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ya(t,null,n,r):At(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:kr(n,a),nx(e,t,n,a,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,qe(Ll,n._currentValue),n._currentValue=o,i!==null)if(Ar(i.value,o)){if(i.children===a.children&&!Ht.current){t=us(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=os(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Nu(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Nu(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}At(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,oa(t,r),a=xr(a),n=n(a),t.flags|=1,At(e,t,n,r),t.child;case 14:return n=t.type,a=kr(n,t.pendingProps),a=kr(n.type,a),ax(e,t,n,a,r);case 15:return xy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:kr(n,a),ml(e,t),t.tag=1,Gt(n)?(e=!0,Il(t)):e=!1,oa(t,r),fy(t,n,a),Su(t,n,a,r),Cu(null,t,n,!0,e,r);case 19:return wy(e,t,r);case 22:return gy(e,t,r)}throw Error(M(156,t.tag))};function Dy(e,t){return db(e,t)}function F2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(e,t,r,n){return new F2(e,t,r,n)}function xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function B2(e){if(typeof e=="function")return xf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oh)return 11;if(e===Lh)return 14}return 2}function Us(e,t){var r=e.alternate;return r===null?(r=hr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gl(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")xf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qn:return un(r.children,a,i,t);case Ah:o=8,a|=8;break;case Yd:return e=hr(12,r,t,a|2),e.elementType=Yd,e.lanes=i,e;case Qd:return e=hr(13,r,t,a),e.elementType=Qd,e.lanes=i,e;case Xd:return e=hr(19,r,t,a),e.elementType=Xd,e.lanes=i,e;case V0:return yc(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H0:o=10;break e;case G0:o=9;break e;case Oh:o=11;break e;case Lh:o=14;break e;case ys:o=16,n=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=hr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function un(e,t,r,n){return e=hr(7,e,n,t),e.lanes=r,e}function yc(e,t,r,n){return e=hr(22,e,n,t),e.elementType=V0,e.lanes=r,e.stateNode={isHidden:!1},e}function md(e,t,r){return e=hr(6,e,null,t),e.lanes=r,e}function pd(e,t,r){return t=hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z2(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jc(0),this.expirationTimes=Jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function gf(e,t,r,n,a,i,o,l,c){return e=new z2(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=hr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(i),e}function W2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function My(e){if(!e)return Bs;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var r=e.type;if(Gt(r))return Mb(e,r,t)}return t}function $y(e,t,r,n,a,i,o,l,c){return e=gf(r,n,!0,e,a,i,o,l,c),e.context=My(null),r=e.current,n=Ut(),a=Ls(r),i=os(n,a),i.callback=t??null,As(r,i,a),e.current.lanes=a,oo(e,a,n),Vt(e,n),e}function vc(e,t,r,n){var a=t.current,i=Ut(),o=Ls(a);return r=My(r),t.context===null?t.context=r:t.pendingContext=r,t=os(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=As(a,t,o),e!==null&&(Ir(e,a,o,i),ul(e,a,o)),o}function Hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bf(e,t){gx(e,t),(e=e.alternate)&&gx(e,t)}function q2(){return null}var Fy=typeof reportError=="function"?reportError:function(e){console.error(e)};function yf(e){this._internalRoot=e}wc.prototype.render=yf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));vc(e,t,null,null)};wc.prototype.unmount=yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){vc(null,e,null,null)}),t[cs]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=gb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<js.length&&t!==0&&t<js[r].priority;r++);js.splice(r,0,e),r===0&&yb(e)}};function vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bx(){}function H2(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Hl(o);i.call(d)}}var o=$y(t,n,e,0,null,!1,!1,"",bx);return e._reactRootContainer=o,e[cs]=o.current,Ui(e.nodeType===8?e.parentNode:e),jn(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Hl(c);l.call(d)}}var c=gf(e,0,!1,null,null,!1,!1,"",bx);return e._reactRootContainer=c,e[cs]=c.current,Ui(e.nodeType===8?e.parentNode:e),jn(function(){vc(t,c,r,n)}),c}function kc(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Hl(o);l.call(c)}}vc(t,o,e,a)}else o=H2(r,t,e,a,n);return Hl(o)}pb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ci(t.pendingLanes);r!==0&&(Mh(t,r|1),Vt(t,lt()),!(Ae&6)&&(ja=lt()+500,Hs()))}break;case 13:jn(function(){var n=ds(e,1);if(n!==null){var a=Ut();Ir(n,e,1,a)}}),bf(e,1)}};$h=function(e){if(e.tag===13){var t=ds(e,134217728);if(t!==null){var r=Ut();Ir(t,e,134217728,r)}bf(e,134217728)}};xb=function(e){if(e.tag===13){var t=Ls(e),r=ds(e,t);if(r!==null){var n=Ut();Ir(r,e,t,n)}bf(e,t)}};gb=function(){return Be};bb=function(e,t){var r=Be;try{return Be=e,t()}finally{Be=r}};lu=function(e,t,r){switch(t){case"input":if(tu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=fc(n);if(!a)throw Error(M(90));J0(n),tu(n,a)}}}break;case"textarea":Q0(e,r);break;case"select":t=r.value,t!=null&&sa(e,!!r.multiple,t,!1)}};nb=ff;ab=jn;var G2={usingClientEntryPoint:!1,Events:[co,Kn,fc,rb,sb,ff]},Xa={findFiberByHostInstance:sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V2={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lb(e),e===null?null:e.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||q2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{cc=Vo.inject(V2),Gr=Vo}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G2;ir.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vf(t))throw Error(M(200));return W2(e,t,null,r)};ir.createRoot=function(e,t){if(!vf(e))throw Error(M(299));var r=!1,n="",a=Fy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=gf(e,1,!1,null,null,r,!1,n,a),e[cs]=t.current,Ui(e.nodeType===8?e.parentNode:e),new yf(t)};ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=lb(t),e=e===null?null:e.stateNode,e};ir.flushSync=function(e){return jn(e)};ir.hydrate=function(e,t,r){if(!jc(t))throw Error(M(200));return kc(null,e,t,!0,r)};ir.hydrateRoot=function(e,t,r){if(!vf(e))throw Error(M(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Fy;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$y(t,null,e,1,r??null,a,!1,i,o),e[cs]=t.current,Ui(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new wc(t)};ir.render=function(e,t,r){if(!jc(t))throw Error(M(200));return kc(null,e,t,!1,r)};ir.unmountComponentAtNode=function(e){if(!jc(e))throw Error(M(40));return e._reactRootContainer?(jn(function(){kc(null,null,e,!1,function(){e._reactRootContainer=null,e[cs]=null})}),!0):!1};ir.unstable_batchedUpdates=ff;ir.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jc(r))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return kc(e,t,r,!1,n)};ir.version="18.3.1-next-f1338f8080-20240426";function By(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(By)}catch(e){console.error(e)}}By(),B0.exports=ir;var hn=B0.exports;const bl=Nn(hn);var yx=hn;Kd.createRoot=yx.createRoot,Kd.hydrateRoot=yx.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(this,arguments)}var Ts;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ts||(Ts={}));const vx="popstate";function K2(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Bu("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Gl(a)}return Y2(t,r,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function J2(){return Math.random().toString(36).substr(2,8)}function wx(e,t){return{usr:e.state,key:e.key,idx:t}}function Bu(e,t,r,n){return r===void 0&&(r=null),Hi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ua(t):t,{state:r,key:t&&t.key||n||J2()})}function Gl(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ua(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Y2(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Ts.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Hi({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Ts.Pop;let w=u(),b=w==null?null:w-d;d=w,c&&c({action:l,location:y.location,delta:b})}function f(w,b){l=Ts.Push;let x=Bu(y.location,w,b);d=u()+1;let v=wx(x,d),j=y.createHref(x);try{o.pushState(v,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:y.location,delta:1})}function m(w,b){l=Ts.Replace;let x=Bu(y.location,w,b);d=u();let v=wx(x,d),j=y.createHref(x);o.replaceState(v,"",j),i&&c&&c({action:l,location:y.location,delta:0})}function g(w){let b=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof w=="string"?w:Gl(w);return x=x.replace(/ $/,"%20"),dt(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let y={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(vx,h),c=w,()=>{a.removeEventListener(vx,h),c=null}},createHref(w){return t(a,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(w){return o.go(w)}};return y}var jx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jx||(jx={}));function Q2(e,t,r){return r===void 0&&(r="/"),X2(e,t,r)}function X2(e,t,r,n){let a=typeof t=="string"?Ua(t):t,i=jf(a.pathname||"/",r);if(i==null)return null;let o=zy(e);Z2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=uE(i);l=lE(o[c],d)}return l}function zy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(dt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ds([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(dt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),zy(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:iE(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Wy(i.path))a(i,o,c)}),t}function Wy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Wy(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Z2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oE(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eE=/^:[\w-]+$/,tE=3,rE=2,sE=1,nE=10,aE=-2,kx=e=>e==="*";function iE(e,t){let r=e.split("/"),n=r.length;return r.some(kx)&&(n+=aE),t&&(n+=rE),r.filter(a=>!kx(a)).reduce((a,i)=>a+(eE.test(i)?tE:i===""?sE:nE),n)}function oE(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function lE(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=cE({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Ds([i,h.pathname]),pathnameBase:xE(Ds([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ds([i,h.pathnameBase]))}return o}function cE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=dE(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function dE(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),wf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function uE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const hE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fE=e=>hE.test(e);function mE(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ua(e):e,i;if(r)if(fE(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),wf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Nx(r.substring(1),"/"):i=Nx(r,t)}else i=t;return{pathname:i,search:gE(n),hash:bE(a)}}function Nx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function xd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function kf(e,t){let r=pE(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Nf(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ua(e):(a=Hi({},e),dt(!a.pathname||!a.pathname.includes("?"),xd("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),xd("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),xd("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=mE(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ds=e=>e.join("/").replace(/\/\/+/g,"/"),xE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qy=["post","put","patch","delete"];new Set(qy);const vE=["get",...qy];new Set(vE);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gi.apply(this,arguments)}const _f=p.createContext(null),wE=p.createContext(null),Gs=p.createContext(null),Nc=p.createContext(null),ms=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Hy=p.createContext(null);function jE(e,t){let{relative:r}=t===void 0?{}:t;Da()||dt(!1);let{basename:n,navigator:a}=p.useContext(Gs),{hash:i,pathname:o,search:l}=Ky(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ds([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Da(){return p.useContext(Nc)!=null}function lr(){return Da()||dt(!1),p.useContext(Nc).location}function Gy(e){p.useContext(Gs).static||p.useLayoutEffect(e)}function De(){let{isDataRoute:e}=p.useContext(ms);return e?LE():kE()}function kE(){Da()||dt(!1);let e=p.useContext(_f),{basename:t,future:r,navigator:n}=p.useContext(Gs),{matches:a}=p.useContext(ms),{pathname:i}=lr(),o=JSON.stringify(kf(a,r.v7_relativeSplatPath)),l=p.useRef(!1);return Gy(()=>{l.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=Nf(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ds([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}function Vy(){let{matches:e}=p.useContext(ms),t=e[e.length-1];return t?t.params:{}}function Ky(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(Gs),{matches:a}=p.useContext(ms),{pathname:i}=lr(),o=JSON.stringify(kf(a,n.v7_relativeSplatPath));return p.useMemo(()=>Nf(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function NE(e,t){return _E(e,t)}function _E(e,t,r,n){Da()||dt(!1);let{navigator:a}=p.useContext(Gs),{matches:i}=p.useContext(ms),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=lr(),u;if(t){var h;let w=typeof t=="string"?Ua(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||dt(!1),u=w}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=Q2(e,{pathname:m}),y=PE(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ds([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ds([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&y?p.createElement(Nc.Provider,{value:{location:Gi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ts.Pop}},y):y}function SE(){let e=OE(),t=yE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const EE=p.createElement(SE,null);class TE extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(ms.Provider,{value:this.props.routeContext},p.createElement(Hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CE(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(_f);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(ms.Provider,{value:t},n)}function PE(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||dt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,g=!1,y=null,w=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||EE,c&&(d<0&&f===0?(UE("route-fallback"),g=!0,w=null):d===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,f+1)),x=()=>{let v;return m?v=y:g?v=w:h.route.Component?v=p.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,p.createElement(CE,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(TE,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var Jy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jy||{}),Yy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yy||{});function RE(e){let t=p.useContext(_f);return t||dt(!1),t}function IE(e){let t=p.useContext(wE);return t||dt(!1),t}function AE(e){let t=p.useContext(ms);return t||dt(!1),t}function Qy(e){let t=AE(),r=t.matches[t.matches.length-1];return r.route.id||dt(!1),r.route.id}function OE(){var e;let t=p.useContext(Hy),r=IE(),n=Qy();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function LE(){let{router:e}=RE(Jy.UseNavigateStable),t=Qy(Yy.UseNavigateStable),r=p.useRef(!1);return Gy(()=>{r.current=!0}),p.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Gi({fromRouteId:t},i)))},[e,t])}const _x={};function UE(e,t,r){_x[e]||(_x[e]=!0)}function DE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wi(e){let{to:t,replace:r,state:n,relative:a}=e;Da()||dt(!1);let{future:i,static:o}=p.useContext(Gs),{matches:l}=p.useContext(ms),{pathname:c}=lr(),d=De(),u=Nf(t,kf(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return p.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:a}),[d,h,a,r,n]),null}function Ce(e){dt(!1)}function ME(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ts.Pop,navigator:i,static:o=!1,future:l}=e;Da()&&dt(!1);let c=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:i,static:o,future:Gi({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Ua(n));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=n,y=p.useMemo(()=>{let w=jf(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:m,key:g},navigationType:a}},[c,u,h,f,m,g,a]);return y==null?null:p.createElement(Gs.Provider,{value:d},p.createElement(Nc.Provider,{children:r,value:y}))}function $E(e){let{children:t,location:r}=e;return NE(zu(t),r)}new Promise(()=>{});function zu(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let i=[...t,a];if(n.type===p.Fragment){r.push.apply(r,zu(n.props.children,i));return}n.type!==Ce&&dt(!1),!n.props.index||!n.props.children||dt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=zu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(this,arguments)}function FE(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function BE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zE(e,t){return e.button===0&&(!t||t==="_self")&&!BE(e)}function qu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function WE(e,t){let r=qu(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const qE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HE="6";try{window.__reactRouterVersion=HE}catch{}const GE="startTransition",Sx=Hw[GE];function VE(e){let{basename:t,children:r,future:n,window:a}=e,i=p.useRef();i.current==null&&(i.current=K2({window:a,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=p.useCallback(h=>{d&&Sx?Sx(()=>c(h)):c(h)},[c,d]);return p.useLayoutEffect(()=>o.listen(u),[o,u]),p.useEffect(()=>DE(n),[n]),p.createElement(ME,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const KE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=p.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=FE(t,qE),{basename:m}=p.useContext(Gs),g,y=!1;if(typeof d=="string"&&JE.test(d)&&(g=d,KE))try{let v=new URL(window.location.href),j=d.startsWith("//")?new URL(v.protocol+d):new URL(d),N=jf(j.pathname,m);j.origin===v.origin&&N!=null?d=N+j.search+j.hash:y=!0}catch{}let w=jE(d,{relative:a}),b=YE(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function x(v){n&&n(v),v.defaultPrevented||b(v)}return p.createElement("a",Wu({},f,{href:g||w,onClick:y||i?n:x,ref:r,target:c}))});var Ex;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ex||(Ex={}));var Tx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tx||(Tx={}));function YE(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=De(),d=lr(),u=Ky(e,{relative:o});return p.useCallback(h=>{if(zE(h,r)){h.preventDefault();let f=n!==void 0?n:Gl(d)===Gl(u);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function Xy(e){let t=p.useRef(qu(e)),r=p.useRef(!1),n=lr(),a=p.useMemo(()=>WE(n.search,r.current?null:t.current),[n.search]),i=De(),o=p.useCallback((l,c)=>{const d=qu(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const QE="modulepreload",XE=function(e){return"/"+e},Cx={},Zy=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=XE(c),c in Cx)return;Cx[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":QE,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Ma(e=null){if(e!=null&&e.id)return e.id;const t="jsp_guest_userKey";let r=localStorage.getItem(t);if(!r){try{r=crypto.randomUUID()}catch{r=`guest_${Date.now()}_${Math.random().toString(36).substring(2,9)} `}localStorage.setItem(t,r)}return r}class nt extends Error{constructor(t,r,n=null){super(t),this.name="ApiError",this.status=r,this.data=n}}async function Te(e,t={}){var y,w;const{parseJson:r=!0,...n}=t,a="https://jobspeak-backend-production.up.railway.app",i=e.startsWith("/")?e:`/${e}`,o=`${a}${i}`,{supabase:l}=await Zy(async()=>{const{supabase:b}=await Promise.resolve().then(()=>wv);return{supabase:b}},void 0),{data:{user:c}}=await l.auth.getUser(),d=Ma(c),u=typeof localStorage<"u"?localStorage.getItem("jsp_guest_userKey"):null,{data:{session:h}}=await l.auth.getSession(),f=h==null?void 0:h.access_token,m={"x-guest-key":u||d,...f?{Authorization:`Bearer ${f}`}:{}};n.body&&!(n.body instanceof FormData)&&((y=n.headers)!=null&&y["Content-Type"]||(m["Content-Type"]="application/json"),typeof n.body=="object"&&!(n.body instanceof FormData)&&(n.body=JSON.stringify(n.body)));const g={...m,...n.headers};try{const b=await fetch(o,{credentials:"include",...n,headers:g});if(typeof window<"u"&&(window.__JSP_DEBUG__||(window.__JSP_DEBUG__={}),window.__JSP_DEBUG__.lastRequest={url:o,status:b.status,backendCommit:b.headers.get("x-jsp-backend-commit"),timestamp:Date.now()}),r){let x;try{x=await b.json()}catch(v){if(!b.ok){const j=await b.text().catch(()=>"");throw new nt(`Request failed with status ${b.status}`,b.status,{errorText:j})}throw v}if(typeof window<"u"&&window.__JSP_DEBUG__&&window.__JSP_DEBUG__.lastRequest&&(window.__JSP_DEBUG__.lastRequest.identityKey=(x==null?void 0:x.identityKey)||((w=x==null?void 0:x.user)==null?void 0:w.id)||"Not found"),!b.ok)throw new nt(x.error||`Request failed with status ${b.status}`,b.status,x);return x}if(!b.ok){const x=await b.text().catch(()=>"");throw new nt(`Request failed with status ${b.status}`,b.status,{errorText:x})}return b}catch(b){throw b instanceof nt?b:new nt(b.message||"Network error",null,{originalError:b})}}function ct(e,t={}){typeof window>"u"||typeof window.gtag=="function"&&window.gtag("event",e,t)}let gd=!1;async function ho({priceType:e="monthly",interval:t=null,source:r="unknown",onLoadingChange:n=null}){if(!gd)try{gd=!0,n&&n(!0);const a=t||e,i=Ma(),o=await Te("/api/billing/create-checkout-session",{method:"POST",body:{interval:a}});if(o!=null&&o.url){try{localStorage.setItem("jobspeak_upgrade_period",e),localStorage.setItem("jobspeak_upgrade_source",r)}catch(l){console.warn("Failed to store upgrade metadata:",l)}ct("begin_checkout",{source:"free_limit_modal"}),window.location.href=o.url}else throw new Error("No checkout URL returned from backend")}catch(a){console.error("Upgrade error:",a),gd=!1,n&&n(!1),alert("We couldn't start checkout. Please try again.")}}function Vl({showPlanPicker:e=!1,defaultPriceType:t="annual",priceType:r=null,onUpgradeClick:n=null}){const[a,i]=p.useState(!1),[o,l]=p.useState(t),c=r!==null?r:o,d=async()=>{n&&n(),ct("upgrade_click",{source:"free_limit_modal"}),await ho({priceType:c,source:"button",onLoadingChange:i})};return e?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-lg",children:[s.jsx("button",{type:"button",onClick:()=>l("monthly"),"aria-pressed":c==="monthly",className:`flex-1 px-3 py-2 rounded-md text-xs font-semibold transition ${c==="monthly"?"bg-emerald-600 text-white shadow-sm":"bg-white text-slate-600 hover:text-slate-900"}`,children:"Monthly"}),s.jsx("button",{type:"button",onClick:()=>l("annual"),"aria-pressed":c==="annual",className:`flex-1 px-3 py-2 rounded-md text-xs font-semibold transition ${c==="annual"?"bg-emerald-600 text-white shadow-sm":"bg-white text-slate-600 hover:text-slate-900"}`,children:"Annual"})]}),s.jsx("button",{onClick:d,disabled:a,className:"w-full h-12 inline-flex items-center justify-center gap-2 px-5 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white text-base font-bold shadow-sm disabled:opacity-60 disabled:cursor-not-allowed",children:a?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{children:"Opening Stripe..."})]}):"Upgrade to Pro"})]}):s.jsx("button",{onClick:d,disabled:a,className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-semibold shadow-sm disabled:opacity-60 disabled:cursor-not-allowed",children:a?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{children:"Opening Stripe..."})]}):"Upgrade to Pro"})}const bd={monthly:{label:"$9.99 / mo"},annual:{label:"$79.99 / yr",savings:"33%"}};function ev({onClose:e,isPro:t=!1,source:r}){const n=p.useRef(!1),[a,i]=p.useState("annual"),o=r||"unknown";p.useEffect(()=>{n.current||(ct("free_limit_reached",{page:"practice"}),ct("paywall_modal_open",{page:"practice",source:o}),n.current=!0)},[o]),p.useEffect(()=>{t&&e()},[t,e]);const l=()=>r==="fix_answer"?"Unlock unlimited answer rewrites":r==="mic"?"Practice speaking without limits":r==="listen"?"Hear every answer spoken naturally":"Free Limit Reached",c=()=>r==="fix_answer"?"You've used your free answer improvements. Upgrade to keep getting instant rewrites for every interview question.":r==="mic"?"You've used your free speaking attempts. Upgrade to keep practicing out loud as much as you want.":r==="listen"?"You've used your free listening attempts. Upgrade to hear every answer spoken in natural, clear English.":"You've practiced hard today. Unlock your full potential and keep the momentum going with JobSpeak Pro.",d=f=>{i(f),ct("paywall_billing_toggle",{page:"practice",period:f})},u=()=>{ct("paywall_modal_close",{page:"practice",source:o}),e()},h=()=>{ct("paywall_upgrade_click",{page:"practice",period:a,source:o});try{localStorage.setItem("jobspeak_upgrade_source",o)}catch(f){console.warn("Failed to store upgrade source:",f)}};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:u,children:s.jsx("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full relative border border-slate-200",onClick:f=>f.stopPropagation(),children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center mb-4",children:s.jsx("span",{className:"material-symbols-outlined text-blue-600",style:{fontSize:32},children:"lock"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:l()}),s.jsx("p",{className:"text-base text-slate-600 leading-relaxed",children:c()}),s.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Keep your momentum going  practice again in seconds."})]}),s.jsxs("ul",{className:"space-y-3 mb-6",children:[s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xs font-bold",children:""})}),s.jsx("span",{className:"text-sm text-slate-900",children:"Unlimited interview answer rewrites"})]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xs font-bold",children:""})}),s.jsx("span",{className:"text-sm text-slate-900",children:"Full Resume Doctor access"})]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xs font-bold",children:""})}),s.jsx("span",{className:"text-sm text-slate-900",children:"Practice speaking with natural voice"})]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xs font-bold",children:""})}),s.jsx("span",{className:"text-sm text-slate-900",children:"Track your progress over time"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-full border border-slate-200",children:[s.jsx("button",{type:"button",onClick:()=>d("monthly"),className:`flex-1 px-3 py-2 rounded-full text-xs font-semibold transition ${a==="monthly"?"bg-emerald-600 text-white shadow-sm":"bg-white text-slate-600 hover:bg-slate-50"}`,children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:"Monthly"}),s.jsx("span",{className:`text-[10px] mt-0.5 ${a==="monthly"?"text-emerald-50":"text-slate-500"}`,children:bd.monthly.label})]})}),s.jsx("button",{type:"button",onClick:()=>d("annual"),className:`flex-1 px-3 py-2 rounded-full text-xs font-semibold transition ${a==="annual"?"bg-emerald-600 text-white shadow-sm":"bg-white text-slate-600 hover:bg-slate-50"}`,children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:"Annual"}),a==="annual"&&s.jsxs("span",{className:"px-1 py-0.5 bg-emerald-500 text-white text-[9px] font-bold rounded",children:["Save ",bd.annual.savings]})]}),s.jsx("span",{className:`text-[10px] mt-0.5 ${a==="annual"?"text-emerald-50":"text-slate-500"}`,children:bd.annual.label})]})})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"max-w-sm w-full [&_button]:w-full [&_button]:h-12 [&_button]:rounded-xl [&_button]:font-bold [&_button]:text-base",children:s.jsx(Vl,{showPlanPicker:!1,priceType:a,onUpgradeClick:h})})}),s.jsxs("div",{className:"flex flex-col items-center gap-1 mt-2",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Secure checkout via Stripe"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Cancel anytime"})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{type:"button",onClick:u,className:"bg-transparent hover:bg-slate-100 text-slate-600 rounded-lg px-4 py-2 text-sm transition-colors",children:"Come back tomorrow"})})]})]})})})}function Kt(e){var n,a;if(!e)return!1;const t=((n=e.message)==null?void 0:n.toLowerCase())||"",r=((a=e.name)==null?void 0:a.toLowerCase())||"";return r==="typeerror"||r==="networkerror"||t.includes("failed to fetch")||t.includes("network request failed")||t.includes("networkerror")||t.includes("load failed")}const tv=p.createContext({isPro:!1,loading:!0,refreshProStatus:()=>{}});function ZE({children:e}){const[t,r]=p.useState(!1),[n,a]=p.useState(!0),i=async()=>{try{const l=await Te("/api/billing/status");r(l.isPro||!1)}catch(l){console.error("Error checking billing status:",l),r(!1)}finally{a(!1)}};p.useEffect(()=>{i()},[]);const o=()=>{a(!0),i()};return s.jsx(tv.Provider,{value:{isPro:t,loading:n,refreshProStatus:o},children:e})}function ps(){const e=p.useContext(tv);if(e===void 0)throw new Error("usePro must be used within a ProProvider");return e}function Sf(e){return e?(e==null?void 0:e.blocked)||(e==null?void 0:e.remaining)<=0||(e==null?void 0:e.used)>=(e==null?void 0:e.limit):!1}async function Px(){try{const e=await Te("/api/usage/today");return e.usage?{used:e.usage.used||0,limit:e.usage.limit===-1?1/0:e.usage.limit||3,remaining:e.usage.remaining===-1?1/0:e.usage.remaining||0,blocked:e.usage.blocked||!1}:{used:0,limit:3,remaining:3,blocked:!1}}catch(e){return console.error("Error fetching usage:",e),{used:0,limit:3,remaining:3,blocked:!1}}}const rv=p.forwardRef(function({improvedText:t,onUpgradeNeeded:r},n){const{isPro:a}=ps(),[i,o]=p.useState(!1),[l,c]=p.useState(!1),[d,u]=p.useState({used:0,limit:3,remaining:3,blocked:!1}),h=p.useRef(null),f=p.useRef(null);p.useEffect(()=>{a||Px().then(u)},[a]),p.useEffect(()=>{if(l){const g=setTimeout(()=>c(!1),4e3);return()=>clearTimeout(g)}},[l]),p.useEffect(()=>()=>{f.current&&(URL.revokeObjectURL(f.current),f.current=null)},[]);const m=async()=>{var w;if(console.log("[TTS] CLICKED"),!a){const b=await Px();if(u(b),Sf(b)){typeof r=="function"&&r("listen");return}}const g=t||"";if(!g||g.trim().length===0)return;h.current&&(h.current.pause(),h.current=null),f.current&&(URL.revokeObjectURL(f.current),f.current=null),o(!0),c(!1);const y="/voice/generate";console.log("[TTS] endpoint",y);try{const b=await Te(y,{method:"POST",headers:{Accept:"audio/mpeg, application/json","Content-Type":"application/json"},body:JSON.stringify({text:g.trim(),voiceId:"uk_female_amelia",speed:1}),parseJson:!1}),x=b.headers.get("content-type")||"";if(console.log("[TTS] status",b.status),console.log("[TTS] content-type",x),b.status!==200)throw new Error(`Unexpected status: ${b.status}`);if(x.startsWith("audio/")){const v=await b.blob();if(console.log(`[TTS] blob size: ${v.size} bytes`),v.size===0)throw new Error("Received empty audio blob");const j=URL.createObjectURL(v);f.current=j;const N=new Audio(j);h.current=N,N.addEventListener("ended",()=>{f.current&&(URL.revokeObjectURL(f.current),f.current=null)}),N.play().catch(k=>{console.error("[TTS] Audio play error:",k),c(!0)})}else{const v=await b.json();console.log("[TTS] Received JSON response:",v);let j=null,N=null;if(v.audioUrl)j=v.audioUrl;else if(v.url)j=v.url;else if(v.audio){const E=v.audio.replace(/^data:audio\/[^;]+;base64,/,""),S=atob(E),L=new Uint8Array(S.length);for(let C=0;C<S.length;C++)L[C]=S.charCodeAt(C);N=new Blob([L],{type:"audio/mpeg"}),j=URL.createObjectURL(N),f.current=j}else throw new Error("No audio data found in JSON response");const k=new Audio(j);h.current=k,N&&k.addEventListener("ended",()=>{f.current&&(URL.revokeObjectURL(f.current),f.current=null)}),k.play().catch(E=>{console.error("[TTS] Audio play error:",E),c(!0)})}}catch(b){if(console.error("[TTS] Request failed:",{endpoint:y,error:b,status:b instanceof nt?b.status:null,message:b==null?void 0:b.message,data:b instanceof nt?b.data:null}),b instanceof nt&&b.status===402&&((w=b.data)==null?void 0:w.upgrade)===!0&&typeof r=="function"){r("listen");return}Kt(b)||b instanceof nt,c(!0)}finally{o(!1)}};return p.useImperativeHandle(n,()=>({play:m})),s.jsxs("div",{className:"flex flex-col items-start gap-2",children:[s.jsx("button",{type:"button",onClick:m,disabled:i,className:`inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-semibold shadow-md transition-all ${i?"bg-slate-300 text-slate-700 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-lg"}`,children:i?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),s.jsx("span",{children:"Preparing audio"})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M6.343 6.343l-.707-.707m13.728 0l-.707.707M6.343 17.657l-.707.707m13.728 0l-.707-.707M5 12h.01M19 12h.01M12 5v.01M12 19v.01"})}),s.jsx("span",{children:"Listen to this answer"})]})}),l&&s.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-[100] bg-rose-50 dark:bg-rose-900/30 border border-rose-200 dark:border-rose-800 rounded-lg px-4 py-3 shadow-lg animate-in fade-in slide-in-from-top-5 duration-200 pointer-events-auto",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-rose-600 dark:text-rose-400",children:"volume_off"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-rose-900 dark:text-rose-200",children:"Audio unavailable right now"})}),s.jsx("button",{onClick:()=>c(!1),className:"ml-auto text-rose-600 dark:text-rose-400 hover:text-rose-800 dark:hover:text-rose-200",children:""})]})})]})});async function Ko(){try{const e=await Te("/api/usage/today");return e.usage?{used:e.usage.used||0,limit:e.usage.limit===-1?1/0:e.usage.limit||3,remaining:e.usage.remaining===-1?1/0:e.usage.remaining||0,blocked:e.usage.blocked||!1}:{used:0,limit:3,remaining:3,blocked:!1}}catch(e){return console.error("Error fetching usage:",e),{used:0,limit:3,remaining:3,blocked:!1}}}function fo({onTranscript:e,onStateChange:t,onUpgradeNeeded:r,onAttemptsRefresh:n,renderButton:a}){const{isPro:i}=ps(),o=p.useRef(null),l=p.useRef([]),c=p.useRef(null),d=p.useRef(null),[u,h]=p.useState(!1),[f,m]=p.useState(!1),[g,y]=p.useState(""),[w,b]=p.useState(!1),[x,v]=p.useState({used:0,limit:3,remaining:3,blocked:!1}),[j,N]=p.useState(60),k=p.useRef(null),E=60;p.useEffect(()=>{i||(async()=>{const W=await Ko();v(W)})()},[i]),p.useEffect(()=>{t&&t({recording:u,transcribing:f})},[u,f,t]);const S=async()=>{y(""),b(!1),l.current=[],N(E),k.current&&clearInterval(k.current),k.current=setInterval(()=>{N(C=>C<=1?(L(),0):C-1)},1e3),d.current=crypto.randomUUID(),console.log("[STT] Generated attemptId:",d.current);try{const C=await navigator.mediaDevices.getUserMedia({audio:!0});let W=null;MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?W="audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?W="audio/webm":MediaRecorder.isTypeSupported("audio/ogg;codecs=opus")?W="audio/ogg;codecs=opus":MediaRecorder.isTypeSupported("audio/ogg")&&(W="audio/ogg"),c.current=W;const _e=W?new MediaRecorder(C,{mimeType:W}):new MediaRecorder(C);o.current=_e,_e.ondataavailable=ue=>{ue.data.size>0&&l.current.push(ue.data)},_e.onstop=async()=>{var ue,Ee;try{m(!0);const je=c.current||_e.mimeType||"audio/webm",xe=new Blob(l.current,{type:je});let Re="audio.webm";je&&je.includes("webm")?Re="audio.webm":je&&je.includes("ogg")&&(Re="audio.ogg");const U=new File([xe],Re,{type:je});console.log({mimeType:je,fileName:Re,fileType:U.type,fileSize:U.size});const G=new FormData;G.append("audio",U);const $=Ma();G.append("userKey",$),d.current&&G.append("attemptId",d.current);try{const O="/api/stt";console.log("STT endpoint:",O),console.log("STT attemptId:",d.current);const T=await Te(O,{method:"POST",body:G,headers:{...d.current?{"x-attempt-id":d.current}:{}},parseJson:!1}),q=T.status;let H=null;if((T.headers.get("content-type")||"").includes("application/json"))try{H=await T.json()}catch(ne){console.error("[STT] Failed to parse JSON response:",ne),y("Invalid response from server. Please try again.");return}else{const ne=await T.text().catch(()=>"");console.warn("[STT] Non-JSON response received:",ne),y("Unexpected response format. Please try again.");return}let ee="";if(H&&typeof H=="object"&&(typeof H.transcript=="string"&&H.transcript.length>0?ee=H.transcript.trim():typeof H.text=="string"&&H.text.length>0&&(ee=H.text.trim())),!ee){if(y("No speech detected. Please try again."),!i){const ne=await Ko();v(ne),n&&n()}return}if(!i){const ne=await Ko();v(ne),console.log(`[STT Daily Usage] ${ne.used}/${ne.limit===1/0?"":ne.limit} (informational only, not practice quota)`),n&&n()}e(ee,xe)}catch(O){if(!i){const T=await Ko();v(T),n&&n()}if(O instanceof nt&&O.status===429){y("You've reached your daily limit. Upgrade to Pro for unlimited practice."),r&&r("mic");return}if(O instanceof nt&&O.status===402&&((ue=O.data)==null?void 0:ue.upgrade)===!0&&r){y("You've reached your daily limit. Upgrade to Pro for unlimited practice."),r("mic");return}throw new Error(((Ee=O.data)==null?void 0:Ee.error)||O.message||"Transcription failed")}}catch(je){Kt(je)?y("We're temporarily unavailable. Give us a moment and try again."):y(je.message),!je.message.includes("Transcription failed")&&Kt(je)}finally{m(!1)}},_e.start(),h(!0),ct("practice_start",{page:"practice"})}catch(C){console.error("Microphone access error:",C),b(!0),C.name==="NotAllowedError"||C.name==="PermissionDeniedError"?y("Allow microphone access in your browser settings"):y("We need microphone access to record. Check your browser settings.")}},L=()=>{k.current&&(clearInterval(k.current),k.current=null),o.current&&u&&(o.current.stop(),o.current.stream.getTracks().forEach(C=>C.stop()),h(!1),ct("practice_stop",{page:"practice"}))};return a?a({startRecording:S,stopRecording:L,recording:u,transcribing:f,error:g,permissionDenied:w}):s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[u?s.jsx("button",{type:"button",onClick:L,disabled:f,className:"flex items-center justify-center h-20 w-20 rounded-full bg-rose-500 text-white disabled:opacity-60 disabled:cursor-not-allowed ring-2 ring-red-500/55 shadow-[0_0_0_8px_rgba(239,68,68,0.18)] shadow-red-500/10 transition-all duration-200 ease-out",title:"Stop recording","aria-label":"Stop recording",children:s.jsx("span",{className:"material-icons-outlined",style:{fontSize:32},children:"stop"})}):s.jsx("button",{type:"button",onClick:S,disabled:f,className:"flex items-center justify-center h-20 w-20 rounded-full shadow-xl border-2 bg-emerald-500 border-emerald-500 text-white hover:bg-emerald-600 hover:border-emerald-600 hover:shadow-2xl disabled:opacity-60 disabled:cursor-not-allowed transition-all transform hover:scale-105 relative ring-4 ring-emerald-200/50",title:"Start recording",style:{boxShadow:"0 0 0 0 rgba(16, 185, 129, 0.4), 0 0 20px 8px rgba(16, 185, 129, 0.2)"},children:s.jsx("span",{className:"material-icons-outlined",style:{fontSize:32},children:"mic"})}),u&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-rose-100 border border-rose-200 shadow-sm animate-in fade-in zoom-in duration-200",children:[s.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-rose-500 animate-pulse"}),s.jsxs("span",{className:"text-xs text-rose-700 font-bold tabular-nums",children:["Recording ",Math.floor(j/60),":",String(j%60).padStart(2,"0")]})]})]}),f&&s.jsx("p",{className:"text-[10px] text-slate-600 font-medium",children:"Transcribing..."}),g&&s.jsxs("div",{className:"max-w-[140px] text-center",children:[s.jsx("p",{className:"text-[10px] text-rose-600 font-medium mb-1",children:g}),w&&s.jsx("p",{className:"text-[9px] text-rose-500",children:"Tap the lock icon in your browser address bar to allow microphone access"})]})]})}function sv({session:e,onClose:t,sessionId:r}){const[n,a]=p.useState(!1),[i,o]=p.useState(null),[l,c]=p.useState(e),[d,u]=p.useState(!1),[h,f]=p.useState(null),m=p.useCallback(async()=>{if(r)try{a(!0),o(null);const k=await Te(`/api/sessions/${r}`);c(k)}catch(k){console.error("Error loading session:",k),Kt(k)?o("We're temporarily unavailable. Give us a moment and try again."):o("Connection issue. Try again in a moment.")}finally{a(!1)}},[r]);p.useEffect(()=>{r&&!e?m():e&&c(e),u(!1),f(null)},[r,e,m]);const g=p.useCallback(k=>{if(!k)return"Date not available";try{return new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return k}},[]),y=p.useCallback(k=>{if(!k)return"No AI feedback available";try{const E=JSON.parse(k);return E.improved?E.improved:E.message?E.message:typeof E=="string"?E:JSON.stringify(E,null,2)}catch{return k}},[]),w=p.useCallback(k=>!k||typeof k!="string"?!1:k.length>500,[]),b=p.useCallback((k,E=500)=>!k||typeof k!="string"?k||"":k.length<=E?k:k.substring(0,E)+"...",[]),x=async(k,E)=>{if(k)try{await navigator.clipboard.writeText(k),f(E),setTimeout(()=>f(null),2e3)}catch(S){console.error("Failed to copy:",S)}};if(n)return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-2xl shadow-lg max-w-2xl w-full p-8",children:s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Loading session..."})]})})});if(i)return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg max-w-2xl w-full",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-rose-100 px-6 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Session Details"}),s.jsx("button",{type:"button",onClick:t,className:"text-slate-500 hover:text-slate-900",children:""})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-rose-800 font-semibold mb-1",children:"Oops"}),s.jsx("p",{className:"text-sm text-rose-700 mb-3",children:i}),i.includes("temporarily unavailable")&&s.jsx("button",{type:"button",onClick:()=>{o(null),m()},className:"px-4 py-2 rounded-full bg-rose-500 hover:bg-rose-600 text-white text-sm font-semibold",children:"Retry"})]}),s.jsx("button",{type:"button",onClick:t,className:"w-full px-4 py-2 rounded-full bg-rose-500 hover:bg-rose-600 text-white text-sm font-semibold",children:"Back"})]})]})});if(!l)return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg max-w-2xl w-full",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-rose-100 px-6 py-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Session Details"}),s.jsx("button",{type:"button",onClick:t,className:"text-slate-500 hover:text-slate-900",children:""})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-sm text-slate-500",children:"No session data available"})}),s.jsx("button",{type:"button",onClick:t,className:"w-full px-4 py-2 rounded-full bg-rose-500 hover:bg-rose-600 text-white text-sm font-semibold",children:"Back"})]})]})});const v=p.useMemo(()=>g(l==null?void 0:l.createdAt),[l==null?void 0:l.createdAt,g]),j=p.useMemo(()=>y(l==null?void 0:l.aiResponse),[l==null?void 0:l.aiResponse,y]),N=p.useMemo(()=>(l==null?void 0:l.transcript)||"No transcript available",[l==null?void 0:l.transcript]);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-rose-100 px-6 py-4 flex items-center justify-between z-10",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Session Details"}),s.jsx("button",{type:"button",onClick:t,className:"text-slate-500 hover:text-slate-900 text-xl leading-none","aria-label":"Close",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 pb-4 border-b border-rose-100",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",v]}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-rose-100 text-rose-700",children:[s.jsx("span",{className:"text-xs font-semibold",children:"Score:"}),s.jsx("span",{className:"text-base font-bold",children:l.score!==null&&l.score!==void 0?l.score:""})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-semibold text-rose-500 flex items-center gap-2",children:[s.jsx("span",{children:""}),"Your Answer"]}),s.jsx("button",{type:"button",onClick:()=>x(N,"transcript"),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-rose-100 hover:bg-rose-200 text-rose-700 text-xs font-medium transition-colors",children:h==="transcript"?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{children:"Copied"})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),s.jsx("span",{children:"Copy"})]})})]}),s.jsx("div",{className:"bg-rose-50 border border-rose-100 rounded-lg px-4 py-3 text-sm text-slate-900 whitespace-pre-wrap break-words leading-relaxed",children:N})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-semibold text-emerald-600 flex items-center gap-2",children:[s.jsx("span",{children:""}),"AI Feedback"]}),s.jsx("button",{type:"button",onClick:()=>x(j,"feedback"),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-100 hover:bg-emerald-200 text-emerald-700 text-xs font-medium transition-colors",children:h==="feedback"?s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{children:"Copied"})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),s.jsx("span",{children:"Copy"})]})})]}),s.jsx("div",{className:"bg-emerald-50 border border-emerald-100 rounded-lg px-4 py-3 text-sm text-slate-900 whitespace-pre-wrap break-words leading-relaxed",children:w(j)&&!d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-2",children:b(j)}),s.jsx("button",{type:"button",onClick:()=>u(!0),className:"text-emerald-600 hover:text-emerald-700 font-semibold text-xs transition-colors",children:"Show more "})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{children:j}),w(j)&&d&&s.jsx("button",{type:"button",onClick:()=>u(!1),className:"mt-2 text-emerald-600 hover:text-emerald-700 font-semibold text-xs transition-colors",children:"Show less "})]})})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-white border-t border-rose-100 px-6 py-4",children:s.jsx("button",{type:"button",onClick:t,className:"w-full px-4 py-2 rounded-full bg-rose-500 hover:bg-rose-600 text-white text-sm font-semibold transition-colors",children:"Back"})})]})})}function eT({refreshTrigger:e}){const[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(null),[l,c]=p.useState(!1),d=p.useCallback(async()=>{try{a(!0);const f=await Te("/api/sessions?limit=5");r(f),c(!1)}catch(f){console.error("Error loading sessions:",f),Kt(f)&&c(!0)}finally{a(!1)}},[]);p.useEffect(()=>{d()},[e,d]);const u=p.useCallback(f=>{const m=new Date(f);return m.toLocaleDateString()+" "+m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},[]),h=p.useCallback((f,m=80)=>f?f.length<=m?f:f.substring(0,m)+"...":"",[]);return n?s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Recent Sessions"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Loading..."})]}):l?s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Recent Sessions"}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs text-red-800 mb-2",children:"We're temporarily unavailable. Give us a moment and try again."}),s.jsx("button",{type:"button",onClick:()=>{c(!1),d()},className:"text-xs px-3 py-1 rounded-md bg-red-100 hover:bg-red-200 text-red-800 font-semibold",children:"Retry"})]})]}):t.length===0?s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Recent Sessions"}),s.jsx("p",{className:"text-xs text-slate-500",children:"No sessions yet. Complete a practice session to see your history here."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Recent Sessions"}),s.jsx("div",{className:"space-y-2",children:t.map(f=>s.jsx("button",{type:"button",onClick:()=>o(f),className:"w-full text-left p-3 rounded-lg border border-rose-100 hover:bg-rose-50 transition",children:s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-slate-500 mb-1",children:u(f.createdAt)}),s.jsx("div",{className:"text-xs text-slate-900 line-clamp-2",children:h(f.transcript)}),f.score!==null&&s.jsxs("div",{className:"text-xs text-rose-600 font-semibold mt-1",children:["Score: ",f.score]})]})})},f.id))})]}),i&&s.jsx(sv,{session:i,onClose:()=>o(null)})]})}function tT({onNavigateToInterview:e}){const[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(null),[l,c]=p.useState(null),d=p.useCallback(async()=>{try{a(!0),o(null);const m=await Te("/api/sessions?limit=10"),g=Array.isArray(m)?m:[];r(g)}catch(m){console.error("Error loading sessions:",m),Kt(m)?o("We're temporarily unavailable. Give us a moment and try again."):o(m.message||"Couldn't load your progress. Try again.")}finally{a(!1)}},[]);p.useEffect(()=>{d()},[d]);const u=p.useMemo(()=>{var x;const m=t.filter(v=>(v==null?void 0:v.score)!==null&&(v==null?void 0:v.score)!==void 0&&typeof v.score=="number");if(m.length===0)return{bestScore:null,averageScore:null,lastScore:null};const g=m.map(v=>v.score).filter(v=>typeof v=="number");if(g.length===0)return{bestScore:null,averageScore:null,lastScore:null};const y=Math.max(...g),w=g.reduce((v,j)=>v+j,0)/g.length,b=((x=m[0])==null?void 0:x.score)??null;return{bestScore:y,averageScore:Math.round(w*10)/10,lastScore:b}},[t]),h=p.useCallback(m=>{if(!m)return"Date not available";try{const g=new Date(m);return isNaN(g.getTime())?"Invalid date":g.toLocaleDateString()+" "+g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return"Date not available"}},[]),f=p.useCallback((m,g=100)=>!m||typeof m!="string"?"No transcript available":m.length<=g?m:m.substring(0,g)+"...",[]);return n?s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-base md:text-lg font-semibold text-slate-900 mb-4",children:"Your Progress"}),s.jsx("div",{className:"bg-white border border-rose-100 rounded-2xl p-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Loading your progress..."})]})})]}):i?s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-base md:text-lg font-semibold text-slate-900 mb-4",children:"Your Progress"}),s.jsx("div",{className:"bg-white border border-rose-100 rounded-2xl p-6",children:s.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-rose-800 font-semibold mb-1",children:"Oops"}),s.jsx("p",{className:"text-sm text-rose-700 mb-3",children:i}),s.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 rounded-full bg-rose-500 hover:bg-rose-600 text-white text-sm font-semibold transition-colors",children:"Retry"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"space-y-4",children:[s.jsx("h2",{className:"text-base md:text-lg font-semibold text-slate-900 mb-4",children:"Your Progress"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-4",children:[s.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Best Score"}),s.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:u.bestScore!==null?u.bestScore:""})]}),s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-4",children:[s.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Average Score (Last 10)"}),s.jsx("div",{className:"text-2xl font-bold text-rose-600",children:u.averageScore!==null?u.averageScore:""})]}),s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-4",children:[s.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Last Score"}),s.jsx("div",{className:"text-2xl font-bold text-slate-700",children:u.lastScore!==null?u.lastScore:""})]})]}),s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Recent Sessions (Last 10)"}),t.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-rose-100 flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-rose-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})}),s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-2",children:"Start tracking your progress"}),s.jsx("p",{className:"text-sm text-slate-600 mb-6 max-w-sm",children:"Complete your first practice session to see scores, trends, and feedback here."}),s.jsxs("button",{type:"button",onClick:()=>{e&&(e(),setTimeout(()=>{const m=document.getElementById("practice-section");m&&m.scrollIntoView({behavior:"smooth",block:"start"})},100))},className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-rose-500 hover:bg-rose-600 text-white text-sm font-semibold transition-colors shadow-sm",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Start Practicing"]})]}):s.jsx("div",{className:"space-y-2",children:t.map(m=>{const g=(m==null?void 0:m.id)||(m==null?void 0:m.sessionId)||`session-${Math.random()}`,y=(m==null?void 0:m.transcript)||"",w=m==null?void 0:m.score;return s.jsx("button",{type:"button",onClick:()=>c(m),className:"w-full text-left p-4 rounded-lg border border-rose-100 hover:bg-rose-50 transition",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-slate-500 mb-2",children:h(m==null?void 0:m.createdAt)}),s.jsx("div",{className:"text-sm text-slate-900 mb-2 line-clamp-2",children:f(y)}),s.jsxs("div",{className:"text-sm text-rose-600 font-semibold",children:["Score: ",w??""]})]}),s.jsx("div",{className:"text-xs text-slate-400",children:"View "})]})},g)})})]})]}),l&&s.jsx(sv,{session:l,onClose:()=>c(null)})]})}function rT(){const[e,t]=p.useState(!1),r=async a=>{await ho({priceType:a,source:"pricing_page",onLoadingChange:t})},n=[{question:"Will this actually help me?",answer:"JobSpeak helps you practice speaking clearly and confidently so you sound natural under pressure."},{question:"Can I cancel anytime?",answer:"Yes. Cancel in one click."}];return s.jsxs("section",{id:"pricing",className:"mt-8 space-y-12",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:"Practice with confidence. Walk into interviews prepared."}),s.jsx("p",{className:"text-base md:text-lg text-slate-600 leading-relaxed mb-8",children:"JobSpeak helps you practice real interview answers, hear how you sound, and improve without judgment so you do not freeze when it matters."}),s.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 text-left max-w-2xl mx-auto",children:s.jsxs("p",{className:"text-sm text-slate-700 leading-relaxed",children:["Interviews are stressful, even for qualified people.",s.jsx("br",{}),"Most candidates do not fail because they are unprepared.",s.jsx("br",{}),"They fail because they did not get enough real practice."]})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Free Practice"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Great for trying JobSpeak, not ideal for serious preparation."})]}),s.jsxs("ul",{className:"space-y-2 mb-6",children:[s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-slate-400 mt-0.5",children:""}),s.jsx("span",{children:"3 answer rewrites per day"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-slate-400 mt-0.5",children:""}),s.jsx("span",{children:"Basic feedback"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-slate-400 mt-0.5",children:""}),s.jsx("span",{children:"Limited practice"})]})]}),s.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-5 py-3 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-700 text-sm font-semibold shadow-sm transition",children:"Continue with Free"})]}),s.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Monthly Plan"}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[s.jsx("span",{className:"text-3xl font-bold text-slate-900",children:"$9.99"}),s.jsx("span",{className:"text-sm text-slate-500",children:"/ month"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Best for short-term interview prep."})]}),s.jsxs("ul",{className:"space-y-2 mb-6",children:[s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Unlimited answer rewrites"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Voice practice and playback"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Structured feedback"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Cancel anytime"})]})]}),s.jsx("button",{onClick:()=>r("monthly"),disabled:e,className:"w-full px-5 py-3 rounded-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold shadow-sm disabled:opacity-60 disabled:cursor-not-allowed transition mb-2",children:e?"Opening checkout...":"Start Monthly"}),s.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Flexible. Cancel anytime."})]}),s.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-2xl p-6 shadow-lg relative",children:[s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full",children:"Save 33%"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:"Annual Plan"}),s.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[s.jsx("span",{className:"text-3xl font-bold text-slate-900",children:"$79.99"}),s.jsx("span",{className:"text-sm text-slate-500",children:"/ year"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Best for consistent confidence and stress-free practice."})]}),s.jsxs("ul",{className:"space-y-2 mb-6",children:[s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Unlimited answer rewrites"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Voice practice and playback"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Structured feedback"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Resume and answer improvement"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-700",children:[s.jsx("span",{className:"text-emerald-600 mt-0.5",children:""}),s.jsx("span",{children:"Progress without daily limits"})]})]}),s.jsx("button",{onClick:()=>r("annual"),disabled:e,className:"w-full px-5 py-3 rounded-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold shadow-sm disabled:opacity-60 disabled:cursor-not-allowed transition mb-2",children:e?"Opening checkout...":"Upgrade to Pro"}),s.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Most users choose this for uninterrupted practice."})]})]}),s.jsx("div",{className:"max-w-3xl mx-auto text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 text-sm text-slate-600",children:[s.jsx("p",{children:"Secure checkout via Stripe"}),s.jsx("p",{children:"Cancel anytime"}),s.jsx("p",{children:"No contracts. No pressure."})]})}),s.jsx("div",{className:"max-w-3xl mx-auto text-center",children:s.jsx("p",{className:"text-base md:text-lg text-slate-700 font-medium",children:"You were making progress. Do not lose momentum now."})}),s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-6 text-center",children:"Frequently Asked Questions"}),s.jsx("div",{className:"space-y-4",children:n.map((a,i)=>s.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-5 shadow-sm",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-900 mb-2",children:a.question}),s.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:a.answer})]},i))})]}),s.jsx("div",{className:"max-w-3xl mx-auto text-center pb-8",children:s.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-8",children:s.jsxs("p",{className:"text-base text-slate-700 leading-relaxed",children:["JobSpeak is built to support you, not judge you.",s.jsx("br",{}),"Practice privately. Improve calmly. Show up confident."]})})})]})}function sT({children:e,message:t="This feature requires JobSpeak Pro."}){const{isPro:r,loading:n}=ps();return n?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."})}):r?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"bg-white border border-rose-100 rounded-2xl p-8 shadow-sm",children:s.jsxs("div",{className:"max-w-md mx-auto text-center space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Upgrade to Pro"}),s.jsx("p",{className:"text-sm text-slate-600",children:t})]}),s.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 text-left",children:[s.jsx("h3",{className:"text-sm font-semibold text-emerald-900 mb-3",children:"JobSpeak Pro includes:"}),s.jsxs("ul",{className:"text-xs text-emerald-800 space-y-2 list-disc list-inside",children:[s.jsx("li",{children:"Unlimited interview answer rewrites"}),s.jsx("li",{children:"Full Resume Doctor access"}),s.jsx("li",{children:"Practice speaking with natural voice"}),s.jsx("li",{children:"Track your progress over time"}),s.jsx("li",{children:"AI-powered feedback on your English"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Vl,{showPlanPicker:!0}),s.jsx("p",{className:"text-xs text-slate-500",children:"Secure checkout with Stripe. Cancel anytime."})]})]})})}function Rx({activeTab:e,onTabChange:t,variant:r="desktop"}){const n=[{id:"interview",label:"Interview"},{id:"pricing",label:"Pricing"}],a=({item:i,isMobile:o=!1})=>{const l=e===i.id,c=o?"flex-1 px-2 py-2 rounded-lg text-xs font-medium transition":"w-full text-left px-3 py-2 rounded-lg transition text-xs",d=l?"bg-rose-500 text-white font-semibold":o?"text-slate-500 hover:bg-rose-50":"text-slate-500 hover:bg-rose-50 hover:text-slate-900";return s.jsx("button",{type:"button",onClick:()=>t(i.id),className:`${c} ${d}`,"aria-current":l?"page":void 0,children:i.label})};return r==="mobile"?s.jsx("nav",{className:"md:hidden bg-white border-b border-rose-100 sticky top-0 z-40",children:s.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:n.map(i=>s.jsx(a,{item:i,isMobile:!0},i.id))})}):s.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:n.map(i=>s.jsx(a,{item:i},i.id))})}function fn({title:e,message:t,onRetry:r,variant:n="compact"}){return t?n==="expanded"?s.jsx("div",{className:"bg-rose-50 border border-rose-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-rose-600 text-xl flex-shrink-0",children:""}),s.jsxs("div",{className:"flex-1",children:[e&&s.jsx("h3",{className:"text-sm font-semibold text-rose-900 mb-1",children:e}),s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("p",{className:"text-xs text-rose-700 leading-relaxed flex-1",children:t}),r&&s.jsx("button",{type:"button",onClick:r,className:"text-xs px-2 py-1 rounded bg-rose-200 hover:bg-rose-300 text-rose-800 font-semibold whitespace-nowrap transition",children:"Retry"})]})]})]})}):s.jsx("div",{className:"bg-rose-50 border border-rose-200 rounded-lg px-3 py-2",children:e?s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-rose-700 font-semibold mb-1",children:e}),s.jsx("p",{className:"text-xs text-rose-600",children:t})]}):s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("p",{className:"text-xs text-rose-700 flex-1",children:t}),r&&s.jsx("button",{type:"button",onClick:r,className:"text-xs px-2 py-1 rounded bg-rose-200 hover:bg-rose-300 text-rose-800 font-semibold whitespace-nowrap transition",children:"Retry"})]})}):null}function nT(){return null}function aT(){var o,l;const[e,t]=p.useState(!1),[r,n]=p.useState({guestKey:"",apiBase:"",dashboardSummary:null,progressSummary:null,lastActivityStatus:null,lastActivityTime:null,backendCommit:null,lastRequestUrl:null,lastRequestStatus:null,seedStatus:null}),a=async()=>{try{await Te("/api/activity/debug-seed",{method:"POST"}),setTimeout(i,500)}catch(c){console.error("Seed failed",c)}},i=()=>{window.location.reload()};return p.useEffect(()=>{if(new URLSearchParams(window.location.search).get("debug")==="1"){t(!0),window.__JSP_DEBUG__||(window.__JSP_DEBUG__={dashboardSummary:null,progressSummary:null,lastActivityStatus:null,lastActivityTime:null,logs:[]});const d=setInterval(()=>{var f,m,g,y;const u=window.__JSP_DEBUG__||{};n({guestKey:localStorage.getItem("jsp_guest_userKey")||"Not Set",apiBase:"https://jobspeak-backend-production.up.railway.app",dashboardSummary:u.dashboardSummary,progressSummary:u.progressSummary,lastActivityStatus:u.lastActivityStatus,lastActivityTime:u.lastActivityTime,backendCommit:(f=u.lastRequest)==null?void 0:f.backendCommit,lastRequestUrl:(m=u.lastRequest)==null?void 0:m.url,lastRequestStatus:(g=u.lastRequest)==null?void 0:g.status,lastResponseIdentity:(y=u.lastRequest)==null?void 0:y.identityKey})},500);return()=>clearInterval(d)}},[]),e?s.jsxs("div",{className:"fixed bottom-4 right-4 z-[9999] bg-black/90 text-white p-4 rounded-lg shadow-2xl font-mono text-[10px] leading-tight max-w-md border border-green-500/30 backdrop-blur-sm opacity-90 hover:opacity-100 transition-opacity",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 border-b border-white/20 pb-1",children:[s.jsx("h3",{className:"font-bold text-green-400",children:" AG Frontend Debug"}),s.jsx("span",{className:"bg-red-900/50 text-red-200 px-1 rounded text-[10px]",children:"DEBUG=1"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between gap-4",children:[s.jsx("span",{className:"text-gray-400",children:"Identity:"}),s.jsx("span",{className:"font-bold text-yellow-300 truncate max-w-[150px]",title:r.guestKey,children:r.guestKey})]}),s.jsxs("div",{className:"flex justify-between gap-4",children:[s.jsx("span",{className:"text-gray-400",children:"API Base:"}),s.jsx("span",{className:`font-bold truncate max-w-[150px] ${r.apiBase?"text-gray-300":"text-red-400"}`,title:r.apiBase||"Missing VITE_API_BASE_URL",children:r.apiBase||"Relative (Caution)"})]}),s.jsx("div",{className:"border-t border-white/10 pt-1",children:s.jsxs("div",{className:"flex justify-between gap-4",children:[s.jsx("span",{className:"text-gray-400",children:"Backend Commit:"}),s.jsx("span",{className:"font-bold text-cyan-300",children:r.backendCommit||"N/A"})]})}),s.jsxs("div",{className:"border-t border-white/10 pt-1",children:[s.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold mb-0.5",children:"Last Request"}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsx("span",{className:"text-gray-400 truncate max-w-[200px]",title:r.lastRequestUrl,children:r.lastRequestUrl?new URL(r.lastRequestUrl).pathname:"-"}),s.jsx("span",{className:r.lastRequestStatus===200?"text-green-400":"text-red-400",children:r.lastRequestStatus||"-"})]}),s.jsxs("div",{className:"flex justify-between gap-2 border-t border-white/5 pt-0.5 mt-0.5",children:[s.jsx("span",{className:"text-[8px] text-gray-500",children:"Backend ID:"}),s.jsx("span",{className:"text-[8px] text-gray-400 font-mono truncate max-w-[150px]",children:r.lastResponseIdentity||"-"})]})]})]}),s.jsxs("div",{className:"border-t border-white/10 pt-1",children:[s.jsx("div",{className:"text-[9px] text-gray-500 uppercase font-bold mb-0.5",children:"Counts"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Dashboard:"}),s.jsx("span",{className:"font-bold text-blue-300",children:((o=r.dashboardSummary)==null?void 0:o.count)??"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Progress:"}),s.jsx("span",{className:"font-bold text-purple-300",children:((l=r.progressSummary)==null?void 0:l.count)??"-"})]})]})]}),s.jsxs("div",{className:"border-t border-white/10 pt-2 flex gap-2",children:[s.jsx("button",{onClick:a,className:"flex-1 bg-purple-600 hover:bg-purple-500 text-white px-2 py-1.5 rounded font-bold transition-colors text-center",children:" Seed Data"}),s.jsx("button",{onClick:i,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-2 py-1.5 rounded font-bold transition-colors text-center",children:" Refresh"})]})]})]}):null}function _c(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function iT(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}const oT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ef extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class lT extends Ef{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ix extends Ef{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ax extends Ef{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hu||(Hu={}));class cT{constructor(t,{headers:r={},customFetch:n,region:a=Hu.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=oT(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return iT(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:d,signal:u,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let y;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(f["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(f["Content-Type"]="application/json",y=JSON.stringify(d)):y=d;let w=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(w=o.signal,u.addEventListener("abort",()=>o.abort())):w=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:y,signal:w}).catch(N=>{throw new lT(N)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new Ix(b);if(!b.ok)throw new Ax(b);let v=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return v==="application/json"?j=yield b.json():v==="application/octet-stream"||v==="application/pdf"?j=yield b.blob():v==="text/event-stream"?j=b:v==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof Ax||l instanceof Ix?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var dT=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},uT=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,d=i.status,u=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const y=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),w=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,u="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const y=await i.text();try{o=JSON.parse(y),Array.isArray(o)&&i.status===404&&(l=[],o=null,d=200,u="OK")}catch{i.status===404&&y===""?(d=204,u="No Content"):o={message:y}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,d=200,u="OK"),o&&r.shouldThrowOnError)throw new dT(o)}return{error:o,data:l,count:c,status:d,statusText:u}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var d,u,h,f;const g=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",y=(u=c==null?void 0:c.code)!==null&&u!==void 0?u:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${g}`,y&&(l+=` (${y})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},hT=class extends uT{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Ox=new RegExp("[,()]");var Fn=class extends hT{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ox.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ox.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},fT=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Fn({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Fn({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Fn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Fn({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Fn({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},mT=class nv{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fT(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new Fn({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class pT{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xT="2.89.0",gT=`realtime-js/${xT}`,av="1.0.0",bT="2.0.0",Lx=av,Gu=1e4,yT=1e3,vT=100;var ws;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ws||(ws={}));var ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ft||(ft={}));var Sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sr||(Sr={}));var Vu;(function(e){e.websocket="websocket"})(Vu||(Vu={}));var tn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tn||(tn={}));class wT{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(m),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,c.length),g.setUint8(y++,l.length),g.setUint8(y++,o.length),g.setUint8(y++,d.length),g.setUint8(y++,h.length),g.setUint8(y++,r),Array.from(c,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(d,b=>g.setUint8(y++,b.charCodeAt(0))),Array.from(h,b=>g.setUint8(y++,b.charCodeAt(0)));var w=new Uint8Array(m.byteLength+n.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(n),m.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(t.slice(c,c+a));c=c+a;const u=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,g={type:this.BROADCAST_EVENT,event:u,payload:m};return o>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class iv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(We||(We={}));const Ux=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=jT(o,e,t,a),i),{}):{}},jT=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?ov(i,o):Ku(o)},ov=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ST(t,r)}switch(e){case We.bool:return kT(t);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return NT(t);case We.json:case We.jsonb:return _T(t);case We.timestamp:return ET(t);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return Ku(t);default:return Ku(t)}},Ku=e=>e,kT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},NT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_T=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},ST=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ov(t,l))}return e},ET=e=>typeof e=="string"?e.replace(" ","T"):e,lv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class yd{constructor(t,r,n={},a=Gu){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dx||(Dx={}));class ji{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ji.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=ji.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ji.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(w=>w.presence_ref),m=h.map(w=>w.presence_ref),g=u.filter(w=>m.indexOf(w.presence_ref)<0),y=h.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(l[d]=g),y.length>0&&(c[d]=y)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Mx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Mx||(Mx={}));var ki;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ki||(ki={}));var es;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(es||(es={}));class ta{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yd(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new iv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ji(this),this.broadcastEndpointURL=lv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[ki.PRESENCE]&&this.bindings[ki.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(es.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(es.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(es.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,b=[];for(let x=0;x<w;x++){const v=y[x],{filter:{event:j,schema:N,table:k,filter:E}}=v,S=m&&m[x];if(S&&S.event===j&&ta.isFilterValueEqual(S.schema,N)&&ta.isFilterValueEqual(S.table,k)&&ta.isFilterValueEqual(S.filter,E))b.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),this.state=ft.errored,t==null||t(es.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(es.SUBSCRIBED);return}}).receive("error",m=>{this.state=ft.errored,t==null||t(es.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(es.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ft.joined&&t===ki.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ft.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new yd(this,Sr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new yd(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Sr;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,y,w;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(y=m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,y,w,b,x,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,N=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(x=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:w,commit_timestamp:b,type:x,errors:v}=g;f=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:b,eventType:x,new:{},old:{},errors:v}),this._getPayloadRecords(g))}m.callback(f,n)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ta.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sr.close,{},t)}_onError(t){this._on(Sr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ux(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ux(t.columns,t.old_record)),r}}const vd=()=>{},Jo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TT=[1e3,2e3,5e3,1e4],CT=1e4,PT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RT{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gu,this.transport=null,this.heartbeatIntervalMs=Jo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vd,this.ref=0,this.reconnectTimer=null,this.vsn=Lx,this.logger=vd,this.conn=null,this.sendBuffer=[],this.serializer=new wT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Vu.websocket}`,this.httpEndpoint=lv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ws.connecting:return tn.Connecting;case ws.open:return tn.Open;case ws.closing:return tn.Closing;default:return tn.Closed}}isConnected(){return this.connectionState()===tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new ta(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(yT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Jo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ws.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ws.open||this.conn.readyState===ws.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([PT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:gT};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Sr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new iv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d,u,h,f,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Gu,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Jo.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:vd,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Lx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:g=>TT[g-1]||CT,this.vsn){case av:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(g,y)=>y(JSON.stringify(g)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(g,y)=>y(JSON.parse(g));break;case bT:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Vi=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function IT(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function AT(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function OT(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=IT(e.baseUrl,n,a),c=await AT(e.auth),d=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),f=h&&u?JSON.parse(u):u;if(!d.ok){const m=h?f:void 0,g=m==null?void 0:m.error;throw new Vi((g==null?void 0:g.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:d.status,headers:d.headers,data:f}}}}function Yo(e){return e.join("")}var LT=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Yo(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yo(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yo(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yo(e.namespace)}`}),!0}catch(t){if(t instanceof Vi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Vi&&r.status===409)return;throw r}}};function An(e){return e.join("")}var UT=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${An(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${An(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${An(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${An(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${An(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${An(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Vi&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Vi&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},DT=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=OT({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new LT(this.client,t),this.tableOps=new UT(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Sc=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var MT=class extends Sc{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ju=class extends Sc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Tf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$T=()=>Response,Yu=e=>{if(Array.isArray(e))return e.map(r=>Yu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Yu(n)}),t},FT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BT=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function zT(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WT(e){var t=zT(e,"string");return Ki(t)=="symbol"?t:t+""}function qT(e,t,r){return(t=WT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$x(Object(r),!0).forEach(function(n){qT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$x(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const wd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},HT=async(e,t,r)=>{e instanceof await $T()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new MT(wd(n),a,i))}).catch(n=>{t(new Ju(wd(n),n))}):t(new Ju(wd(e),e))},GT=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(FT(n)?(a.headers=ce({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),ce(ce({},a),r))};async function mo(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,GT(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>HT(c,l,n))})}async function Ji(e,t,r,n){return mo(e,"GET",t,r,n)}async function Nr(e,t,r,n,a){return mo(e,"POST",t,n,a,r)}async function Qu(e,t,r,n,a){return mo(e,"PUT",t,n,a,r)}async function VT(e,t,r,n){return mo(e,"HEAD",t,ce(ce({},r),{},{noResolveJson:!0}),n)}async function Cf(e,t,r,n,a){return mo(e,"DELETE",t,n,a,r)}var KT=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}}};let cv;cv=Symbol.toStringTag;var JT=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[cv]="BlobDownloadBuilder",this.promise=null}asStream(){return new KT(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}}};const YT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var QT=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Tf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const o=ce(ce({},Fx),n);let l=ce(ce({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=ce(ce({},l),n.headers));const d=a._removeEmptyFolders(t),u=a._getFinalPath(d),h=await(e=="PUT"?Qu:Nr)(a.fetch,`${a.url}/object/${u}`,i,ce({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const d=ce({upsert:Fx.upsert},n),u=ce(ce({},a.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType),{data:{path:i,fullPath:(await Qu(a.fetch,l.toString(),c,{headers:u})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=ce({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Nr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new Sc("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Nr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await Nr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await Nr(n.fetch,`${n.url}/object/sign/${a}`,ce({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await Nr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>ce(ce({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Ji(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new JT(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Yu(await Ji(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await VT(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xe(n)&&n instanceof Ju){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await Cf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=ce(ce(ce({},YT),t),{},{prefix:e||""});return{data:await Nr(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Xe(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=ce({},e);return{data:await Nr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const dv="2.89.0",uv={"X-Client-Info":`storage-js/${dv}`};var XT=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=ce(ce({},uv),t),this.fetch=Tf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Ji(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ji(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Nr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Qu(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Nr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Cf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ZT=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ce(ce({},uv),t),this.fetch=Tf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Nr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Ji(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Cf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!BT(e))throw new Sc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new DT({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Pf={"X-Client-Info":`storage-js/${dv}`,"Content-Type":"application/json"};var hv=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function er(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var jd=class extends hv{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eC=class extends hv{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Rf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tC=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Bx=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rC=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new jd(Bx(i),n,o))}).catch(()=>{const i=n+"";t(new jd(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new jd(a.statusText||`HTTP ${n} error`,n,i))}}else t(new eC(Bx(e),e))},sC=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(tC(n)?(a.headers=ce({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,ce(ce({},a),r)):a};async function nC(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,sC(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>rC(c,l,n))})}async function tr(e,t,r,n,a){return nC(e,"POST",t,n,a,r)}var aC=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ce(ce({},Pf),t),this.fetch=Rf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await tr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await tr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}},iC=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ce(ce({},Pf),t),this.fetch=Rf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await tr(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await tr(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await tr(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}},oC=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ce(ce({},Pf),t),this.fetch=Rf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await tr(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}},lC=class extends oC{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new cC(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},cC=class extends aC{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ce(ce({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ce(ce({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new dC(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},dC=class extends iC{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ce(ce({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ce(ce({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ce(ce({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ce(ce({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ce(ce({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},uC=class extends XT{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new QT(this.url,this.headers,e,this.fetch)}get vectors(){return new lC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ZT(this.url+"/iceberg",this.headers,this.fetch)}};const fv="2.89.0",Bn=30*1e3,Xu=3,kd=Xu*Bn,hC="http://localhost:9999",fC="supabase.auth.token",mC={"X-Client-Info":`gotrue-js/${fv}`},Zu="X-Supabase-Api-Version",mv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xC=10*60*1e3;class Yi extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gC extends Yi{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bC(e){return te(e)&&e.name==="AuthApiError"}class rn extends Yi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class xs extends Yi{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Xt extends xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yC(e){return te(e)&&e.name==="AuthSessionMissingError"}class On extends xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qo extends xs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xo extends xs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vC(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class zx extends xs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wC extends xs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class eh extends xs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Nd(e){return te(e)&&e.name==="AuthRetryableFetchError"}class Wx extends xs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class th extends xs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qx=` 	
\r=`.split(""),jC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qx.length;t+=1)e[qx[t].charCodeAt(0)]=-2;for(let t=0;t<Kl.length;t+=1)e[Kl[t].charCodeAt(0)]=t;return e})();function Hx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Kl[n]),t.queuedBits-=6}}function pv(e,t,r){const n=jC[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gx(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{_C(o,n,r)};for(let o=0;o<e.length;o+=1)pv(e.charCodeAt(o),a,i);return t.join("")}function kC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function NC(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}kC(n,t)}}function _C(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ca(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)pv(e.charCodeAt(a),r,n);return new Uint8Array(t)}function SC(e){const t=[];return NC(e,r=>t.push(r)),new Uint8Array(t)}function on(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Hx(a,r,n)),Hx(null,r,n),t.join("")}function EC(e){return Math.round(Date.now()/1e3)+e}function TC(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",Js={tested:!1,writable:!1},xv=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Js.tested)return Js.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Js.tested=!0,Js.writable=!0}catch{Js.tested=!0,Js.writable=!1}return Js.writable};function CC(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const gv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),PC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ys=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yt=async(e,t)=>{await e.removeItem(t)};class Ec{constructor(){this.promise=new Ec.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ec.promiseConstructor=Promise;function _d(e){const t=e.split(".");if(t.length!==3)throw new th("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!pC.test(t[n]))throw new th("JWT not in base64url format");return{header:JSON.parse(Gx(t[0])),payload:JSON.parse(Gx(t[1])),signature:ca(t[2]),raw:{header:t[0],payload:t[1]}}}async function RC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function IC(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function AC(e){return("0"+e.toString(16)).substr(-2)}function OC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,AC).join("")}async function LC(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function UC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await LC(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ln(e,t,r=!1){const n=OC();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await zn(e,`${t}-code-verifier`,a);const i=await UC(n);return[i,n===i?"plain":"s256"]}const DC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MC(e){const t=e.headers.get(Zu);if(!t||!t.match(DC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $C(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function FC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Un(e){if(!BC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zC(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Vx(e){return JSON.parse(JSON.stringify(e))}const Zs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WC=[502,503,504];async function Kx(e){var t;if(!PC(e))throw new eh(Zs(e),0);if(WC.includes(e.status))throw new eh(Zs(e),e.status);let r;try{r=await e.json()}catch(i){throw new rn(Zs(i),i)}let n;const a=MC(e);if(a&&a.getTime()>=mv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Wx(Zs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Wx(Zs(r),e.status,r.weak_password.reasons);throw new gC(Zs(r),e.status||500,n)}const qC=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function le(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Zu]||(i[Zu]=mv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await HC(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function HC(e,t,r,n,a,i){const o=qC(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new eh(Zs(c),0)}if(l.ok||await Kx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Kx(c)}}function jr(e){var t;let r=null;KC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=EC(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Jx(e){const t=jr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ns(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GC(e){return{data:e,error:null}}function VC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=_c(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Yx(e){return e}function KC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ed=["global","local","others"];class JC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=gv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ed[0]){if(Ed.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ed.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ns})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=_c(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:VC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ns})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Yx});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);d[`${w}Page`]=y}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(te(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Un(t);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ns})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Un(t);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ns})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Un(t);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ns})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Un(t.userId);try{const{data:r,error:n}=await le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Un(t.userId),Un(t.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Yx});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);d[`${w}Page`]=y}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(te(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}}function Qx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Dn={debug:!!(globalThis&&xv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YC extends bv{}async function QC(e,t,r){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function XC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ZC(e){return parseInt(e,16)}function e4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function t4(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=yv(e.address),g=u?`${u}://${n}`:n,y=e.statement?`${e.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${m}

${y}`;let b=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),d){let x=`
Resources:`;for(const v of d){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);x+=`
- ${v}`}b+=x}return`${w}
${b}`}class ut extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Jl extends ut{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function r4({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(vv(o)){if(i.rp.id!==o)return new ut({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function s4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(vv(n)){if(r.rpId!==n)return new ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class n4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const a4=new n4;function i4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=_c(e,["challenge","user","excludeCredentials"]),i=ca(t).buffer,o=Object.assign(Object.assign({},r),{id:ca(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:ca(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function o4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=_c(e,["challenge","allowCredentials"]),a=ca(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ca(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function l4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:on(new Uint8Array(e.response.attestationObject)),clientDataJSON:on(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function c4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:on(new Uint8Array(a.authenticatorData)),clientDataJSON:on(new Uint8Array(a.clientDataJSON)),signature:on(new Uint8Array(a.signature)),userHandle:a.userHandle?on(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Xx(){var e,t;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function d4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jl("Browser returned unexpected credential type",t)}:{data:null,error:new Jl("Empty credential response",t)}}catch(t){return{data:null,error:r4({error:t,options:e})}}}async function u4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jl("Browser returned unexpected credential type",t)}:{data:null,error:new Jl("Empty credential response",t)}}catch(t){return{data:null,error:s4({error:t,options:e})}}}const h4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},f4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Yl(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Yl(l,o):n[i]=Yl(o)}else n[i]=o}return n}function m4(e,t){return Yl(h4,e,t||{})}function p4(e,t){return Yl(f4,e,t||{})}class x4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??a4.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=m4(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await d4({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=p4(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await u4(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new rn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Yi("rpId is required for WebAuthn authentication")};try{if(!Xx())return{data:null,error:new rn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new rn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Yi("rpId is required for WebAuthn registration")};try{if(!Xx())return{data:null,error:new rn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new rn("Unexpected error in register",o)}}}}XC();const g4={url:hC,storageKey:fC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Zx(e,t,r){return await r()}const Mn={};class Qi{get jwks(){var t,r;return(r=(t=Mn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Mn[this.storageKey]=Object.assign(Object.assign({},Mn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Mn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Mn[this.storageKey]=Object.assign(Object.assign({},Mn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},g4),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Qi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&vt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new JC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gv(i.fetch),this.lock=i.lock||Zx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&vt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=QC:this.lock=Zx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new x4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:xv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qx(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Qx(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(vt()&&(r=CC(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),vt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),vC(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?this._returnResult({error:r}):this._returnResult({error:new rn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:jr}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ln(this.storage,this.storageKey)),i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:jr})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jr})}else throw new Qo("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jx})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jx})}else throw new Qo("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new On;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,d,u,h,f;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:w,statement:b,options:x}=t;let v;if(vt())if(typeof w=="object")v=w;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")v=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),N=await v.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=yv(N[0]);let E=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const L=await v.request({method:"eth_chainId"});E=ZC(L)}const S={domain:j.host,address:k,statement:b,uri:j.href,version:"1",chainId:E,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=t4(S),g=await v.request({method:"personal_sign",params:[e4(m),k]})}try{const{data:y,error:w}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:jr});if(w)throw w;if(!y||!y.session||!y.user){const b=new On;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(te(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,h,f,m;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:w,wallet:b,statement:x,options:v}=t;let j;if(vt())if(typeof b=="object")j=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const N=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),y=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:w,error:b}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:on(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:jr});if(b)throw b;if(!w||!w.session||!w.user){const x=new On;return this._returnResult({data:{user:null,session:null},error:x})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(te(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new wC;const{data:i,error:o}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:jr});if(await yt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new On;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jr}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new On;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ln(this.storage,this.storageKey));const{error:h}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new Qo("You must provide either an email or phone number.")}catch(l){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:jr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ln(this.storage,this.storageKey));const d=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:GC});return!((i=d.data)===null||i===void 0)&&i.url&&vt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xt;const{error:a}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await le(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await le(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Qo("You must provide either an email or phone number and a type")}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<kd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ys(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Sd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=zC(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ns}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ns})})}catch(r){if(te(r))return yC(r)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Xt;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ln(this.storage,this.storageKey));const{data:d,error:u}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ns});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xt;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=_d(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xt;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!vt())throw new Xo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zx("No code detected.");const{data:x,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Xo("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=Bn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(te(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(bC(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=TC(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ln(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return vt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(te(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=t,h=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jr}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new On}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(a){if(await yt(this.storage,`${this.storageKey}-code-verifier`),te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await IC(async a=>(a>0&&await RC(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Nd(i)&&Date.now()+o-n<Bn})}catch(n){if(this._debug(r,"error",n),te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),vt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ys(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await zn(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Sd()}else if(a&&!a.user&&!a.user){const o=await Ys(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await yt(this.storage,this.storageKey+"-user"),await zn(this.storage,this.storageKey,a)):a.user=Sd()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kd;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${kd}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Nd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ec;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),te(i)){const o={data:null,error:i};return Nd(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zn(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Vx(a);await zn(this.storage,this.storageKey,i)}else{const a=Vx(r);await zn(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Bn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Bn}ms, refresh threshold is ${Xu} ticks`),a<=Xu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ln(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await le(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?l4(t.webauthn.credential_response):c4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:i4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:o4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=_d(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Xt});const o=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&vt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Xt});const o=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&vt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xt})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+xC>a)return n;const{data:i,error:o}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=_d(n);r!=null&&r.allowExpired||$C(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const u=FC(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,SC(`${l}.${c}`)))throw new th("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}}Qi.nextInstanceID={};const b4=Qi,y4="2.89.0";let ui="";typeof Deno<"u"?ui="deno":typeof document<"u"?ui="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ui="react-native":ui="node";const v4={"X-Client-Info":`supabase-js-${ui}/${y4}`},w4={headers:v4},j4={schema:"public"},k4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N4={};function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function _4(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S4(e){var t=_4(e,"string");return Xi(t)=="symbol"?t:t+""}function E4(e,t,r){return(t=S4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(n){E4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const T4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),C4=()=>Headers,P4=(e,t,r)=>{const n=T4(r),a=C4();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,rt(rt({},o),{},{headers:d}))}};function R4(e){return e.endsWith("/")?e:e+"/"}function I4(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:rt(rt({},c),a),auth:rt(rt({},d),i),realtime:rt(rt({},u),o),storage:{},global:rt(rt(rt({},h),l),{},{headers:rt(rt({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function A4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(R4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var O4=class extends b4{constructor(e){super(e)}},L4=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=A4(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:j4,realtime:N4,auth:rt(rt({},k4),{},{storageKey:o}),global:w4},c=I4(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=P4(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new mT(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new uC(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new cT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:d},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new O4({url:this.authUrl.href,headers:rt(rt({},f),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new RT(this.realtimeUrl.href,rt(rt({},e),{},{params:rt(rt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const U4=(e,t,r)=>new L4(e,t,r);function D4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}D4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const M4="https://wlxacpqlokoiqqhgaads.supabase.co",$4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndseGFjcHFsb2tvaXFxaGdhYWRzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY2ODkxMTcsImV4cCI6MjA4MjI2NTExN30.96MoSnR2KESLPQIIuMN5w_Eo0bWlw5uAqvJSD7CO0zA";console.log("Supabase Env Vars Present:",{url:!0,key:!0,mode:"production"});const Le=U4(M4,$4),wv=Object.freeze(Object.defineProperty({__proto__:null,supabase:Le},Symbol.toStringTag,{value:"Module"})),jv=p.createContext(null);function F4({children:e}){const[t,r]=p.useState(null),[n,a]=p.useState(!1),[i,o]=p.useState(!0);p.useEffect(()=>{Le.auth.getSession().then(({data:{session:m}})=>{m&&(r(m.user),a(!0)),o(!1)});const{data:{subscription:f}}=Le.auth.onAuthStateChange((m,g)=>{g?(r(g.user),a(!0)):(r(null),a(!1)),o(!1)});return()=>{f.unsubscribe()}},[]),p.useEffect(()=>{t&&typeof localStorage<"u"&&localStorage.getItem("jsp_guest_userKey")&&(console.log("[Activity] Triggering guest activity sync..."),Te("/api/activity/sync",{method:"POST"}).then(()=>console.log("[Activity] Sync initiated")).catch(f=>console.warn("[Activity] Sync failed (non-critical):",f)))},[t]),p.useEffect(()=>{(async()=>{if(!t)return;const m=localStorage.getItem("jsp_ref_code");if(m){console.log("[Referral] Claiming code:",m);try{await Te("/api/referrals/claim",{method:"POST",body:{referralCode:m}}),console.log("[Referral] Claim success"),localStorage.removeItem("jsp_ref_code")}catch(w){console.warn("[Referral] Claim failed or already claimed:",w),(w==null?void 0:w.status)>=400&&(w==null?void 0:w.status)<500&&localStorage.removeItem("jsp_ref_code")}}const g=localStorage.getItem("jsp_heard_about_value"),y=localStorage.getItem("jsp_heard_about_answered");if(!(!g||!y))try{const{data:w,error:b}=await Le.from("profiles").select("heard_about_us").eq("id",t.id).single();if(b){console.warn("[SYNC] Failed to fetch profile:",b);return}if(w&&(w.heard_about_us===null||w.heard_about_us===void 0||w.heard_about_us==="")){console.log("[SYNC] Syncing guest referral data to DB:",g);const{error:x}=await Le.from("profiles").update({heard_about_us:g}).eq("id",t.id);x?console.warn("[SYNC] Failed to sync referral data:",x):console.log("[SYNC] Successfully synced referral data to DB")}else console.log("[SYNC] DB already has heard_about_us value, skipping sync")}catch(w){console.error("[SYNC] Error syncing referral data:",w)}})()},[t]),p.useEffect(()=>{(async()=>{if(!t)return;const m=`jsp_migrated_${t.id}`;if(localStorage.getItem(m))return;console.log("[MIGRATION] Starting guest data migration for",t.id);const g=localStorage.getItem("jsp_onboarding_v1");if(g)try{const w=JSON.parse(g),b={};if(["display_name","job_title","seniority","industry","difficulty","tts_speed_pref"].forEach(x=>{w[x]&&(b[x]=w[x])}),w.focus_areas&&w.focus_areas.length>0&&(b.focus_areas=w.focus_areas),Object.keys(b).length>0){const{error:x}=await Le.from("profiles").upsert({id:t.id,...b},{onConflict:"id"});x?console.error("[MIGRATION] Profile upsert failed",x):console.log("[MIGRATION] Profile migrated")}}catch(w){console.error("[MIGRATION] Profile parse error",w)}const y=localStorage.getItem("jsp_progress");if(y)try{const w=JSON.parse(y);if(Array.isArray(w)&&w.length>0){const b=w.map((v,j)=>({user_id:t.id,client_session_id:`mig_${t.id}_${v.timestamp||Date.now()}_${j}`,question:v.question||v.prompt||"Unknown Question",transcript:v.transcript||"",analysis_json:v.analysis||v.feedback||{},score:v.score||0,created_at:v.timestamp?new Date(v.timestamp).toISOString():new Date().toISOString()})),{error:x}=await Le.from("practice_sessions").upsert(b,{onConflict:"client_session_id",ignoreDuplicates:!0});x?console.warn("[MIGRATION] Practice sessions insert failed (continuing)",x):console.log("[MIGRATION] Sessions migrated:",b.length)}}catch(w){console.error("[MIGRATION] Progress parse error",w)}localStorage.setItem(m,"true"),localStorage.removeItem("jsp_onboarding_v1"),console.log("[MIGRATION] Complete")})()},[t]);const h={isAuthed:n,user:t,signin:async(f,m)=>{const{data:g,error:y}=await Le.auth.signInWithPassword({email:f,password:m});if(y)throw y;return g.user},signup:async(f,m)=>{const{data:g,error:y}=await Le.auth.signUp({email:f,password:m});if(y)throw y;return g.user},logout:async()=>{await Le.auth.signOut(),r(null),a(!1)},updateUser:f=>{r(f)},loading:i};return s.jsx(jv.Provider,{value:h,children:e})}function Rt(){const e=p.useContext(jv);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function B4(){var f;const e=De(),{user:t,logout:r}=Rt(),[n,a]=p.useState(!1),[i,o]=p.useState(""),l=p.useRef(null);p.useEffect(()=>{t!=null&&t.id&&Le.from("profiles").select("avatar_url").eq("id",t.id).single().then(({data:m})=>{m!=null&&m.avatar_url&&o(m.avatar_url)})},[t]),p.useEffect(()=>{const m=g=>{l.current&&!l.current.contains(g.target)&&a(!1)};if(n)return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[n]);const h=t?[{label:"Dashboard",onClick:()=>e("/dashboard")},{label:"Practice",onClick:()=>e("/practice")},{label:"My Progress",onClick:()=>e("/progress")},{label:"Referrals",onClick:()=>e("/referral")},{label:"Affiliate",onClick:()=>e("/affiliate")},{label:"Profile",onClick:()=>e("/profile")},{label:"Billing / Upgrade",onClick:()=>e("/pricing")},{label:"Sign out",onClick:()=>{r(),a(!1),e("/")},danger:!0}]:[{label:"Sign in",onClick:()=>e("/signin")},{label:"Create account",onClick:()=>e("/signup")},{label:"Contact",onClick:()=>e("/contact")},{label:"Help / FAQ",onClick:()=>e("/help")}];return s.jsxs("div",{className:"relative",ref:l,children:[t?s.jsx("button",{onClick:()=>a(!n),className:"size-10 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden cursor-pointer hover:ring-2 hover:ring-primary/50 transition-all","aria-label":"User menu",children:i||(f=t==null?void 0:t.user_metadata)!=null&&f.avatar_url?s.jsx("img",{src:i||t.user_metadata.avatar_url,alt:"User avatar",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-500 dark:text-slate-400",children:s.jsx("span",{className:"material-symbols-outlined",children:"person"})})}):s.jsx("button",{onClick:()=>a(!n),className:"p-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors","aria-label":"Menu",children:s.jsxs("div",{className:"flex flex-col gap-[5px] w-6",children:[s.jsx("span",{className:"w-full h-0.5 bg-current rounded-full"}),s.jsx("span",{className:"w-full h-0.5 bg-current rounded-full"}),s.jsx("span",{className:"w-full h-0.5 bg-current rounded-full"})]})}),n&&s.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-[#1A222C] rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 py-1 z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:h.map((m,g)=>s.jsx("button",{onClick:()=>{m.onClick(),a(!1)},className:`w-full text-left px-4 py-2.5 text-sm font-medium transition-colors ${m.danger?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:m.label},g))})]})}function Ue(){const{isAuthed:e}=Rt();return De(),s.jsx("header",{className:"sticky top-0 z-50 w-full bg-white dark:bg-[#1A222C] border-b border-slate-200 dark:border-gray-800 backdrop-blur-sm bg-white/95 dark:bg-[#1A222C]/95",children:s.jsxs("div",{className:"px-4 sm:px-10 py-3 flex items-center justify-between",children:[s.jsxs(ve,{to:"/",className:"flex items-center gap-3 text-[#111418] dark:text-white hover:opacity-80 transition-opacity",children:[s.jsx("div",{className:"size-8 text-primary",children:s.jsxs("svg",{fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("g",{clipPath:"url(#clip0_6_330)",children:s.jsx("path",{clipRule:"evenodd",d:"M24 0.757355L47.2426 24L24 47.2426L0.757355 24L24 0.757355ZM21 35.7574V12.2426L9.24264 24L21 35.7574Z",fill:"currentColor",fillRule:"evenodd"})}),s.jsx("defs",{children:s.jsx("clipPath",{id:"clip0_6_330",children:s.jsx("rect",{fill:"white",height:"48",width:"48"})})})]})}),s.jsx("h2",{className:"text-xl font-bold leading-tight tracking-tight",children:"JobSpeak Pro"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[!e&&s.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[s.jsx(ve,{to:"/signin",className:"text-sm font-bold text-slate-700 dark:text-white hover:text-primary transition-colors",children:"Sign In"}),s.jsx(ve,{to:"/start",className:"h-9 px-4 flex items-center justify-center rounded-full bg-primary text-sm font-bold text-white hover:bg-blue-600 transition-colors shadow-sm",children:"Start Practicing"})]}),s.jsx("div",{className:e?"":"md:hidden",children:s.jsx(B4,{})})]})]})})}function z4(){const e=De(),[t,r]=p.useState(!1),[n,a]=p.useState([]),[i,o]=p.useState({credits:0,total_referred:0}),[l,c]=p.useState(!0),[d,u]=p.useState(!1);p.useEffect(()=>{(async()=>{var m,g;try{const[y,w]=await Promise.all([Te("/api/referrals/history").catch(x=>(console.error("History fetch error:",x),{history:[]})),Te("/api/referrals/stats").catch(x=>(console.error("Stats fetch error:",x),{credits:0,total_referred:0}))]),b=(y==null?void 0:y.history)||(Array.isArray(y)?y:[]);a(b),o({credits:(w==null?void 0:w.credits)||((m=w==null?void 0:w.data)==null?void 0:m.credits)||0,total_referred:(w==null?void 0:w.total_referred)||((g=w==null?void 0:w.data)==null?void 0:g.total_referred)||0})}catch(y){console.error("Failed to load referral data",y)}finally{c(!1)}})()},[]);const h=async()=>{u(!0);try{await Te("/api/referrals/redeem",{method:"POST"}),r(!1),e("/interview")}catch(f){console.error("Redeem error:",f),alert(f.message||"Not eligible or no credits available.")}finally{u(!1)}};return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-[#111418] dark:text-white transition-colors duration-300 min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-1 max-w-[900px] mx-auto w-full px-4 py-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ve,{to:"/referral",className:"flex items-center justify-center size-10 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:s.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Referral History"})]})}),s.jsx("div",{className:"bg-white dark:bg-[#111921] rounded-xl border border-[#dce0e5] dark:border-gray-800 overflow-hidden shadow-sm",children:l?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading..."}):n.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800/50 border-b border-[#dce0e5] dark:border-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold text-gray-600 dark:text-gray-400",children:"Referred User"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-gray-600 dark:text-gray-400",children:"Date"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-gray-600 dark:text-gray-400",children:"Status"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-gray-600 dark:text-gray-400",children:"Reward"})]})}),s.jsx("tbody",{className:"divide-y divide-[#dce0e5] dark:divide-gray-800",children:n.map((f,m)=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:f.referred_email||f.email||"Hidden"}),s.jsx("td",{className:"px-6 py-4",children:f.created_at?new Date(f.created_at).toLocaleDateString():"-"}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-bold ${f.status==="converted"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:f.status||"Pending"})}),s.jsx("td",{className:"px-6 py-4",children:f.reward_status||(f.status==="converted"?"Credit Earned":"Pending")})]},f.id||m))})]})}):s.jsx("div",{className:"p-12 text-center text-gray-500",children:"No referrals yet. Start inviting friends!"})}),s.jsxs("div",{className:"mt-8 flex flex-col md:flex-row gap-4 justify-between items-center bg-[#197fe6]/5 dark:bg-[#197fe6]/10 border border-[#197fe6]/20 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"size-10 rounded-full bg-[#197fe6] text-white flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"redeem"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-lg",children:["You have ",i.credits||0," credit",i.credits!==1&&"s"," available!"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use your credits to unlock more mock interviews."})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>e("/referral"),className:"px-6 py-3 rounded-lg font-bold border border-[#dce0e5] dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors bg-white dark:bg-[#111921]",children:"Invite Friend"}),s.jsx("button",{onClick:()=>r(!0),disabled:!i.credits||i.credits<=0,className:"px-6 py-3 rounded-lg font-bold bg-[#197fe6] text-white hover:bg-[#197fe6]/90 transition-colors shadow-lg shadow-[#197fe6]/20 disabled:opacity-50 disabled:cursor-not-allowed",children:"Use Credit Now"})]})]})]}),t&&s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in",children:s.jsx("div",{className:"bg-white dark:bg-[#1A222C] rounded-2xl w-full max-w-md p-6 shadow-2xl scale-100 animate-in zoom-in-95",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto size-16 bg-[#197fe6]/10 rounded-full flex items-center justify-center mb-4 text-[#197fe6]",children:s.jsx("span",{className:"material-symbols-outlined text-3xl",children:"redeem"})}),s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Redeem Credit"}),s.jsx("p",{className:"text-slate-600 dark:text-gray-400 mb-6",children:"You are about to use 1 Referral Credit for a Mock Interview session."}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("button",{onClick:h,disabled:d,className:"w-full py-3 bg-[#197fe6] text-white font-bold rounded-xl hover:bg-[#197fe6]/90 transition-colors disabled:opacity-70",children:d?"Redeeming...":"Confirm & Start Session"}),s.jsx("button",{onClick:()=>r(!1),disabled:d,className:"w-full py-3 text-slate-500 font-bold hover:bg-slate-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:"Cancel"})]})]})})})]})}function W4(){return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-[#111418] dark:text-white transition-colors duration-200",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"max-w-[1200px] mx-auto px-6 py-12 space-y-24",children:[s.jsxs("section",{className:"relative overflow-hidden rounded-3xl bg-[#197fe6]/5 dark:bg-[#197fe6]/10 border border-[#197fe6]/10",children:[s.jsxs("div",{className:"relative z-10 py-20 px-8 text-center flex flex-col items-center gap-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#197fe6]/20 text-[#197fe6] px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"verified"}),"Early Access Program"]}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-black tracking-tight max-w-4xl leading-[1.1]",children:["Become a Founding Affiliate ",s.jsx("span",{className:"text-[#197fe6]",children:"Earn 30% Revenue Share"})]}),s.jsx("p",{className:"text-lg md:text-xl text-[#637588] dark:text-gray-400 max-w-2xl leading-relaxed",children:"Help professionals practice interviews. Earn recurring commission on every customer you refer to the world's leading AI-powered interview prep platform."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[s.jsx(ve,{to:"/affiliate/apply",className:"bg-[#197fe6] text-white text-base font-bold px-8 py-4 rounded-xl hover:bg-[#197fe6]/90 transition-all shadow-lg hover:shadow-[#197fe6]/20 active:scale-95",children:"Apply to Become a Founding Affiliate"}),s.jsx(ve,{to:"/affiliate/terms",className:"bg-white dark:bg-gray-800 border border-[#dce0e5] dark:border-gray-700 text-base font-bold px-8 py-4 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all active:scale-95",children:"View Program Terms"})]})]}),s.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-[#197fe6]/10 blur-[120px] rounded-full translate-x-1/2 -translate-y-1/2"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-[300px] h-[300px] bg-[#197fe6]/5 blur-[80px] rounded-full -translate-x-1/2 translate-y-1/2"})]}),s.jsxs("section",{id:"who-it-is-for",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight mb-4",children:"Who This Is For"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400",children:"We partner with high-integrity operators who serve the career space."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"group flex flex-col gap-4 rounded-2xl border border-[#dce0e5] dark:border-gray-800 bg-white dark:bg-[#111921] p-6 hover:shadow-xl transition-all duration-300",children:[s.jsx("div",{className:"size-12 rounded-xl bg-[#197fe6]/10 text-[#197fe6] flex items-center justify-center transition-transform group-hover:scale-110",children:s.jsx("span",{className:"material-symbols-outlined text-3xl",children:"video_stable"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Creators"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 text-sm leading-relaxed",children:"Content creators on LinkedIn, YouTube, or TikTok in the tech and career growth niche."})]})]}),s.jsxs("div",{className:"group flex flex-col gap-4 rounded-2xl border border-[#dce0e5] dark:border-gray-800 bg-white dark:bg-[#111921] p-6 hover:shadow-xl transition-all duration-300",children:[s.jsx("div",{className:"size-12 rounded-xl bg-[#197fe6]/10 text-[#197fe6] flex items-center justify-center transition-transform group-hover:scale-110",children:s.jsx("span",{className:"material-symbols-outlined text-3xl",children:"school"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Educators & Coaches"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 text-sm leading-relaxed",children:"Interview coaches, HR consultants, and career advisors helping candidates land jobs."})]})]}),s.jsxs("div",{className:"group flex flex-col gap-4 rounded-2xl border border-[#dce0e5] dark:border-gray-800 bg-white dark:bg-[#111921] p-6 hover:shadow-xl transition-all duration-300",children:[s.jsx("div",{className:"size-12 rounded-xl bg-[#197fe6]/10 text-[#197fe6] flex items-center justify-center transition-transform group-hover:scale-110",children:s.jsx("span",{className:"material-symbols-outlined text-3xl",children:"auto_awesome"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-lg font-bold",children:"AI Influencers"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 text-sm leading-relaxed",children:"Thought leaders and operators focused on AI productivity and career automation tools."})]})]}),s.jsxs("div",{className:"group flex flex-col gap-4 rounded-2xl border border-[#dce0e5] dark:border-gray-800 bg-white dark:bg-[#111921] p-6 hover:shadow-xl transition-all duration-300",children:[s.jsx("div",{className:"size-12 rounded-xl bg-[#197fe6]/10 text-[#197fe6] flex items-center justify-center transition-transform group-hover:scale-110",children:s.jsx("span",{className:"material-symbols-outlined text-3xl",children:"groups"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Career Communities"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 text-sm leading-relaxed",children:"Owners of Slack, Discord, or newsletter communities supporting active job seekers."})]})]})]})]}),s.jsx("section",{className:"bg-white dark:bg-gray-900/40 rounded-3xl p-8 md:p-12 border border-[#dce0e5] dark:border-gray-800",id:"benefits",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[s.jsxs("div",{className:"lg:w-1/3",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight mb-4",children:"Affiliate Benefits"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 mb-6",children:"We reward our founding partners with high-value terms that recognize their early contribution."}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-500",children:"check_circle"}),s.jsx("span",{className:"font-medium",children:"No Cap on Earnings"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-500",children:"check_circle"}),s.jsx("span",{className:"font-medium",children:"Direct Founder Contact"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-500",children:"check_circle"}),s.jsx("span",{className:"font-medium",children:"Exclusive Partner Portal"})]})]})]}),s.jsxs("div",{className:"lg:w-2/3 grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-5 bg-[#f6f7f8] dark:bg-gray-800 rounded-2xl border border-[#dce0e5] dark:border-gray-700",children:[s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] mb-3",children:"payments"}),s.jsx("h4",{className:"font-bold mb-1",children:"30% Recurring Commission"}),s.jsx("p",{className:"text-sm text-[#637588] dark:text-gray-400",children:"Earn from every monthly or annual renewal from your referrals."})]}),s.jsxs("div",{className:"p-5 bg-[#f6f7f8] dark:bg-gray-800 rounded-2xl border border-[#dce0e5] dark:border-gray-700",children:[s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] mb-3",children:"workspace_premium"}),s.jsx("h4",{className:"font-bold mb-1",children:"Founding Partner Status"}),s.jsx("p",{className:"text-sm text-[#637588] dark:text-gray-400",children:"Lock in your 30% rate for 24 months per active paying customer."})]}),s.jsxs("div",{className:"p-5 bg-[#f6f7f8] dark:bg-gray-800 rounded-2xl border border-[#dce0e5] dark:border-gray-700",children:[s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] mb-3",children:"calendar_month"}),s.jsx("h4",{className:"font-bold mb-1",children:"24 Month Duration"}),s.jsx("p",{className:"text-sm text-[#637588] dark:text-gray-400",children:"Commission applies per active paying customer for 24 months."})]}),s.jsxs("div",{className:"p-5 bg-[#f6f7f8] dark:bg-gray-800 rounded-2xl border border-[#dce0e5] dark:border-gray-700",children:[s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] mb-3",children:"query_stats"}),s.jsx("h4",{className:"font-bold mb-1",children:"Transparent Tracking"}),s.jsx("p",{className:"text-sm text-[#637588] dark:text-gray-400",children:"Real-time dashboard to see clicks, signups, and commissions earned."})]}),s.jsxs("div",{className:"p-5 bg-[#f6f7f8] dark:bg-gray-800 rounded-2xl border border-[#dce0e5] dark:border-gray-700",children:[s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] mb-3",children:"lock_open"}),s.jsx("h4",{className:"font-bold mb-1",children:"Manual Approval"}),s.jsx("p",{className:"text-sm text-[#637588] dark:text-gray-400",children:"We keep the pool small and high-quality to prevent brand dilution."})]}),s.jsxs("div",{className:"p-5 bg-[#f6f7f8] dark:bg-gray-800 rounded-2xl border border-[#dce0e5] dark:border-gray-700",children:[s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] mb-3",children:"schedule_send"}),s.jsx("h4",{className:"font-bold mb-1",children:"Monthly Payouts"}),s.jsx("p",{className:"text-sm text-[#637588] dark:text-gray-400",children:"Predictable income with payouts processed by the 5th of every month."})]})]})]})}),s.jsxs("section",{className:"py-12",id:"how-it-works",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight mb-4",children:"How It Works"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400",children:"Launch your partner status in three simple steps."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 relative",children:[s.jsx("div",{className:"hidden md:block absolute top-12 left-[20%] right-[20%] h-0.5 bg-gradient-to-r from-transparent via-[#dce0e5] dark:via-gray-800 to-transparent"}),s.jsxs("div",{className:"flex flex-col items-center text-center gap-4 relative",children:[s.jsx("div",{className:"size-20 rounded-full bg-[#197fe6] text-white flex items-center justify-center shadow-lg shadow-[#197fe6]/30 z-10",children:s.jsx("span",{className:"material-symbols-outlined text-4xl",children:"edit_document"})}),s.jsx("h3",{className:"text-xl font-bold",children:"1. Apply & Approve"}),s.jsx("p",{className:"text-sm text-[#637588] dark:text-gray-400 max-w-xs leading-relaxed",children:"Fill out our brief application. We review and approve partners within 48 hours to ensure a good fit."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center gap-4 relative",children:[s.jsx("div",{className:"size-20 rounded-full bg-[#197fe6] text-white flex items-center justify-center shadow-lg shadow-[#197fe6]/30 z-10",children:s.jsx("span",{className:"material-symbols-outlined text-4xl",children:"link"})}),s.jsx("h3",{className:"text-xl font-bold",children:"2. Share Your Link"}),s.jsx("p",{className:"text-sm text-[#637588] dark:text-gray-400 max-w-xs leading-relaxed",children:"Use your unique tracking link in your content, newsletters, or social media posts."})]}),s.jsxs("div",{className:"flex flex-col items-center text-center gap-4 relative",children:[s.jsx("div",{className:"size-20 rounded-full bg-[#197fe6] text-white flex items-center justify-center shadow-lg shadow-[#197fe6]/30 z-10",children:s.jsx("span",{className:"material-symbols-outlined text-4xl",children:"currency_exchange"})}),s.jsx("h3",{className:"text-xl font-bold",children:"3. Earn Commission"}),s.jsx("p",{className:"text-sm text-[#637588] dark:text-gray-400 max-w-xs leading-relaxed",children:"Watch your balance grow in real-time as your audience subscribes to JobSpeakPro."})]})]})]}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",id:"payouts",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight mb-6",children:"Payout Information"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"shrink-0 size-10 rounded-lg bg-[#197fe6]/10 text-[#197fe6] flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"payments"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:"Multiple Methods"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 text-sm",children:"We support PayPal, Stripe Direct, and Crypto (USDT). Affiliate is responsible for all payment/network/processing fees."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"shrink-0 size-10 rounded-lg bg-[#197fe6]/10 text-[#197fe6] flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"analytics"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:"Minimum Threshold"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 text-sm",children:"Low $50 minimum threshold for all payouts. Unpaid balances roll over to the next month."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"shrink-0 size-10 rounded-lg bg-[#197fe6]/10 text-[#197fe6] flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"description"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:"Simple Tax Reporting"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 text-sm",children:"Automatic generation of earnings reports for your annual tax filing."})]})]})]})]}),s.jsxs("div",{className:"bg-[#197fe6] p-8 rounded-3xl text-white shadow-2xl shadow-[#197fe6]/20",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Payout Schedule"}),s.jsx("p",{className:"opacity-80 mb-6",children:"Transparent and reliable payments. No hidden fees."}),s.jsxs("div",{className:"bg-white/10 rounded-2xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-white/10",children:[s.jsx("span",{children:"Frequency"}),s.jsx("span",{className:"font-bold",children:"Monthly"})]}),s.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-white/10",children:[s.jsx("span",{children:"Payment Date"}),s.jsx("span",{className:"font-bold",children:"5th of the month"})]}),s.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-white/10",children:[s.jsx("span",{children:"Currency"}),s.jsx("span",{className:"font-bold",children:"USD / USDT"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{children:"Next Payout Cycle"}),s.jsx("span",{className:"font-bold px-2 py-1 bg-white/20 rounded-md text-sm",children:"Active"})]})]})]})]})]})]})}function q4(){const e=De(),[t,r]=p.useState(!1),[n,a]=p.useState(""),[i,o]=p.useState("");p.useEffect(()=>{document.title="Affiliate Application | JobSpeakPro"},[]);const l=async c=>{var h;c.preventDefault(),r(!0);const d=c.target;if(!n||!i){alert("Please complete all required fields."),r(!1);return}const u={name:d["full-name"].value,email:d.email.value,country:d.country.value,primaryPlatform:n==="other"?d.platform_other.value:n,audienceSize:d.audience.value,channelLink:d.link.value,promoPlan:d.strategy.value,payoutPreference:i,payoutDetails:{}};i==="paypal"?u.payoutDetails.email=d.paypal_email.value:i==="stripe"?u.payoutDetails.email=d.stripe_email.value:i==="crypto"&&(u.payoutDetails.wallet=d.crypto_wallet.value,u.payoutDetails.network=d.crypto_network.value);try{await Te("/api/affiliate/apply",{method:"POST",body:u}),e("/affiliate/joined")}catch(f){console.error("Affiliate apply error:",f),r(!1);const m=((h=f.data)==null?void 0:h.error)||f.message||"Something went wrong. Please check your inputs and try again.";alert(m)}};return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-[#111418] dark:text-white transition-colors duration-200 min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsx("main",{className:"flex-grow flex flex-col items-center justify-center px-6 py-12",children:s.jsxs("div",{className:"w-full max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-sm border border-[#dce0e5] dark:border-gray-800 overflow-hidden",children:[s.jsx("div",{className:"px-8 pt-8 pb-6 border-b border-[#f0f2f4] dark:border-gray-800",children:s.jsxs("div",{className:"flex justify-between items-end mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Affiliate Application"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 mt-1",children:"Tell us about your audience and platform."})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-sm font-semibold text-[#197fe6]",children:"Step 1 of 2"}),s.jsx("div",{className:"w-24 h-2 bg-gray-100 dark:bg-gray-800 rounded-full mt-2 overflow-hidden",children:s.jsx("div",{className:"w-1/2 h-full bg-[#197fe6]"})})]})]})}),s.jsxs("form",{className:"p-8 space-y-8",onSubmit:l,children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-[#637588] mb-6",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"full-name",children:"Full Name"}),s.jsx("input",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"full-name","data-testid":"affiliate-name",placeholder:"John Doe",type:"text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"email",children:"Email Address"}),s.jsx("input",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"email","data-testid":"affiliate-email",placeholder:"john@example.com",type:"email"})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"country",children:"Country"}),s.jsxs("select",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"country","data-testid":"affiliate-country",children:[s.jsx("option",{value:"",children:"Select Country"}),s.jsx("option",{value:"AF",children:"Afghanistan"}),s.jsx("option",{value:"AX",children:"land Islands"}),s.jsx("option",{value:"AL",children:"Albania"}),s.jsx("option",{value:"DZ",children:"Algeria"}),s.jsx("option",{value:"AS",children:"American Samoa"}),s.jsx("option",{value:"AD",children:"Andorra"}),s.jsx("option",{value:"AO",children:"Angola"}),s.jsx("option",{value:"AI",children:"Anguilla"}),s.jsx("option",{value:"AQ",children:"Antarctica"}),s.jsx("option",{value:"AG",children:"Antigua and Barbuda"}),s.jsx("option",{value:"AR",children:"Argentina"}),s.jsx("option",{value:"AM",children:"Armenia"}),s.jsx("option",{value:"AW",children:"Aruba"}),s.jsx("option",{value:"AU",children:"Australia"}),s.jsx("option",{value:"AT",children:"Austria"}),s.jsx("option",{value:"AZ",children:"Azerbaijan"}),s.jsx("option",{value:"BS",children:"Bahamas"}),s.jsx("option",{value:"BH",children:"Bahrain"}),s.jsx("option",{value:"BD",children:"Bangladesh"}),s.jsx("option",{value:"BB",children:"Barbados"}),s.jsx("option",{value:"BY",children:"Belarus"}),s.jsx("option",{value:"BE",children:"Belgium"}),s.jsx("option",{value:"BZ",children:"Belize"}),s.jsx("option",{value:"BJ",children:"Benin"}),s.jsx("option",{value:"BM",children:"Bermuda"}),s.jsx("option",{value:"BT",children:"Bhutan"}),s.jsx("option",{value:"BO",children:"Bolivia"}),s.jsx("option",{value:"BQ",children:"Bonaire, Sint Eustatius and Saba"}),s.jsx("option",{value:"BA",children:"Bosnia and Herzegovina"}),s.jsx("option",{value:"BW",children:"Botswana"}),s.jsx("option",{value:"BV",children:"Bouvet Island"}),s.jsx("option",{value:"BR",children:"Brazil"}),s.jsx("option",{value:"IO",children:"British Indian Ocean Territory"}),s.jsx("option",{value:"BN",children:"Brunei Darussalam"}),s.jsx("option",{value:"BG",children:"Bulgaria"}),s.jsx("option",{value:"BF",children:"Burkina Faso"}),s.jsx("option",{value:"BI",children:"Burundi"}),s.jsx("option",{value:"KH",children:"Cambodia"}),s.jsx("option",{value:"CM",children:"Cameroon"}),s.jsx("option",{value:"CA",children:"Canada"}),s.jsx("option",{value:"CV",children:"Cape Verde"}),s.jsx("option",{value:"KY",children:"Cayman Islands"}),s.jsx("option",{value:"CF",children:"Central African Republic"}),s.jsx("option",{value:"TD",children:"Chad"}),s.jsx("option",{value:"CL",children:"Chile"}),s.jsx("option",{value:"CN",children:"China"}),s.jsx("option",{value:"CX",children:"Christmas Island"}),s.jsx("option",{value:"CC",children:"Cocos (Keeling) Islands"}),s.jsx("option",{value:"CO",children:"Colombia"}),s.jsx("option",{value:"KM",children:"Comoros"}),s.jsx("option",{value:"CG",children:"Congo"}),s.jsx("option",{value:"CD",children:"Congo, Democratic Republic of the"}),s.jsx("option",{value:"CK",children:"Cook Islands"}),s.jsx("option",{value:"CR",children:"Costa Rica"}),s.jsx("option",{value:"CI",children:"Cte d'Ivoire"}),s.jsx("option",{value:"HR",children:"Croatia"}),s.jsx("option",{value:"CU",children:"Cuba"}),s.jsx("option",{value:"CW",children:"Curaao"}),s.jsx("option",{value:"CY",children:"Cyprus"}),s.jsx("option",{value:"CZ",children:"Czech Republic"}),s.jsx("option",{value:"DK",children:"Denmark"}),s.jsx("option",{value:"DJ",children:"Djibouti"}),s.jsx("option",{value:"DM",children:"Dominica"}),s.jsx("option",{value:"DO",children:"Dominican Republic"}),s.jsx("option",{value:"EC",children:"Ecuador"}),s.jsx("option",{value:"EG",children:"Egypt"}),s.jsx("option",{value:"SV",children:"El Salvador"}),s.jsx("option",{value:"GQ",children:"Equatorial Guinea"}),s.jsx("option",{value:"ER",children:"Eritrea"}),s.jsx("option",{value:"EE",children:"Estonia"}),s.jsx("option",{value:"ET",children:"Ethiopia"}),s.jsx("option",{value:"FK",children:"Falkland Islands (Malvinas)"}),s.jsx("option",{value:"FO",children:"Faroe Islands"}),s.jsx("option",{value:"FJ",children:"Fiji"}),s.jsx("option",{value:"FI",children:"Finland"}),s.jsx("option",{value:"FR",children:"France"}),s.jsx("option",{value:"GF",children:"French Guiana"}),s.jsx("option",{value:"PF",children:"French Polynesia"}),s.jsx("option",{value:"TF",children:"French Southern Territories"}),s.jsx("option",{value:"GA",children:"Gabon"}),s.jsx("option",{value:"GM",children:"Gambia"}),s.jsx("option",{value:"GE",children:"Georgia"}),s.jsx("option",{value:"DE",children:"Germany"}),s.jsx("option",{value:"GH",children:"Ghana"}),s.jsx("option",{value:"GI",children:"Gibraltar"}),s.jsx("option",{value:"GR",children:"Greece"}),s.jsx("option",{value:"GL",children:"Greenland"}),s.jsx("option",{value:"GD",children:"Grenada"}),s.jsx("option",{value:"GP",children:"Guadeloupe"}),s.jsx("option",{value:"GU",children:"Guam"}),s.jsx("option",{value:"GT",children:"Guatemala"}),s.jsx("option",{value:"GG",children:"Guernsey"}),s.jsx("option",{value:"GN",children:"Guinea"}),s.jsx("option",{value:"GW",children:"Guinea-Bissau"}),s.jsx("option",{value:"GY",children:"Guyana"}),s.jsx("option",{value:"HT",children:"Haiti"}),s.jsx("option",{value:"HM",children:"Heard Island and McDonald Islands"}),s.jsx("option",{value:"VA",children:"Holy See (Vatican City State)"}),s.jsx("option",{value:"HN",children:"Honduras"}),s.jsx("option",{value:"HK",children:"Hong Kong"}),s.jsx("option",{value:"HU",children:"Hungary"}),s.jsx("option",{value:"IS",children:"Iceland"}),s.jsx("option",{value:"IN",children:"India"}),s.jsx("option",{value:"ID",children:"Indonesia"}),s.jsx("option",{value:"IR",children:"Iran, Islamic Republic of"}),s.jsx("option",{value:"IQ",children:"Iraq"}),s.jsx("option",{value:"IE",children:"Ireland"}),s.jsx("option",{value:"IM",children:"Isle of Man"}),s.jsx("option",{value:"IL",children:"Israel"}),s.jsx("option",{value:"IT",children:"Italy"}),s.jsx("option",{value:"JM",children:"Jamaica"}),s.jsx("option",{value:"JP",children:"Japan"}),s.jsx("option",{value:"JE",children:"Jersey"}),s.jsx("option",{value:"JO",children:"Jordan"}),s.jsx("option",{value:"KZ",children:"Kazakhstan"}),s.jsx("option",{value:"KE",children:"Kenya"}),s.jsx("option",{value:"KI",children:"Kiribati"}),s.jsx("option",{value:"KP",children:"Korea, Democratic People's Republic of"}),s.jsx("option",{value:"KR",children:"Korea, Republic of"}),s.jsx("option",{value:"KW",children:"Kuwait"}),s.jsx("option",{value:"KG",children:"Kyrgyzstan"}),s.jsx("option",{value:"LA",children:"Lao People's Democratic Republic"}),s.jsx("option",{value:"LV",children:"Latvia"}),s.jsx("option",{value:"LB",children:"Lebanon"}),s.jsx("option",{value:"LS",children:"Lesotho"}),s.jsx("option",{value:"LR",children:"Liberia"}),s.jsx("option",{value:"LY",children:"Libya"}),s.jsx("option",{value:"LI",children:"Liechtenstein"}),s.jsx("option",{value:"LT",children:"Lithuania"}),s.jsx("option",{value:"LU",children:"Luxembourg"}),s.jsx("option",{value:"MO",children:"Macao"}),s.jsx("option",{value:"MK",children:"Macedonia, the former Yugoslav Republic of"}),s.jsx("option",{value:"MG",children:"Madagascar"}),s.jsx("option",{value:"MW",children:"Malawi"}),s.jsx("option",{value:"MY",children:"Malaysia"}),s.jsx("option",{value:"MV",children:"Maldives"}),s.jsx("option",{value:"ML",children:"Mali"}),s.jsx("option",{value:"MT",children:"Malta"}),s.jsx("option",{value:"MH",children:"Marshall Islands"}),s.jsx("option",{value:"MQ",children:"Martinique"}),s.jsx("option",{value:"MR",children:"Mauritania"}),s.jsx("option",{value:"MU",children:"Mauritius"}),s.jsx("option",{value:"YT",children:"Mayotte"}),s.jsx("option",{value:"MX",children:"Mexico"}),s.jsx("option",{value:"FM",children:"Micronesia, Federated States of"}),s.jsx("option",{value:"MD",children:"Moldova, Republic of"}),s.jsx("option",{value:"MC",children:"Monaco"}),s.jsx("option",{value:"MN",children:"Mongolia"}),s.jsx("option",{value:"ME",children:"Montenegro"}),s.jsx("option",{value:"MS",children:"Montserrat"}),s.jsx("option",{value:"MA",children:"Morocco"}),s.jsx("option",{value:"MZ",children:"Mozambique"}),s.jsx("option",{value:"MM",children:"Myanmar"}),s.jsx("option",{value:"NA",children:"Namibia"}),s.jsx("option",{value:"NR",children:"Nauru"}),s.jsx("option",{value:"NP",children:"Nepal"}),s.jsx("option",{value:"NL",children:"Netherlands"}),s.jsx("option",{value:"NC",children:"New Caledonia"}),s.jsx("option",{value:"NZ",children:"New Zealand"}),s.jsx("option",{value:"NI",children:"Nicaragua"}),s.jsx("option",{value:"NE",children:"Niger"}),s.jsx("option",{value:"NG",children:"Nigeria"}),s.jsx("option",{value:"NU",children:"Niue"}),s.jsx("option",{value:"NF",children:"Norfolk Island"}),s.jsx("option",{value:"MP",children:"Northern Mariana Islands"}),s.jsx("option",{value:"NO",children:"Norway"}),s.jsx("option",{value:"OM",children:"Oman"}),s.jsx("option",{value:"PK",children:"Pakistan"}),s.jsx("option",{value:"PW",children:"Palau"}),s.jsx("option",{value:"PS",children:"Palestinian Territory, Occupied"}),s.jsx("option",{value:"PA",children:"Panama"}),s.jsx("option",{value:"PG",children:"Papua New Guinea"}),s.jsx("option",{value:"PY",children:"Paraguay"}),s.jsx("option",{value:"PE",children:"Peru"}),s.jsx("option",{value:"PH",children:"Philippines"}),s.jsx("option",{value:"PN",children:"Pitcairn"}),s.jsx("option",{value:"PL",children:"Poland"}),s.jsx("option",{value:"PT",children:"Portugal"}),s.jsx("option",{value:"PR",children:"Puerto Rico"}),s.jsx("option",{value:"QA",children:"Qatar"}),s.jsx("option",{value:"RE",children:"Runion"}),s.jsx("option",{value:"RO",children:"Romania"}),s.jsx("option",{value:"RU",children:"Russian Federation"}),s.jsx("option",{value:"RW",children:"Rwanda"}),s.jsx("option",{value:"BL",children:"Saint Barthlemy"}),s.jsx("option",{value:"SH",children:"Saint Helena, Ascension and Tristan da Cunha"}),s.jsx("option",{value:"KN",children:"Saint Kitts and Nevis"}),s.jsx("option",{value:"LC",children:"Saint Lucia"}),s.jsx("option",{value:"MF",children:"Saint Martin (French part)"}),s.jsx("option",{value:"PM",children:"Saint Pierre and Miquelon"}),s.jsx("option",{value:"VC",children:"Saint Vincent and the Grenadines"}),s.jsx("option",{value:"WS",children:"Samoa"}),s.jsx("option",{value:"SM",children:"San Marino"}),s.jsx("option",{value:"ST",children:"Sao Tome and Principe"}),s.jsx("option",{value:"SA",children:"Saudi Arabia"}),s.jsx("option",{value:"SN",children:"Senegal"}),s.jsx("option",{value:"RS",children:"Serbia"}),s.jsx("option",{value:"SC",children:"Seychelles"}),s.jsx("option",{value:"SL",children:"Sierra Leone"}),s.jsx("option",{value:"SG",children:"Singapore"}),s.jsx("option",{value:"SX",children:"Sint Maarten (Dutch part)"}),s.jsx("option",{value:"SK",children:"Slovakia"}),s.jsx("option",{value:"SI",children:"Slovenia"}),s.jsx("option",{value:"SB",children:"Solomon Islands"}),s.jsx("option",{value:"SO",children:"Somalia"}),s.jsx("option",{value:"ZA",children:"South Africa"}),s.jsx("option",{value:"GS",children:"South Georgia and the South Sandwich Islands"}),s.jsx("option",{value:"SS",children:"South Sudan"}),s.jsx("option",{value:"ES",children:"Spain"}),s.jsx("option",{value:"LK",children:"Sri Lanka"}),s.jsx("option",{value:"SD",children:"Sudan"}),s.jsx("option",{value:"SR",children:"Suriname"}),s.jsx("option",{value:"SJ",children:"Svalbard and Jan Mayen"}),s.jsx("option",{value:"SZ",children:"Swaziland"}),s.jsx("option",{value:"SE",children:"Sweden"}),s.jsx("option",{value:"CH",children:"Switzerland"}),s.jsx("option",{value:"SY",children:"Syrian Arab Republic"}),s.jsx("option",{value:"TW",children:"Taiwan, Province of China"}),s.jsx("option",{value:"TJ",children:"Tajikistan"}),s.jsx("option",{value:"TZ",children:"Tanzania, United Republic of"}),s.jsx("option",{value:"TH",children:"Thailand"}),s.jsx("option",{value:"TL",children:"Timor-Leste"}),s.jsx("option",{value:"TG",children:"Togo"}),s.jsx("option",{value:"TK",children:"Tokelau"}),s.jsx("option",{value:"TO",children:"Tonga"}),s.jsx("option",{value:"TT",children:"Trinidad and Tobago"}),s.jsx("option",{value:"TN",children:"Tunisia"}),s.jsx("option",{value:"TR",children:"Turkey"}),s.jsx("option",{value:"TM",children:"Turkmenistan"}),s.jsx("option",{value:"TC",children:"Turks and Caicos Islands"}),s.jsx("option",{value:"TV",children:"Tuvalu"}),s.jsx("option",{value:"UG",children:"Uganda"}),s.jsx("option",{value:"UA",children:"Ukraine"}),s.jsx("option",{value:"AE",children:"United Arab Emirates"}),s.jsx("option",{value:"GB",children:"United Kingdom"}),s.jsx("option",{value:"US",children:"United States"}),s.jsx("option",{value:"UY",children:"Uruguay"}),s.jsx("option",{value:"UZ",children:"Uzbekistan"}),s.jsx("option",{value:"VU",children:"Vanuatu"}),s.jsx("option",{value:"VE",children:"Venezuela, Bolivarian Republic of"}),s.jsx("option",{value:"VN",children:"Viet Nam"}),s.jsx("option",{value:"VG",children:"Virgin Islands, British"}),s.jsx("option",{value:"VI",children:"Virgin Islands, U.S."}),s.jsx("option",{value:"WF",children:"Wallis and Futuna"}),s.jsx("option",{value:"EH",children:"Western Sahara"}),s.jsx("option",{value:"YE",children:"Yemen"}),s.jsx("option",{value:"ZM",children:"Zambia"}),s.jsx("option",{value:"ZW",children:"Zimbabwe"})]})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-[#637588] mb-6",children:"Channel Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"platform",children:"Primary Platform"}),s.jsxs("select",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"platform","data-testid":"affiliate-platform",value:n,onChange:c=>a(c.target.value),children:[s.jsx("option",{value:"",children:"Select Platform"}),s.jsx("option",{value:"youtube",children:"YouTube"}),s.jsx("option",{value:"tiktok",children:"TikTok"}),s.jsx("option",{value:"instagram",children:"Instagram"}),s.jsx("option",{value:"twitter",children:"Twitter/X"}),s.jsx("option",{value:"linkedin",children:"LinkedIn"}),s.jsx("option",{value:"blog",children:"Blog"}),s.jsx("option",{value:"other",children:"Other"})]})]}),n==="other"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"platform_other",children:"Specify Platform"}),s.jsx("input",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"platform_other",placeholder:"e.g. Newsletter",type:"text"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"audience",children:"Audience Size"}),s.jsxs("select",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"audience","data-testid":"affiliate-audience",children:[s.jsx("option",{value:"",children:"Select Size"}),s.jsx("option",{value:"10k",children:"10k"}),s.jsx("option",{value:"50k",children:"50k"}),s.jsx("option",{value:"100k",children:"100k"}),s.jsx("option",{value:"200k",children:"200k"}),s.jsx("option",{value:"500k+",children:"500k+"})]})]}),s.jsxs("div",{className:"md:col-span-2 space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"link",children:"Link to Channel / Portfolio"}),s.jsx("input",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"link","data-testid":"affiliate-link",placeholder:"https://youtube.com/c/yourchannel",type:"url"})]})]})]}),s.jsx("section",{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"strategy",children:"How do you plan to promote JobSpeakPro?"}),s.jsx("textarea",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"strategy","data-testid":"affiliate-strategy",placeholder:"Tell us about your content strategy...",rows:"4"})]})}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-[#637588] mb-4",children:"Payout Preference"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4",children:[s.jsxs("label",{className:`relative flex flex-col items-center gap-3 p-4 border rounded-xl cursor-pointer transition-colors ${i==="paypal"?"border-[#197fe6] bg-blue-50 dark:bg-blue-900/20":"border-[#dce0e5] dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,children:[s.jsx("input",{className:"absolute top-3 right-3 text-[#197fe6] focus:ring-[#197fe6] h-4 w-4",name:"payout",type:"radio",value:"paypal","data-testid":"payout-paypal",onChange:c=>o(c.target.value)}),s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] text-3xl",children:"account_balance_wallet"}),s.jsx("span",{className:"text-sm font-bold",children:"PayPal"})]}),s.jsxs("label",{className:`relative flex flex-col items-center gap-3 p-4 border rounded-xl cursor-pointer transition-colors ${i==="stripe"?"border-[#197fe6] bg-blue-50 dark:bg-blue-900/20":"border-[#dce0e5] dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,children:[s.jsx("input",{className:"absolute top-3 right-3 text-[#197fe6] focus:ring-[#197fe6] h-4 w-4",name:"payout",type:"radio",value:"stripe",onChange:c=>o(c.target.value)}),s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] text-3xl",children:"credit_card"}),s.jsx("span",{className:"text-sm font-bold",children:"Stripe"})]}),s.jsxs("label",{className:`relative flex flex-col items-center gap-3 p-4 border rounded-xl cursor-pointer transition-colors ${i==="crypto"?"border-[#197fe6] bg-blue-50 dark:bg-blue-900/20":"border-[#dce0e5] dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,children:[s.jsx("input",{className:"absolute top-3 right-3 text-[#197fe6] focus:ring-[#197fe6] h-4 w-4",name:"payout",type:"radio",value:"crypto",onChange:c=>o(c.target.value)}),s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] text-3xl",children:"currency_bitcoin"}),s.jsx("span",{className:"text-sm font-bold",children:"Crypto (USDT)"})]})]}),i==="paypal"&&s.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"paypal_email",children:"PayPal Email Address"}),s.jsx("input",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"paypal_email","data-testid":"affiliate-paypal-email",type:"email",placeholder:"paypal@example.com"})]}),i==="stripe"&&s.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-top-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"stripe_email",children:"Stripe Email Address"}),s.jsx("input",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"stripe_email",type:"email",placeholder:"stripe@example.com"})]}),i==="crypto"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"crypto_wallet",children:"USDT Wallet Address"}),s.jsx("input",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"crypto_wallet",type:"text",placeholder:"0x..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold",htmlFor:"crypto_network",children:"Network"}),s.jsxs("select",{required:!0,className:"w-full px-4 py-2.5 rounded-lg border border-[#dce0e5] dark:border-gray-700 dark:bg-gray-800 text-sm focus:ring-[#197fe6] focus:border-[#197fe6]",id:"crypto_network",children:[s.jsx("option",{value:"",children:"Select Network"}),s.jsx("option",{value:"ERC20",children:"Ethereum (ERC20)"}),s.jsx("option",{value:"TRC20",children:"Tron (TRC20)"}),s.jsx("option",{value:"BSC",children:"Binance Smart Chain (BEP20)"})]})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-[#f0f2f4] dark:border-gray-800 space-y-6",children:[s.jsx("button",{className:"w-full bg-[#197fe6] text-white font-bold py-4 rounded-xl hover:bg-[#197fe6]/90 shadow-lg shadow-[#197fe6]/20 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",type:"submit","data-testid":"affiliate-submit",disabled:t,children:t?"Submitting...":"Submit Application"}),s.jsxs("div",{className:"flex items-start gap-3 bg-blue-50/50 dark:bg-[#197fe6]/5 p-4 rounded-xl",children:[s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] text-xl",children:"info"}),s.jsx("p",{className:"text-xs text-[#637588] dark:text-gray-400 leading-relaxed",children:"We review every application to ensure a high-quality partnership. Our team will contact you after review."})]})]})]})]})})]})}function H4(){return p.useEffect(()=>{document.title="Application Received | JobSpeakPro"},[]),s.jsxs("div",{className:"bg-white dark:bg-[#0d1117] min-h-screen flex flex-col font-display transition-colors duration-300",children:[s.jsx(Ue,{}),s.jsx("main",{className:"flex-grow flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-[640px] w-full bg-white dark:bg-zinc-900 rounded-xl shadow-sm border border-[#dbe6df] dark:border-white/10 p-8 md:p-12",children:[s.jsx("div",{className:"flex justify-center pb-6",children:s.jsx("div",{className:"bg-[#197fe6]/10 p-4 rounded-full",children:s.jsx("span",{className:"material-symbols-outlined text-[#197fe6] text-6xl",children:"check_circle"})})}),s.jsx("h1",{className:"text-[#111813] dark:text-white tracking-tight text-3xl md:text-[32px] font-bold leading-tight text-center pb-3",children:"Application Received"}),s.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 text-base font-normal leading-relaxed pb-8 text-center max-w-[500px] mx-auto",children:"Thanks for applying to the JobSpeakPro Founding Affiliate program. Our team manually reviews every application to maintain the highest quality standards."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pb-8",children:[s.jsxs("div",{className:"flex flex-1 flex-col gap-1 rounded-xl p-5 border border-[#dbe6df] dark:border-white/10 bg-[#f6f8f6]/50 dark:bg-white/5",children:[s.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm font-medium",children:"Status"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400"}),s.jsx("p",{className:"text-[#111813] dark:text-white text-xl font-bold",children:"Under Review"})]})]}),s.jsxs("div",{className:"flex flex-1 flex-col gap-1 rounded-xl p-5 border border-[#dbe6df] dark:border-white/10 bg-[#f6f8f6]/50 dark:bg-white/5",children:[s.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm font-medium",children:"Response Estimate"}),s.jsx("p",{className:"text-[#111813] dark:text-white text-xl font-bold",children:"48 hours"})]})]}),s.jsxs("div",{className:"border-t border-[#dbe6df] dark:border-white/10 pt-6",children:[s.jsx("h3",{className:"text-[#111813] dark:text-white text-lg font-bold leading-tight tracking-tight pb-4",children:"Next Steps"}),s.jsxs("div",{className:"space-y-4 pb-10",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex items-center justify-center size-6 rounded-full bg-[#197fe6]/20 text-[#197fe6] shrink-0 mt-1",children:s.jsx("span",{className:"text-xs font-bold",children:"1"})}),s.jsx("p",{className:"text-zinc-700 dark:text-zinc-300 text-sm leading-normal",children:"We received your application. Our team will review it and contact you."})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex items-center justify-center size-6 rounded-full bg-[#197fe6]/20 text-[#197fe6] shrink-0 mt-1",children:s.jsx("span",{className:"text-xs font-bold",children:"2"})}),s.jsx("p",{className:"text-zinc-700 dark:text-zinc-300 text-sm leading-normal",children:"Once approved, you'll receive your unique affiliate link and access to the partner dashboard."})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:s.jsx(ve,{to:"/",className:"flex-1 cursor-pointer items-center justify-center rounded-xl h-12 px-6 bg-[#197fe6] text-white text-sm font-bold leading-normal transition-all hover:bg-[#197fe6]/90 active:scale-95 no-underline flex",children:"Return to Home"})})]})}),s.jsx("footer",{className:"py-8 text-center text-zinc-400 dark:text-zinc-600 text-xs",children:" 2024 JobSpeakPro. All rights reserved."})]})}function G4(){return p.useEffect(()=>{document.title="Program Terms | JobSpeakPro Affiliate",window.scrollTo(0,0)},[]),s.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-[#111418] dark:text-white transition-colors duration-200 min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-grow max-w-[800px] mx-auto px-6 py-12 w-full",children:[s.jsx("div",{className:"mb-8",children:s.jsxs(ve,{to:"/affiliate",className:"inline-flex items-center gap-2 text-[#197fe6] font-semibold hover:underline",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"}),"Back to Affiliate Program"]})}),s.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Affiliate Program Terms"}),s.jsx("section",{className:"mb-8 space-y-4",children:s.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20",children:[s.jsx("h3",{className:"text-lg font-bold text-[#197fe6] mb-2",children:"Program Overview"}),s.jsx("p",{className:"m-0",children:"The JobSpeakPro Affiliate Program is designed to reward partners who refer qualified customers to our platform. By participating, you agree to the terms outlined below."})]})}),s.jsxs("section",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-3",children:"1. Commission Structure"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-[#637588] dark:text-gray-300",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Rate:"})," You earn a ",s.jsx("strong",{children:"30% recurring commission"})," on all revenue generated from referred customers."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Duration:"})," Commissions are paid for the first ",s.jsx("strong",{children:"24 months"})," of the customer's active subscription. This is a 24-month window, not a lifetime revenue share."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Attribution:"})," Tracking is handled via your unique affiliate link and ID. Last-click attribution applies. Cookies are valid for 60 days."]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-3",children:"2. Payouts & Fees"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-[#637588] dark:text-gray-300",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Schedule:"})," Payouts are processed monthly, typically by the 5th of the month, for the previous month's earnings."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Methods:"})," We support PayPal, Stripe, and Crypto (USDT)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Fees:"})," The ",s.jsx("strong",{children:"affiliate is responsible for all transaction fees"})," associated with the payout (e.g., PayPal fees, Gas fees, Stripe transfer fees). We will deduct these fees from the payout amount."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Minimum:"})," There is a $50 minimum threshold for payouts."]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-3",children:"3. Ownership & Equity"}),s.jsxs("p",{className:"text-[#637588] dark:text-gray-300",children:["This agreement establishes a revenue-share partnership only. Participation in the affiliate program ",s.jsx("strong",{children:"does not grant any equity, stock options, or ownership stake"})," in JobSpeakPro Inc. You are an independent contractor, not an employee."]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-3",children:"4. Termination"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-300 mb-2",children:"We reserve the right to terminate your affiliate account at any time, with or without notice, for conduct that violates these terms, including but not limited to:"}),s.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-[#637588] dark:text-gray-300",children:[s.jsx("li",{children:"Self-referrals (buying via your own link)."}),s.jsx("li",{children:"Spamming or unsolicited marketing."}),s.jsx("li",{children:"Misrepresenting the product or brand."}),s.jsx("li",{children:"Posting links on coupon/discount sites."})]}),s.jsx("p",{className:"text-[#637588] dark:text-gray-300 mt-2",children:"In the event of termination for cause, all pending commissions will be forfeited."})]})]})]})]}),s.jsx("footer",{className:"bg-white dark:bg-[#111921] border-t border-[#dce0e5] dark:border-gray-800 py-8",children:s.jsx("div",{className:"max-w-[1200px] mx-auto px-6 text-center text-sm text-[#637588] dark:text-gray-400",children:" 2024 JobSpeakPro Inc. All rights reserved."})})]})}function tg({defaultTab:e="interview"}){const{isPro:t,refreshProStatus:r}=ps(),n=De(),a=lr(),[i,o]=p.useState(e);p.useEffect(()=>{const A=()=>{var R;const ae=((R=window.speechSynthesis)==null?void 0:R.getVoices())||[];ae.length>0&&console.log(`[TTS] Voices hydrated: ${ae.length}`)};return A(),window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=A),()=>{window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=null)}},[]);const[l,c]=p.useState(!1),d=1,[u,h]=p.useState(""),[f,m]=p.useState(null),[g,y]=p.useState(!1),[w,b]=p.useState(""),[x,v]=p.useState(0),[j,N]=p.useState(!1),[k,E]=p.useState(null),[S,L]=p.useState({used:0,limit:2,remaining:2,blocked:!1}),[C,W]=p.useState(!1),[_e,ue]=p.useState(!1),[Ee,je]=p.useState(!1),[xe,Re]=p.useState({count:0,limit:3}),[U,G]=p.useState(""),[$,O]=p.useState(null),[T,q]=p.useState(!1),[H,he]=p.useState(""),[ee,ne]=p.useState(null),Oe=p.useRef(!1);p.useEffect(()=>{try{const A=new URLSearchParams(window.location.search),ae=window.location.pathname.toLowerCase(),R=A.get("ref");R&&(console.log("[Referral] Captured code:",R),localStorage.setItem("jsp_ref_code",R));const Y=A.get("success"),me=A.get("canceled"),ye=ae.includes("/success")||ae.includes("/checkout/success"),it=ae.includes("/cancel")||ae.includes("/checkout/cancel");if(Y==="true"||ye){if(ne("success"),r(),!Oe.current)try{const Ke=localStorage.getItem("jobspeak_upgrade_period")||"unknown",re=localStorage.getItem("jobspeak_upgrade_source")||"unknown";ct("paywall_upgrade_success",{page:"practice",period:Ke,source:re}),localStorage.removeItem("jobspeak_upgrade_period"),localStorage.removeItem("jobspeak_upgrade_source"),Oe.current=!0}catch(Ke){console.error("Error tracking upgrade success:",Ke)}const Jt=window.location.pathname;window.history.replaceState({},"",Jt)}else if(me==="true"||it){if(ne("canceled"),!Oe.current)try{const Ke=localStorage.getItem("jobspeak_upgrade_period")||"unknown",re=localStorage.getItem("jobspeak_upgrade_source")||"unknown";ct("paywall_upgrade_cancel",{page:"practice",period:Ke,source:re}),localStorage.removeItem("jobspeak_upgrade_period"),localStorage.removeItem("jobspeak_upgrade_source"),Oe.current=!0}catch(Ke){console.error("Error tracking upgrade cancel:",Ke)}const Jt=window.location.pathname;window.history.replaceState({},"",Jt)}}catch(A){console.error("URL param parse error",A)}},[r]),p.useEffect(()=>{if(ee){const A=setTimeout(()=>{ne(null)},6e3);return()=>clearTimeout(A)}},[ee]),p.useEffect(()=>{const A=a.pathname;A==="/interview"?o("interview"):A==="/resume"?o("resume"):A==="/progress"?o("progress"):A==="/pricing"&&o("pricing")},[a.pathname]),p.useEffect(()=>{t&&j&&(N(!1),E(null))},[t,j]);const ge=async()=>{try{const A=await Te("/api/usage/today");A.usage?(L({used:A.usage.used||0,limit:A.usage.limit===-1?1/0:A.usage.limit||2,remaining:A.usage.remaining===-1?1/0:A.usage.remaining||0,blocked:A.usage.blocked||!1}),Re({count:A.usage.used||0,limit:A.usage.limit===-1?1/0:A.usage.limit||3})):(L({used:A.used||0,limit:A.limit===-1?1/0:A.limit||2,remaining:A.remaining===-1?1/0:A.remaining||0,blocked:A.blocked||!1}),A.freeAttempts!==void 0?Re({count:A.freeAttempts.count||0,limit:A.freeAttempts.limit||3}):A.sttAttempts!==void 0?Re({count:A.sttAttempts.count||0,limit:A.sttAttempts.limit||3}):A.freeAttemptsUsed!==void 0&&A.freeAttemptsLimit!==void 0&&Re({count:A.freeAttemptsUsed||0,limit:A.freeAttemptsLimit||3})),je(!1)}catch(A){console.error("Error fetching usage:",A),Kt(A)&&je(!0)}};p.useEffect(()=>{try{const A=[];for(let ae=0;ae<localStorage.length;ae++){const R=localStorage.key(ae);R&&(R.startsWith("jobspeak_free_improve_usage")||R.startsWith("speaking_attempts_"))&&A.push(R)}A.forEach(ae=>{localStorage.removeItem(ae),console.log("[Cleanup] Removed legacy free usage key:",ae)})}catch(A){console.error("Error cleaning up legacy keys:",A)}},[]),p.useEffect(()=>{i==="interview"&&ge()},[i]),p.useEffect(()=>{const A=ae=>{var Y;const R=(Y=ae.detail)==null?void 0:Y.tab;R&&["interview","resume","progress","pricing"].includes(R)&&(o(R),n(`/${R}`),R==="interview"&&setTimeout(()=>{const me=document.getElementById("practice-section");me&&me.scrollIntoView({behavior:"smooth",block:"start"})},100))};return window.location.hash==="#app-interview"&&(o("interview"),n("/interview"),window.location.hash="",setTimeout(()=>{const ae=document.getElementById("practice-section");ae&&ae.scrollIntoView({behavior:"smooth",block:"start"})},100)),window.addEventListener("navigateToTab",A),()=>{window.removeEventListener("navigateToTab",A)}},[]);const ie=A=>{o(A),n(`/${A}`)},bt=!t&&Sf(S),I=()=>{const A="jobspeak_free_resume_usage",ae=localStorage.getItem(A);let R=0;try{R=ae&&parseInt(ae,10)||0}catch{R=0}R+=1,localStorage.setItem(A,String(R))},D=()=>{if(t)return!0;const ae=localStorage.getItem("jobspeak_free_resume_usage");if(!ae)return!0;try{return(parseInt(ae,10)||0)<d}catch{return!0}};function Z(){return f&&f.improved||""}const z=async()=>{var A,ae;if(bt){b(""),E("fix_answer"),N(!0);return}if(b(""),m(null),y(!0),typeof u!="string"||!u.trim()){b("Type your answer to begin."),y(!1);return}try{try{const R=await Te("/ai/micro-demo",{method:"POST",body:{text:u}});m(R),ge();try{const Y=Ma(),me=JSON.stringify(R);await Te("/api/sessions",{method:"POST",body:{userKey:Y,transcript:u,aiResponse:me,score:null}}),v(ye=>ye+1),ge()}catch(Y){Y instanceof nt&&Y.status===402&&((A=Y.data)==null?void 0:A.upgrade)===!0?ge():console.error("Failed to save session:",Y)}}catch(R){if(R instanceof nt&&R.status===402&&((ae=R.data)==null?void 0:ae.upgrade)===!0){b(""),Re({count:3,limit:3}),E("fix_answer"),N(!0),ge(),y(!1);return}console.error("Micro-demo error status:",R.status||R.message),b("Something went wrong. Try again in a moment."),y(!1);return}}catch(R){console.error("Micro-demo error:",R),Kt(R)?(je(!0),b("We're temporarily unavailable. Try again in a moment.")):b("Connection issue. Check your internet and try again.")}finally{y(!1)}},X=async A=>{var ae;if(A.preventDefault(),!U.trim()){he("Paste your resume text to begin.");return}if(!D()){he("You've used your free preview. Upgrade to Pro for full access."),O(null),c(!0);return}try{q(!0),O(null),he("");const R=await Te("/resume/analyze",{method:"POST",body:{text:U}});O(R),t||I()}catch(R){if(R instanceof nt&&R.status===402&&((ae=R.data)==null?void 0:ae.upgrade)===!0){he(""),N(!0),q(!1);return}console.error("Resume doctor exception",R),Kt(R)?(je(!0),he("We're temporarily unavailable. Give us a moment and try again.")):he("Connection issue. Check your internet and try again."),O(null)}finally{q(!1)}},B=()=>{G(""),O(null),he("")},be=()=>{if(!$||$.error)return;const A=[];$.topIssues&&$.topIssues.length>0&&(A.push("Top Issues:"),$.topIssues.forEach((R,Y)=>{A.push(`${Y+1}. ${R}`)})),$.improvedSummary&&(A.push(`
Improved Summary:`),A.push($.improvedSummary)),$.roleTip&&(A.push(`
Tip:`),A.push($.roleTip));const ae=A.join(`
`);navigator.clipboard.writeText(ae).then(()=>{const R=document.getElementById("copy-suggestions-btn");if(R){const Y=R.innerHTML;R.innerHTML=`
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          Copied!
        `,R.classList.remove("bg-slate-100","hover:bg-emerald-100","hover:text-emerald-700","text-slate-700"),R.classList.add("bg-emerald-500","text-white"),setTimeout(()=>{R.innerHTML=Y,R.classList.remove("bg-emerald-500","text-white"),R.classList.add("bg-slate-100","hover:bg-emerald-100","hover:text-emerald-700","text-slate-700")},2e3)}}).catch(R=>{console.error("Failed to copy:",R)})},at=Z();return s.jsxs("div",{className:"min-h-screen bg-rose-50 text-slate-900 flex",children:[s.jsx(aT,{}),s.jsxs("aside",{className:"hidden md:flex md:flex-col w-64 bg-white border-r border-rose-100",children:[s.jsxs("div",{className:"px-6 py-5 border-b border-rose-100 flex items-center gap-3",children:[s.jsx("div",{className:"h-9 w-9 rounded-full bg-rose-500 flex items-center justify-center text-xs font-bold text-white",children:"JS"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"JobSpeak Pro"}),s.jsx("div",{className:"text-[11px] text-slate-500",children:"Practice Platform"})]})]}),s.jsx(Rx,{activeTab:i,onTabChange:ie}),s.jsx("div",{className:"px-5 pb-5",children:t?s.jsxs("div",{className:"border border-emerald-200 bg-emerald-50 rounded-xl px-3 py-2 text-[11px] text-emerald-800",children:[s.jsxs("div",{className:"font-semibold flex items-center gap-1 text-emerald-900",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Pro Plan Active"]}),s.jsx("p",{className:"mt-1",children:"You have unlimited practice sessions remaining."})]}):s.jsxs("div",{className:"border border-rose-100 bg-rose-50 rounded-xl px-3 py-2 text-[11px] text-slate-700",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Free preview"}),s.jsx("p",{className:"mb-2",children:"Upgrade to unlock unlimited AI speaking practice and resume coaching."}),s.jsx(Vl,{})]})})]}),s.jsxs("div",{className:"flex-1 bg-rose-50",children:[s.jsx(Rx,{activeTab:i,onTabChange:ie,variant:"mobile"}),s.jsx("header",{className:"border-b border-rose-100 bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px] uppercase tracking-[0.15em] text-rose-500 font-semibold",children:i==="interview"?"Speaking Practice":i==="resume"?"Resume Doctor":i==="progress"?"Progress":"Pricing"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-sm md:text-base font-semibold text-slate-900",children:"JobSpeak Pro"}),t?s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-300 text-[10px] font-bold uppercase tracking-wide",children:"PRO"}):s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-slate-100 text-slate-700 border border-slate-300 text-[10px] font-bold uppercase tracking-wide",children:"FREE"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[ee==="success"&&s.jsx("span",{className:"text-[11px] px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200",children:" Pro active"}),s.jsx("span",{className:"hidden sm:inline text-[11px] text-slate-500",children:"Secure checkout with Stripe"})]})]})}),ee==="success"&&s.jsx("div",{className:"bg-emerald-50 border-b border-emerald-200",children:s.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-2 text-xs text-emerald-800",children:"Payment successful  Pro unlocked"})}),ee==="canceled"&&s.jsx("div",{className:"bg-amber-50 border-b border-amber-200",children:s.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-2 text-xs text-amber-800",children:"Checkout canceled"})}),Ee&&s.jsx("div",{className:"bg-red-50 border-b border-red-200",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-2 flex items-center justify-between gap-3",children:[s.jsx("p",{className:"text-xs text-red-800",children:"We're temporarily unavailable. Give us a moment and try again."}),s.jsx("button",{type:"button",onClick:()=>{je(!1),i==="interview"&&ge()},className:"text-xs px-3 py-1 rounded-md bg-red-100 hover:bg-red-200 text-red-800 font-semibold transition",children:"Retry"})]})}),s.jsxs("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-5",children:[l&&s.jsxs("div",{className:"mb-4 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-900",children:[s.jsx("div",{className:"font-semibold mb-1",children:"You've reached the free limit."}),s.jsx("p",{className:"mb-2",children:"Upgrade to Pro for unlimited practice and full resume support."}),s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsx(Vl,{}),s.jsx("button",{type:"button",className:"text-[11px] underline text-slate-600",onClick:()=>c(!1),children:"Not now"})]})]}),i==="interview"&&s.jsxs("section",{id:"practice-section",className:"space-y-4",children:[!t&&s.jsx("div",{className:"bg-white border border-rose-100 rounded-xl px-4 py-2 text-xs",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Today's interviews:"}),s.jsxs("span",{className:"font-semibold text-slate-900",children:[S.used," / ",S.limit===1/0?"":S.limit,S.remaining!==1/0&&s.jsxs("span",{className:"text-slate-500 font-normal ml-1",children:["(",S.remaining," remaining)"]})]})]})}),!t&&s.jsxs("div",{className:"bg-rose-50 border border-rose-100 rounded-xl px-4 py-2 text-xs",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Free attempts today:"}),s.jsxs("span",{className:"font-semibold text-slate-900",children:[xe.count," / ",xe.limit]})]}),bt&&s.jsx("div",{className:"mt-2 text-[11px] text-amber-700",children:"Free limit reached  upgrade to continue practicing."})]}),s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-1",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base md:text-lg font-semibold text-slate-900 mb-1",children:"Tell me about a time you faced a challenge at work."}),s.jsx("p",{className:"text-xs text-slate-600",children:"Focus on the STAR method: Situation, Task, Action, Result."})]}),s.jsxs("div",{className:"text-[11px] text-slate-500",children:[s.jsx("span",{className:"font-semibold text-slate-800",children:"Question 1"})," ",s.jsx("span",{className:"text-slate-400",children:"of 5"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mt-2",children:[s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-4 shadow-sm flex flex-col h-full",children:[s.jsx("p",{className:"text-[11px] font-semibold text-rose-500 mb-1",children:"Your Answer"}),s.jsx("p",{className:"text-[11px] text-slate-500 mb-3",children:"Type or speak your answer. Aim for 4590 seconds when spoken."}),s.jsxs("form",{onSubmit:A=>{A.preventDefault(),z()},className:"flex flex-col gap-3 flex-1",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(fo,{onTranscript:A=>{h(A),b("")},onStateChange:({recording:A,transcribing:ae})=>{ue(A),W(ae),ae&&b("")},onUpgradeNeeded:A=>{E(A||"mic"),N(!0)},onAttemptsRefresh:()=>ge()}),s.jsxs("div",{className:"flex-1 text-[11px] text-slate-600",children:[s.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:_e?"Recording...":C?"Transcribing...":"Speak your answer"}),s.jsx("div",{children:_e?"Click stop when finished":C?"Processing your audio...":"Click the mic to speak or type below."})]})]}),u&&s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-xs text-slate-700",children:[s.jsx("div",{className:"font-semibold mb-1",children:C?"Transcribing...":"Preview:"}),s.jsx("div",{className:C?"opacity-60":"",children:C?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"h-3 w-3 animate-spin rounded-full border-2 border-slate-400 border-t-transparent"}),s.jsx("span",{children:"Processing audio..."})]}):s.jsx("div",{className:"line-clamp-2",children:u})})]}),s.jsx("textarea",{value:u,onChange:A=>{h(A.target.value),w&&b("")},placeholder:"Type your interview answer here...",disabled:C,className:"w-full flex-1 min-h-[140px] border border-rose-100 bg-rose-50 rounded-lg px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-rose-400 focus:border-rose-400 disabled:opacity-60 disabled:cursor-not-allowed"}),s.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:s.jsx("button",{type:"submit",disabled:g||C||typeof u!="string"||!u.trim(),className:"inline-flex items-center px-4 py-2 rounded-full bg-rose-500 hover:bg-rose-600 text-white text-sm font-semibold shadow-sm disabled:opacity-60 disabled:cursor-not-allowed transition",children:C?"Transcribing...":g?"Improving...":" Improve my answer"})}),w&&s.jsx(fn,{message:w,onRetry:w.includes("temporarily unavailable")?()=>{b(""),je(!1),z()}:void 0})]})]}),s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-4 shadow-sm flex flex-col h-full",children:[s.jsx("p",{className:"text-[11px] font-semibold text-emerald-600 mb-1",children:"Better way to say it"}),s.jsx("p",{className:"text-[11px] text-slate-500 mb-3",children:"Optimized for speaking naturally. Use it as a guide and adapt it to your story."}),g?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500"}),s.jsx("p",{className:"text-xs text-slate-600",children:"Improving your answer..."})]}):f?f.error?s.jsx(fn,{title:"Something went wrong",message:f.error}):s.jsxs("div",{className:"flex flex-col gap-3 flex-1",children:[s.jsx("div",{className:"bg-rose-50 border border-rose-100 rounded-lg px-3 py-2 text-sm text-slate-900 whitespace-pre-wrap break-words",children:at||s.jsx("span",{className:"text-slate-400",children:'Your improved answer will appear here after you click "Improve my answer".'})}),at&&s.jsx(rv,{improvedText:at,onUpgradeNeeded:A=>{E(A||"listen"),N(!0)}}),f.message&&s.jsx("div",{className:"text-[11px] text-slate-500",children:f.message}),s.jsx("div",{className:"text-[11px] text-emerald-700",children:" Practice tip: Read this answer out loud 23 times, then listen and repeat with the audio to build muscle memory."})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("p",{className:"text-xs text-slate-400 text-center max-w-xs",children:`After you click "Improve my answer", you'll see a more confident version of your answer here with audio playback.`})})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(eT,{refreshTrigger:x})})]}),i==="resume"&&s.jsxs("section",{id:"resume-section",className:"mt-2 space-y-6",children:[s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-6 shadow-sm",children:[s.jsx("h2",{className:"text-base font-semibold text-slate-900 mb-2",children:"Resume Doctor"}),s.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:"Paste your resume. Get instant feedback on weak areas and improvements to describe your experience clearly."})]}),s.jsx("div",{className:"bg-white border border-rose-100 rounded-2xl p-6 shadow-sm",children:s.jsxs("form",{onSubmit:X,className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:U,onChange:A=>{G(A.target.value),he("")},placeholder:"Paste your resume text here...",disabled:T,className:"w-full min-h-[200px] border border-rose-100 bg-rose-50 rounded-lg px-4 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-rose-400 focus:border-rose-400 disabled:opacity-60 disabled:cursor-not-allowed resize-y"}),U&&!T&&s.jsx("button",{type:"button",onClick:B,className:"absolute top-3 right-3 px-2.5 py-1.5 text-xs text-slate-500 hover:text-slate-700 bg-white/90 hover:bg-white border border-rose-100 rounded-md transition shadow-sm",title:"Clear",children:" Clear"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{type:"submit",disabled:T||!U.trim(),className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-rose-500 hover:bg-rose-600 text-white text-sm font-semibold shadow-sm disabled:opacity-60 disabled:cursor-not-allowed transition",children:T?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),"Analyze my resume"]})})})]})}),H&&s.jsx(fn,{title:"Oops",message:H,variant:"expanded",onRetry:H.includes("temporarily unavailable")?()=>{he(""),je(!1),X(new Event("submit"))}:void 0}),T&&!$&&s.jsx("div",{className:"bg-white border border-rose-100 rounded-2xl p-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 text-center",children:[s.jsxs("svg",{className:"animate-spin h-8 w-8 text-rose-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Analyzing your resume..."}),s.jsx("p",{className:"text-xs text-slate-500",children:"This may take a few seconds"})]})]})}),$&&!$.error&&s.jsxs("div",{className:"bg-white border border-rose-100 rounded-2xl p-6 shadow-sm space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-rose-100 pb-4",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Analysis Results"}),s.jsxs("button",{id:"copy-suggestions-btn",type:"button",onClick:be,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-slate-100 hover:bg-emerald-100 hover:text-emerald-700 text-slate-700 text-xs font-medium transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy Suggestions"]})]}),s.jsxs("div",{className:"space-y-5",children:[$.topIssues&&$.topIssues.length>0&&s.jsxs("div",{className:"bg-rose-50 border border-rose-100 rounded-lg p-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-rose-900 mb-3 flex items-center gap-2",children:[s.jsx("span",{children:""}),"Top Issues Found"]}),s.jsx("ul",{className:"space-y-2 ml-6",children:$.topIssues.map((A,ae)=>s.jsx("li",{className:"text-sm text-slate-700 list-disc leading-relaxed",children:A},ae))})]}),$.improvedSummary&&s.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-lg p-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-emerald-900 mb-3 flex items-center gap-2",children:[s.jsx("span",{children:""}),"Improved Summary"]}),s.jsx("p",{className:"text-sm text-slate-700 leading-relaxed bg-white/60 rounded-md p-3 border border-emerald-200",children:$.improvedSummary})]}),$.roleTip&&s.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:[s.jsxs("h4",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx("span",{children:""}),"Pro Tip"]}),s.jsx("p",{className:"text-sm text-slate-700 leading-relaxed bg-white/60 rounded-md p-3 border border-blue-200",children:$.roleTip})]}),!$.topIssues&&!$.improvedSummary&&!$.roleTip&&s.jsx("div",{className:"text-xs text-slate-500 bg-slate-50 rounded-lg p-4 border border-slate-200",children:s.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify($,null,2)})})]}),s.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-xs text-slate-600 leading-relaxed",children:[s.jsx("span",{className:"font-semibold text-slate-900",children:" Next steps:"})," Use these suggestions to improve your resume. Practice explaining these points in English for your interviews."]})})]})]}),i==="progress"&&s.jsx(sT,{message:"Track your progress over time with JobSpeak Pro. Upgrade to see detailed analytics and improvement trends.",children:s.jsx(tT,{onNavigateToInterview:()=>{o("interview"),n("/interview")}})}),i==="pricing"&&s.jsx("section",{id:"pricing-section",children:s.jsx(rT,{})})]})]}),j&&s.jsx(ev,{onClose:()=>{N(!1),E(null)},source:k}),s.jsx(nT,{})]})}function V4(){De();const e=lr(),{refreshProStatus:t}=ps(),[r,n]=p.useState(null),a=p.useRef(!1);return p.useEffect(()=>{e.hash==="#pricing"&&setTimeout(()=>{const i=document.getElementById("pricing");i&&i.scrollIntoView({behavior:"smooth",block:"start"})},100)},[e.hash]),p.useEffect(()=>{try{const i=new URLSearchParams(window.location.search),o=i.get("success"),l=i.get("canceled");if(o==="true"){if(n("success"),t&&t(),!a.current)try{const d=localStorage.getItem("jobspeak_upgrade_period")||"unknown",u=localStorage.getItem("jobspeak_upgrade_source")||"unknown";ct("paywall_upgrade_success",{page:"landing",period:d,source:u}),localStorage.removeItem("jobspeak_upgrade_period"),localStorage.removeItem("jobspeak_upgrade_source"),a.current=!0}catch(d){console.error("Error tracking upgrade success:",d)}const c=window.location.pathname;window.history.replaceState({},"",c)}else if(l==="true"){if(n("canceled"),!a.current)try{const d=localStorage.getItem("jobspeak_upgrade_period")||"unknown",u=localStorage.getItem("jobspeak_upgrade_source")||"unknown";ct("paywall_upgrade_cancel",{page:"landing",period:d,source:u}),localStorage.removeItem("jobspeak_upgrade_period"),localStorage.removeItem("jobspeak_upgrade_source"),a.current=!0}catch(d){console.error("Error tracking upgrade cancel:",d)}const c=window.location.pathname;window.history.replaceState({},"",c)}}catch(i){console.error("URL param parse error",i)}},[t]),p.useEffect(()=>{if(r){const i=setTimeout(()=>{n(null)},6e3);return()=>clearTimeout(i)}},[r]),s.jsxs("div",{className:"bg-background-light text-[#0d131b]",children:[r==="success"&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-emerald-50 border border-emerald-200 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-emerald-600",children:"check_circle"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-emerald-900",children:"Payment successful!"}),s.jsx("p",{className:"text-xs text-emerald-700",children:"Your Pro subscription is now active."})]}),s.jsx("button",{onClick:()=>n(null),className:"ml-auto text-emerald-600 hover:text-emerald-800",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}),r==="canceled"&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-amber-50 border border-amber-200 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-amber-600",children:"info"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-amber-900",children:"Checkout canceled"}),s.jsx("p",{className:"text-xs text-amber-700",children:"You can upgrade anytime from the pricing page."})]}),s.jsx("button",{onClick:()=>n(null),className:"ml-auto text-amber-600 hover:text-amber-800",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}),s.jsx(Ue,{}),s.jsxs("main",{className:"flex flex-col",children:[s.jsx("section",{className:"relative overflow-hidden bg-white py-16 lg:py-24",children:s.jsx("div",{className:"mx-auto max-w-[1200px] px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid gap-12 lg:grid-cols-2 lg:items-center",children:[s.jsxs("div",{className:"flex flex-col gap-6 max-w-2xl",children:[s.jsx("h1",{className:"font-display text-4xl font-black leading-[1.15] tracking-tight text-[#0d131b] sm:text-5xl lg:text-6xl",children:"Practice speaking confidently for job interviews."}),s.jsx("p",{className:"text-lg text-slate-600 leading-relaxed max-w-xl",children:"JobSpeak Pro helps you practice real interview answers, hear how you sound, and improve calmly without pressure or judgment."}),s.jsxs("div",{className:"flex flex-wrap gap-4 pt-2",children:[s.jsx(ve,{to:"/interview",className:"inline-flex h-12 min-w-[160px] items-center justify-center rounded-lg bg-primary px-6 text-base font-bold text-white transition-colors hover:bg-blue-600 shadow-sm shadow-blue-200",children:"Start Practicing"}),s.jsx(ve,{to:"/pricing",className:"inline-flex h-12 min-w-[140px] items-center justify-center rounded-lg border border-slate-200 bg-white px-6 text-base font-bold text-slate-700 transition-colors hover:bg-slate-50 hover:text-primary",children:"View Pricing"})]})]}),s.jsx("div",{className:"relative w-full aspect-[4/3] rounded-2xl overflow-hidden shadow-xl lg:order-last",children:s.jsx("img",{alt:"Asian woman smiling confidently while sitting at her computer, preparing for an interview",className:"absolute inset-0 h-full w-full object-cover scale-x-[-1]",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuA2nLAJG3nrf2bhFJ0cJzDGKdsp5QK-yRxIzr8B7ZxPKMgQn1cnHWiwjAH876U6ZCV0Z5RRo6zikdaLddj6o2pts1Spjgialn2-BppUf92k0I6pnP3OLEtr63uuNic39HXq5DG4ySe5OYmP18-eV70fttIgGQJN0ot2y3HKHqj7_nvj1iYTaASMY6RIln9lbG8qDqK0UWb2gkeSN9O7RiDwT5Pj-TVbU-P8YUeo5hOsLqyhMSJ78HtpBf4iJpTCL5vVk8B_xnOt6v7Y"})})]})})}),s.jsx("section",{className:"bg-[#f0f4f8] py-12 border-y border-[#e7ecf3]",children:s.jsx("div",{className:"mx-auto max-w-[800px] px-4 text-center",children:s.jsx("p",{className:"text-lg md:text-xl font-medium text-slate-700 leading-relaxed",children:'"Interviews are stressful, even for qualified professionals. JobSpeak Pro gives you a private space to practice speaking out loud and feel more comfortable expressing yourself."'})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"mx-auto max-w-[1200px] px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-12 flex flex-col items-center text-center",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight text-[#0d131b] sm:text-4xl",children:"How It Works"}),s.jsx("div",{className:"mt-6",children:s.jsxs(ve,{to:"/how-it-works",className:"text-primary font-bold hover:underline inline-flex items-center gap-1",children:["Learn how it works ",s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})})]}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-3",children:[s.jsxs("div",{className:"flex flex-col gap-4 rounded-xl border border-slate-100 bg-slate-50 p-6 transition-shadow hover:shadow-md",children:[s.jsx("div",{className:"flex size-12 items-center justify-center rounded-lg bg-white text-primary shadow-sm border border-slate-100",children:s.jsx("span",{className:"material-symbols-outlined",children:"quiz"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-[#0d131b]",children:"Choose a question"}),s.jsx("p",{className:"mt-2 text-slate-600",children:"Practice with real interview-style questions designed for various roles."})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 rounded-xl border border-slate-100 bg-slate-50 p-6 transition-shadow hover:shadow-md",children:[s.jsx("div",{className:"flex size-12 items-center justify-center rounded-lg bg-white text-primary shadow-sm border border-slate-100",children:s.jsx("span",{className:"material-symbols-outlined",children:"mic"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-[#0d131b]",children:"Speak your answer"}),s.jsx("p",{className:"mt-2 text-slate-600",children:"Record yourself or type your response. Go at your own pace."})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 rounded-xl border border-slate-100 bg-slate-50 p-6 transition-shadow hover:shadow-md",children:[s.jsx("div",{className:"flex size-12 items-center justify-center rounded-lg bg-white text-primary shadow-sm border border-slate-100",children:s.jsx("span",{className:"material-symbols-outlined",children:"refresh"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-[#0d131b]",children:"Improve and practice again"}),s.jsx("p",{className:"mt-2 text-slate-600",children:"Get clear feedback and practice as many times as you like."})]})]})]})]})}),s.jsx("section",{className:"py-20 bg-background-light",children:s.jsx("div",{className:"mx-auto max-w-[1000px] px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"rounded-2xl bg-white p-8 md:p-12 shadow-sm border border-slate-200",children:[s.jsx("h2",{className:"mb-8 text-2xl font-bold text-[#0d131b] sm:text-3xl text-center",children:"What Makes JobSpeak Different"}),s.jsxs("div",{className:"grid gap-x-12 gap-y-6 sm:grid-cols-2 max-w-3xl mx-auto",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 mt-0.5",children:"check_circle"}),s.jsx("span",{className:"text-slate-700 font-medium",children:"Focused on speaking, not just writing"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 mt-0.5",children:"check_circle"}),s.jsx("span",{className:"text-slate-700 font-medium",children:"Designed for non-native English speakers"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 mt-0.5",children:"check_circle"}),s.jsx("span",{className:"text-slate-700 font-medium",children:"Private and judgment-free"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 mt-0.5",children:"check_circle"}),s.jsx("span",{className:"text-slate-700 font-medium",children:"Practice at your own pace"})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 mt-0.5",children:"check_circle"}),s.jsx("span",{className:"text-slate-700 font-medium",children:"Built for interviews, not general language study"})]})]})]})})}),s.jsx("section",{className:"pt-16 pb-8 bg-white",children:s.jsxs("div",{className:"mx-auto max-w-[1000px] px-4 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-[#0d131b] mb-4",children:"Trusted by over 10,000 users"}),s.jsx("p",{className:"text-slate-600 mb-10 max-w-2xl mx-auto text-lg",children:"Join a supportive community of non-native speakers practicing for their interviews without the pressure."}),s.jsxs("div",{className:"inline-flex flex-wrap justify-center gap-10 md:gap-20",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-blue-50 text-primary",children:s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"group"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-5xl font-black text-[#0d131b] leading-none",children:"10,000+"}),s.jsx("div",{className:"text-sm text-slate-500 font-medium mt-1",children:"Active Users"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-green-50 text-green-600",children:s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"thumb_up"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-4xl font-black text-[#0d131b] leading-none",children:"Positive"}),s.jsx("div",{className:"text-sm text-slate-500 font-medium mt-1",children:"Community Feedback"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-purple-50 text-purple-600",children:s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"public"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-5xl font-black text-[#0d131b] leading-none",children:"50+"}),s.jsx("div",{className:"text-sm text-slate-500 font-medium mt-1",children:"Countries"})]})]})]})]})}),s.jsx("section",{className:"pt-4 pb-16 bg-white border-b border-slate-100",children:s.jsxs("div",{className:"mx-auto max-w-[1000px] px-4 text-center",children:[s.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-400 mb-8",children:"Trusted by employees from leading companies"}),s.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-12 md:gap-16 opacity-70 grayscale hover:grayscale-0 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-center gap-2 group cursor-default",children:[s.jsx("div",{className:"size-8 rounded bg-blue-100 text-blue-600 flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"apartment"})}),s.jsx("span",{className:"text-xl font-bold text-slate-700 group-hover:text-blue-600 transition-colors",children:"TechCorp"})]}),s.jsxs("div",{className:"flex items-center gap-2 group cursor-default",children:[s.jsx("div",{className:"size-8 rounded bg-green-100 text-green-600 flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"finance_chip"})}),s.jsx("span",{className:"text-xl font-bold text-slate-700 group-hover:text-green-600 transition-colors",children:"FinGroup"})]}),s.jsxs("div",{className:"flex items-center gap-2 group cursor-default",children:[s.jsx("div",{className:"size-8 rounded bg-purple-100 text-purple-600 flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"rocket_launch"})}),s.jsx("span",{className:"text-xl font-bold text-slate-700 group-hover:text-purple-600 transition-colors",children:"StartUp Inc"})]}),s.jsxs("div",{className:"flex items-center gap-2 group cursor-default",children:[s.jsx("div",{className:"size-8 rounded bg-indigo-100 text-indigo-600 flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"cloud"})}),s.jsx("span",{className:"text-xl font-bold text-slate-700 group-hover:text-indigo-600 transition-colors",children:"CloudSys"})]}),s.jsxs("div",{className:"flex items-center gap-2 group cursor-default",children:[s.jsx("div",{className:"size-8 rounded bg-teal-100 text-teal-600 flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined",children:"public"})}),s.jsx("span",{className:"text-xl font-bold text-slate-700 group-hover:text-teal-600 transition-colors",children:"GlobalNet"})]})]})]})}),s.jsx("section",{className:"bg-background-light py-20",children:s.jsxs("div",{className:"mx-auto max-w-[1200px] px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16 max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight text-[#0d131b] sm:text-4xl",children:"Find your comfort zone"}),s.jsx("p",{className:"mt-4 text-lg text-slate-600",children:"See how professionals are finding their voice in a safe, judgment-free environment."})]}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-3",children:[s.jsxs("div",{className:"group flex flex-col overflow-hidden rounded-2xl bg-white shadow-sm ring-1 ring-slate-100 transition-all hover:shadow-md hover:ring-blue-100",children:[s.jsx("div",{className:"h-64 w-full overflow-hidden relative",children:s.jsx("img",{alt:"Elena, a European woman, looking directly into the camera and smiling, ultra-realistic, wearing a beige blazer, distinct modern office background with city view, cropped to show full head with 5 inches of headroom down to chest",className:"h-full w-full object-cover object-top transition-transform duration-700 group-hover:scale-105",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuA7lskewm6NbOjOxmknsbaXgpI58sXhG_Sf7NU5jsuxdUg1jPIO63QRRCZNvBS2T3lJeRMH8svW5A_0rnzMdt4YqnGONeXBFtD7j2mex2Zc1f3P7Hzi8sa8SwMVDSOplWVzYuR4BwyyRH9jY2R1stxy6IyCeXGqafbcvsNsGKBZ2tufeDVc9c4PxWxXCN4MCTJgTRT7Se6XD-h58tUy_trWW_0cfxWneV2qb0EMGfdIKa71cfxBb4yZHi1kiAKpb2tJ-voisLUAvoJc"})}),s.jsxs("div",{className:"flex flex-1 flex-col p-8",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"flex size-8 items-center justify-center rounded-full bg-blue-50 text-primary",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"psychology"})}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Calmness"})]}),s.jsx("blockquote",{className:"flex-1 text-lg font-medium text-[#0d131b] leading-relaxed",children:'"Practicing out loud helped me feel more comfortable answering questions. I could stumble and try again without anyone watching."'}),s.jsx("div",{className:"mt-8 flex items-center gap-3 border-t border-slate-50 pt-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-[#0d131b]",children:"Elena"}),s.jsx("div",{className:"text-sm text-slate-500",children:"Software Engineer"})]})})]})]}),s.jsxs("div",{className:"group flex flex-col overflow-hidden rounded-2xl bg-white shadow-sm ring-1 ring-slate-100 transition-all hover:shadow-md hover:ring-green-100",children:[s.jsx("div",{className:"h-64 w-full overflow-hidden relative",children:s.jsx("img",{alt:"Marco, an Indian man, looking directly into the camera and smiling, ultra-realistic, wearing a navy blue button-down shirt, distinct professional office background with bookshelves and more distinct and visible, yet still subtly blurred, figures of people working in the background to create a more dynamic and realistic office environment, cropped to show full head with 5 inches of headroom down to chest",className:"h-full w-full object-cover object-top transition-transform duration-700 group-hover:scale-105",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuBwPBUoByYVx9j4pAU_q_SxWhsXtcHxAjOFUo5W36awl4zQOjqkAbe7M_qY_-yyn0PvX4zPwGMdn0NHKoAfnl4Qp60Hmg2TJNXFCdXmuAhlJrL8FhfLWD-rkhr50XyFwj8BUkN47691X3h_MC0B97E4gvsbC2l3O3C1D2zcnuc1DjR9vDHgVY-S9OU5A0pE31rldcng0_0dgoCIjSaK5dON36Hl2oM9TZbl7eHjNYP0Iqt7HKHVLvvqwi2tzmQA1JgmNi1IhmJOmxxp"})}),s.jsxs("div",{className:"flex flex-1 flex-col p-8",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"flex size-8 items-center justify-center rounded-full bg-green-50 text-green-600",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"lock"})}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Privacy"})]}),s.jsx("blockquote",{className:"flex-1 text-lg font-medium text-[#0d131b] leading-relaxed",children:'"I liked having a quiet space to practice without feeling judged. It felt safe to make mistakes and learn from them."'}),s.jsx("div",{className:"mt-8 flex items-center gap-3 border-t border-slate-50 pt-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-[#0d131b]",children:"Marco"}),s.jsx("div",{className:"text-sm text-slate-500",children:"Product Manager"})]})})]})]}),s.jsxs("div",{className:"group flex flex-col overflow-hidden rounded-2xl bg-white shadow-sm ring-1 ring-slate-100 transition-all hover:shadow-md hover:ring-blue-100",children:[s.jsx("div",{className:"h-64 w-full overflow-hidden relative",children:s.jsx("img",{alt:"Sarah, an Asian woman, looking directly into the camera and smiling, ultra-realistic, wearing a green blouse, distinct creative office background with soft lighting, cropped to show full head with 5 inches of headroom down to chest",className:"h-full w-full object-cover object-top transition-transform duration-700 group-hover:scale-105",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuCs2Owiuo42LvfNUG3jBUt6OmRTZD2gXkDySawLFf9M_-hWgPjWay1DNUkkhuyZbwngMhY1rGKmwR7CbWlMD5B1cLQqkn_sCGqt7mMnj3Vnk84lFx3qgCOraxeWRFPhpD3UjB8AooqaQEvFPFPfCOInoyA2iF6nc0bQussmpJgGfX8vcGJUuG_EcifAz5SLsCeyafHDcx-ll8RqKIvsdS28KMHq9qexlxBtW-hTreIqnAF--F9jmjYl9GIGmKADQ_6mQ7_q93WqbPKs"})}),s.jsxs("div",{className:"flex flex-1 flex-col p-8",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"flex size-8 items-center justify-center rounded-full bg-blue-50 text-primary",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"headphones"})}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Comfort"})]}),s.jsx("blockquote",{className:"flex-1 text-lg font-medium text-[#0d131b] leading-relaxed",children:'"This made it easier to hear how I sound when I speak. Being able to listen back gave me so much clarity."'}),s.jsx("div",{className:"mt-8 flex items-center gap-3 border-t border-slate-50 pt-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-[#0d131b]",children:"Sarah"}),s.jsx("div",{className:"text-sm text-slate-500",children:"Marketing Specialist"})]})})]})]})]})]})}),s.jsx("section",{className:"py-16 bg-white",id:"pricing",children:s.jsx("div",{className:"mx-auto max-w-[800px] px-4 sm:px-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 text-center",children:[s.jsx("div",{className:"rounded-full bg-blue-50 px-4 py-1.5 text-sm font-semibold text-primary",children:"Simple Options"}),s.jsx("h2",{className:"text-3xl font-bold text-[#0d131b]",children:"Start for free. Upgrade anytime."}),s.jsx("p",{className:"max-w-xl text-slate-600 text-lg",children:"You can start practicing for free to see if it's right for you. Upgrade anytime for unlimited practice sessions and advanced feedback."}),s.jsx(ve,{to:"/pricing",className:"mt-2 inline-flex h-12 items-center justify-center rounded-lg border border-slate-200 bg-white px-8 text-base font-bold text-[#0d131b] shadow-sm transition-colors hover:bg-slate-50 hover:border-slate-300",children:"View Pricing"})]})})})]}),s.jsx("footer",{className:"bg-white border-t border-[#e7ecf3] pt-12 pb-8",children:s.jsxs("div",{className:"mx-auto max-w-[1200px] px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex size-6 items-center justify-center rounded bg-primary/10 text-primary",children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"graphic_eq"})}),s.jsx("span",{className:"text-base font-bold text-[#0d131b]",children:"JobSpeak Pro"})]}),s.jsxs("nav",{className:"flex flex-wrap justify-center gap-8",children:[s.jsx(ve,{to:"/how-it-works",className:"text-sm text-slate-600 hover:text-primary",children:"How It Works"}),s.jsx(ve,{to:"/pricing",className:"text-sm text-slate-600 hover:text-primary",children:"Pricing"}),s.jsx(ve,{to:"/support",className:"text-sm text-slate-600 hover:text-primary",children:"Support"}),s.jsx(ve,{to:"/affiliate",className:"text-sm text-slate-600 hover:text-primary",children:"Affiliate"}),s.jsx(ve,{to:"/referral",className:"text-sm text-slate-600 hover:text-primary",children:"Referrals"}),s.jsx(ve,{to:"/privacy",className:"text-sm text-slate-600 hover:text-primary",children:"Privacy Policy"}),s.jsx(ve,{to:"/terms",className:"text-sm text-slate-600 hover:text-primary",children:"Terms of Service"})]})]}),s.jsx("div",{className:"border-t border-slate-100 pt-8 text-center md:text-left",children:s.jsx("p",{className:"text-xs text-slate-400",children:" 2024 JobSpeak Pro. All rights reserved."})})]})})]})}function K4(){const[e,t]=p.useState(!1),[r,n]=p.useState(null),a=De(),i=lr();p.useEffect(()=>{const l=new URLSearchParams(i.search),c=l.get("canceled"),d=l.get("success");if(c==="true"){n("canceled");const u=window.location.pathname;window.history.replaceState({},"",u)}else if(d==="true"){n("success");const u=window.location.pathname;window.history.replaceState({},"",u)}},[i.search]),p.useEffect(()=>{if(r){const l=setTimeout(()=>{n(null)},6e3);return()=>clearTimeout(l)}},[r]);const o=async l=>{await ho({interval:l==="annual"?"annual":"monthly",source:"pricing_page",onLoadingChange:t})};return s.jsxs(s.Fragment,{children:[s.jsx(Ue,{}),r==="canceled"&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-amber-600 dark:text-amber-400",children:"info"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-amber-900 dark:text-amber-200",children:"Checkout canceled"})}),s.jsx("button",{onClick:()=>n(null),className:"ml-auto text-amber-600 dark:text-amber-400 hover:text-amber-800 dark:hover:text-amber-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}),r==="success"&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400",children:"check_circle"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-green-900 dark:text-green-200",children:"Welcome to Pro!"}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Your subscription is active."})]}),s.jsx("button",{onClick:()=>n(null),className:"ml-auto text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}),s.jsxs("main",{className:"flex-1 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-16 pb-20 flex flex-col items-center font-display",children:[s.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-12",children:[s.jsx("h1",{className:"text-slate-900 dark:text-white tracking-tight text-3xl md:text-4xl font-black leading-tight mb-4",children:"Pricing"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg md:text-xl font-medium leading-normal mb-2",children:"Choose the plan that fits your practice needs."}),s.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm font-normal leading-relaxed max-w-lg mx-auto",children:"JobSpeak Pro offers flexible plans so you can practice speaking confidently at your own pace."})]}),s.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 max-w-5xl mx-auto mb-12",children:[s.jsxs("div",{className:"flex flex-col gap-6 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-6 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold",children:"Free Practice"}),s.jsxs("p",{className:"flex items-baseline gap-1 text-slate-900 dark:text-white",children:[s.jsx("span",{className:"text-4xl font-black tracking-tight",children:"$0"}),s.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-sm font-bold",children:"/forever"})]}),s.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs mt-1",children:"Perfect for getting started."})]}),s.jsx("button",{type:"button",onClick:()=>a("/start"),className:"flex items-center justify-center rounded-lg h-10 px-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-900 dark:text-white text-sm font-bold transition-colors",children:"Continue with Free"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-[20px] leading-none",children:""}),s.jsx("span",{children:"Basic interview questions"})]}),s.jsxs("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-[20px] leading-none",children:""}),s.jsx("span",{children:"Standard timer"})]}),s.jsxs("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-[20px] leading-none",children:""}),s.jsx("span",{children:"Self-review playback"})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-6 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-6 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold",children:"Monthly"}),s.jsxs("p",{className:"flex items-baseline gap-1 text-slate-900 dark:text-white",children:[s.jsx("span",{className:"text-4xl font-black tracking-tight",children:"$9.99"}),s.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-sm font-bold",children:"/month"})]}),s.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-xs mt-1",children:"Flexible month-to-month."})]}),s.jsx("button",{type:"button",onClick:()=>o("monthly"),disabled:e,className:"flex items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-blue-600 transition-colors text-white text-sm font-bold shadow-sm shadow-blue-200 dark:shadow-none disabled:opacity-60 disabled:cursor-not-allowed",children:e?"Opening checkout...":"Start Monthly"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-[20px] leading-none",children:""}),s.jsx("span",{children:"Unlimited questions"})]}),s.jsxs("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-[20px] leading-none",children:""}),s.jsx("span",{children:"AI Speech Feedback"})]}),s.jsxs("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-[20px] leading-none",children:""}),s.jsx("span",{children:"Private recording library"})]})]})]}),s.jsxs("div",{className:"flex relative flex-col gap-6 rounded-xl border-2 border-primary bg-white dark:bg-slate-800 p-6 shadow-xl shadow-blue-100 dark:shadow-none transform md:-translate-y-2",children:[s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-primary text-white text-[10px] uppercase font-bold px-3 py-1 rounded-full tracking-wider shadow-sm",children:"Best Value"}),s.jsxs("div",{className:"flex flex-col gap-1 mt-2",children:[s.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold",children:"Annual"}),s.jsxs("p",{className:"flex items-baseline gap-1 text-slate-900 dark:text-white",children:[s.jsx("span",{className:"text-4xl font-black tracking-tight",children:"$79.99"}),s.jsx("span",{className:"text-slate-500 dark:text-slate-400 text-sm font-bold",children:"/year"})]}),s.jsxs("div",{className:"flex flex-col gap-0.5 mt-1",children:[s.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium",children:["Just"," ",s.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:"$6.67/month"})]}),s.jsx("p",{className:"text-green-600 dark:text-green-400 text-xs font-bold",children:"Save ~33% compared to monthly"})]})]}),s.jsx("button",{type:"button",onClick:()=>o("annual"),disabled:e,className:"flex items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-blue-600 transition-colors text-white text-sm font-bold shadow-md shadow-blue-200 dark:shadow-none disabled:opacity-60 disabled:cursor-not-allowed",children:e?"Opening checkout...":"Upgrade to Pro"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-[20px] leading-none",children:""}),s.jsx("span",{children:"Everything in Monthly"})]}),s.jsxs("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-[20px] leading-none",children:""}),s.jsx("span",{children:"Priority email support"})]}),s.jsxs("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-[20px] leading-none",children:""}),s.jsx("span",{children:"Early access to new features"})]}),s.jsxs("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-start gap-3",children:[s.jsx("span",{className:"text-green-500 text-[20px] leading-none",children:""}),s.jsx("span",{children:"Commit to your growth"})]})]})]})]}),s.jsx("div",{className:"w-full max-w-5xl mx-auto mb-16",children:s.jsxs("div",{className:"flex flex-wrap gap-6 justify-center items-center py-4 border-y border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 px-2",children:[s.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:""}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-xs md:text-sm font-semibold",children:"Secure checkout via Stripe"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-2",children:[s.jsx("span",{className:"text-green-500",children:""}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-xs md:text-sm font-semibold",children:"Cancel anytime"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-2",children:[s.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:""}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-xs md:text-sm font-semibold",children:"No contracts"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-2",children:[s.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:""}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-xs md:text-sm font-semibold",children:"No pressure to continue"})]})]})}),s.jsxs("div",{className:"w-full max-w-4xl mx-auto mb-16",children:[s.jsx("h3",{className:"text-xl font-bold text-center mb-8 text-slate-900 dark:text-white",children:"Compare Plans"}),s.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-medium",children:"Feature"}),s.jsx("th",{className:"px-6 py-4 font-medium text-center w-1/4",children:"Free"}),s.jsx("th",{className:"px-6 py-4 font-medium text-center w-1/4 text-primary",children:"Pro"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:"Question Library"}),s.jsx("td",{className:"px-6 py-4 text-center text-slate-600 dark:text-slate-400",children:"Basic only"}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-900 dark:text-white",children:s.jsxs("span",{className:"inline-flex items-center justify-center gap-1",children:["Unlimited ",s.jsx("span",{className:"text-green-500 text-sm",children:""})]})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:"AI Feedback"}),s.jsx("td",{className:"px-6 py-4 text-center text-slate-400 dark:text-slate-600",children:"-"}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-900 dark:text-white",children:s.jsxs("span",{className:"inline-flex items-center justify-center gap-1",children:["Detailed ",s.jsx("span",{className:"text-green-500 text-sm",children:""})]})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:"Recordings"}),s.jsx("td",{className:"px-6 py-4 text-center text-slate-600 dark:text-slate-400",children:"Temporary"}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-900 dark:text-white",children:s.jsxs("span",{className:"inline-flex items-center justify-center gap-1",children:["Private Library"," ",s.jsx("span",{className:"text-green-500 text-sm",children:""})]})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:"Support"}),s.jsx("td",{className:"px-6 py-4 text-center text-slate-600 dark:text-slate-400",children:"Community"}),s.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-900 dark:text-white",children:s.jsxs("span",{className:"inline-flex items-center justify-center gap-1",children:["Priority ",s.jsx("span",{className:"text-green-500 text-sm",children:""})]})})]})]})]})})]}),s.jsxs("div",{className:"w-full max-w-3xl mx-auto mb-16",children:[s.jsx("h3",{className:"text-xl font-bold text-center mb-8 text-slate-900 dark:text-white",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("details",{className:"group rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-4 [&_summary::-webkit-details-marker]:hidden",children:[s.jsxs("summary",{className:"flex cursor-pointer items-center justify-between gap-1.5 text-slate-900 dark:text-white font-semibold",children:["Can I cancel anytime?",s.jsx("span",{className:"text-slate-400 transition duration-300 group-open:-rotate-180",children:""})]}),s.jsx("p",{className:"mt-4 leading-relaxed text-slate-600 dark:text-slate-400 text-sm",children:"Absolutely. You can cancel your subscription with a single click from your account settings. You will retain access until the end of your billing cycle."})]}),s.jsxs("details",{className:"group rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-4 [&_summary::-webkit-details-marker]:hidden",children:[s.jsxs("summary",{className:"flex cursor-pointer items-center justify-between gap-1.5 text-slate-900 dark:text-white font-semibold",children:["Is my practice private?",s.jsx("span",{className:"text-slate-400 transition duration-300 group-open:-rotate-180",children:""})]}),s.jsx("p",{className:"mt-4 leading-relaxed text-slate-600 dark:text-slate-400 text-sm",children:"Yes. Your recordings are strictly private and are not shared with anyone. Our AI processes audio securely to provide feedback and does not retain the audio for training purposes."})]}),s.jsxs("details",{className:"group rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-4 [&_summary::-webkit-details-marker]:hidden",children:[s.jsxs("summary",{className:"flex cursor-pointer items-center justify-between gap-1.5 text-slate-900 dark:text-white font-semibold",children:["Is this a contract?",s.jsx("span",{className:"text-slate-400 transition duration-300 group-open:-rotate-180",children:""})]}),s.jsx("p",{className:"mt-4 leading-relaxed text-slate-600 dark:text-slate-400 text-sm",children:"No, there are no long-term contracts. JobSpeak Pro is a subscription service. You can choose to pay monthly or annually, but you are never locked in beyond the period you've paid for."})]})]})]}),s.jsxs("div",{className:"w-full max-w-2xl mx-auto text-center px-6 py-10 rounded-2xl bg-primary/5 dark:bg-slate-800/50",children:[s.jsx("p",{className:"text-slate-800 dark:text-slate-200 font-medium text-base md:text-lg mb-2",children:"You can upgrade when youre ready."}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"JobSpeak Pro is here to support your practice, not pressure you."})]})]})]})}function J4(){const[e,t]=p.useState(!1);De();const r=async()=>{await ho({priceType:"monthly",source:"upgrade_page",onLoadingChange:t})};return s.jsxs(s.Fragment,{children:["`n      ",s.jsx(Ue,{}),s.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-text-main dark:text-white min-h-screen flex flex-col items-center py-10 px-4 md:px-8 overflow-x-hidden",children:[s.jsx("div",{className:"mb-8 animate-fade-in-down",children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-50 border border-amber-200 text-amber-800 rounded-full text-sm font-medium shadow-sm dark:bg-amber-900/20 dark:border-amber-800 dark:text-amber-200",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"lock"}),s.jsx("span",{children:"You've used all 3 free practice questions for today."})]})}),s.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-10",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight text-slate-900 dark:text-white mb-4",children:"Upgrade to Pro"}),s.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 font-normal leading-relaxed",children:"Unlock unlimited practice and advanced feedback to help you speak confidently."})]}),s.jsxs("div",{className:"w-full max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-8 items-start mb-12",children:[s.jsxs("div",{className:"flex flex-col h-full rounded-2xl border border-slate-200 bg-white p-6 md:p-8 shadow-soft dark:bg-card-dark dark:border-slate-700 order-2 md:order-1",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Free Plan"}),s.jsxs("div",{className:"mt-4 flex items-baseline gap-1",children:[s.jsx("span",{className:"text-4xl font-bold tracking-tight text-slate-900 dark:text-white",children:"$0"}),s.jsx("span",{className:"text-base font-medium text-slate-500 dark:text-slate-400",children:"/mo"})]}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Forever free for casual learners."})]}),s.jsx("button",{type:"button",disabled:!0,className:"w-full rounded-xl bg-slate-100 py-3 px-4 text-sm font-semibold text-slate-400 cursor-not-allowed mb-8 dark:bg-slate-800 dark:text-slate-500 transition-colors",children:"Current Plan"}),s.jsxs("ul",{className:"space-y-4 flex-1",children:[s.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-300",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-[20px]",children:"check"}),s.jsx("span",{children:"3 practice questions/day"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-300",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-[20px]",children:"check"}),s.jsx("span",{children:"Basic feedback"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-600 dark:text-slate-300",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-[20px]",children:"check"}),s.jsx("span",{children:"Limited audio examples"})]})]})]}),s.jsxs("div",{className:"relative flex flex-col h-full rounded-2xl border-2 border-primary bg-white p-6 md:p-8 shadow-xl dark:bg-card-dark dark:border-primary order-1 md:order-2",children:[s.jsx("div",{className:"absolute -top-3.5 left-1/2 -translate-x-1/2 bg-primary text-white text-xs font-bold uppercase tracking-wide py-1.5 px-3 rounded-full shadow-sm",children:"Recommended"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Pro Plan"}),s.jsxs("div",{className:"mt-4 flex items-baseline gap-1",children:[s.jsx("span",{className:"text-4xl font-bold tracking-tight text-slate-900 dark:text-white",children:"$9.99"}),s.jsx("span",{className:"text-base font-medium text-slate-500 dark:text-slate-400",children:"/mo"})]}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Maximum progress, minimum limits."})]}),s.jsx("button",{type:"button",onClick:r,disabled:e,className:"w-full rounded-xl bg-primary hover:bg-primary-dark text-white py-3 px-4 text-sm font-bold shadow-md shadow-blue-500/20 mb-8 transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100",children:e?"Opening checkout...":"Upgrade to Pro"}),s.jsxs("ul",{className:"space-y-4 flex-1",children:[s.jsxs("li",{className:"flex items-start gap-3 text-sm font-medium text-slate-800 dark:text-slate-100",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-[20px]",children:"check_circle"}),s.jsx("span",{children:"Unlimited practice"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm font-medium text-slate-800 dark:text-slate-100",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-[20px]",children:"check_circle"}),s.jsx("span",{children:"Advanced rewrites & AI suggestions"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm font-medium text-slate-800 dark:text-slate-100",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-[20px]",children:"check_circle"}),s.jsx("span",{children:"Unlimited audio examples"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm font-medium text-slate-800 dark:text-slate-100",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-[20px]",children:"check_circle"}),s.jsx("span",{children:"Priority generation speed"})]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 md:gap-12 text-slate-500 dark:text-slate-400 text-sm font-medium mb-16",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"calendar_month"}),s.jsx("span",{children:"Cancel anytime"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"lock"}),s.jsx("span",{children:"Secure checkout"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"support_agent"}),s.jsx("span",{children:"Support included"})]})]}),s.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-center text-slate-900 dark:text-white mb-8",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("details",{className:"group rounded-lg bg-white dark:bg-card-dark border border-slate-200 dark:border-slate-700 open:ring-1 open:ring-slate-200 dark:open:ring-slate-700",children:[s.jsxs("summary",{className:"flex cursor-pointer items-center justify-between p-4 font-semibold text-slate-900 dark:text-white select-none",children:[s.jsx("span",{children:"Can I cancel anytime?"}),s.jsx("span",{className:"material-symbols-outlined text-slate-400 group-hover:text-primary transition-transform duration-300 expand-icon",children:"expand_more"})]}),s.jsx("div",{className:"px-4 pb-4 pt-0 text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:"Yes, absolutely. You can cancel your subscription at any time directly from your account settings. You'll keep access until the end of your billing period."})]}),s.jsxs("details",{className:"group rounded-lg bg-white dark:bg-card-dark border border-slate-200 dark:border-slate-700 open:ring-1 open:ring-slate-200 dark:open:ring-slate-700",children:[s.jsxs("summary",{className:"flex cursor-pointer items-center justify-between p-4 font-semibold text-slate-900 dark:text-white select-none",children:[s.jsx("span",{children:"Do I lose my progress if I downgrade?"}),s.jsx("span",{className:"material-symbols-outlined text-slate-400 group-hover:text-primary transition-transform duration-300 expand-icon",children:"expand_more"})]}),s.jsx("div",{className:"px-4 pb-4 pt-0 text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:"No, your data is safe with us. Your practice history, saved responses, and feedback are preserved securely even if you switch back to the free plan."})]}),s.jsxs("details",{className:"group rounded-lg bg-white dark:bg-card-dark border border-slate-200 dark:border-slate-700 open:ring-1 open:ring-slate-200 dark:open:ring-slate-700",children:[s.jsxs("summary",{className:"flex cursor-pointer items-center justify-between p-4 font-semibold text-slate-900 dark:text-white select-none",children:[s.jsx("span",{children:"What happens immediately after I upgrade?"}),s.jsx("span",{className:"material-symbols-outlined text-slate-400 group-hover:text-primary transition-transform duration-300 expand-icon",children:"expand_more"})]}),s.jsx("div",{className:"px-4 pb-4 pt-0 text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:"You'll get instant access to unlimited practice questions, premium AI feedback, and audio examples. The limit on your account will be lifted immediately."})]})]})]}),s.jsx("div",{className:"h-20"})]})]})}function Y4(){const e=De();return s.jsxs(s.Fragment,{children:[s.jsx(Ue,{}),s.jsx("main",{className:"flex-1 flex flex-col items-center py-10 px-6 md:px-10 lg:px-40 pb-20",children:s.jsxs("div",{className:"flex flex-col max-w-[960px] w-full gap-16",children:[s.jsxs("section",{className:"text-center flex flex-col items-center gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4 max-w-2xl",children:[s.jsx("h1",{className:"text-[#111418] text-4xl md:text-5xl font-black leading-tight tracking-[-0.033em]",children:"How JobSpeak Pro Works"}),s.jsx("p",{className:"text-[#617289] text-xl font-normal leading-relaxed",children:"A simple, private way to practice speaking confidently for interviews."})]}),s.jsx("div",{className:"bg-white p-6 rounded-xl border border-[#dbe0e6] shadow-sm max-w-3xl w-full",children:s.jsx("p",{className:"text-[#111418] text-base md:text-lg font-normal leading-relaxed text-center",children:"JobSpeak Pro is designed to help you practice speaking clearly and confidently, without pressure or judgment. You practice privately, at your own pace, and repeat as often as you need."})})]}),s.jsxs("section",{className:"flex flex-col gap-8",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h2",{className:"text-[#111418] text-2xl md:text-3xl font-bold leading-tight",children:"Your Practice Journey"}),s.jsx("p",{className:"text-[#617289] text-base font-normal",children:"Follow these four simple steps to build your confidence."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-4 rounded-xl border border-[#dbe0e6] bg-white p-6 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-center justify-center size-12 rounded-full bg-primary/10 text-primary",children:s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"quiz"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight",children:"1. Choose a question"}),s.jsx("p",{className:"text-[#617289] text-sm font-normal leading-relaxed",children:"Start with a real interview-style question. There is no timer and no expectation to be perfect."})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 rounded-xl border border-[#dbe0e6] bg-white p-6 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-center justify-center size-12 rounded-full bg-primary/10 text-primary",children:s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"mic"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight",children:"2. Speak your answer"}),s.jsx("p",{className:"text-[#617289] text-sm font-normal leading-relaxed",children:"Record yourself speaking out loud, or type your answer if you prefer. Listen back to get comfortable."})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 rounded-xl border border-[#dbe0e6] bg-white p-6 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-center justify-center size-12 rounded-full bg-primary/10 text-primary",children:s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"reviews"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight",children:"3. Review feedback"}),s.jsx("p",{className:"text-[#617289] text-sm font-normal leading-relaxed",children:"Get clear, structured feedback to help you sound more natural. Adapt suggestions to match your own words."})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 rounded-xl border border-[#dbe0e6] bg-white p-6 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-center justify-center size-12 rounded-full bg-primary/10 text-primary",children:s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"replay"})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight",children:"4. Practice again"}),s.jsx("p",{className:"text-[#617289] text-sm font-normal leading-relaxed",children:"Repeat as many times as you like. Confidence comes from practice, not perfection."})]})]})]})]}),s.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"flex flex-col gap-6 rounded-2xl bg-[#f0fdf4] border border-green-100 p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 border-b border-green-200 pb-4",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 text-3xl",children:"check_circle"}),s.jsx("h2",{className:"text-[#111418] text-xl font-bold",children:"JobSpeak Pro IS:"})]}),s.jsxs("ul",{className:"flex flex-col gap-4",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 text-xl mt-0.5",children:"check"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-[#111418]",children:"A private practice space"}),s.jsx("span",{className:"text-[#617289] text-sm",children:"Practice without fear of being overheard."})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 text-xl mt-0.5",children:"check"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-[#111418]",children:"Focused on speaking"}),s.jsx("span",{className:"text-[#617289] text-sm",children:"Not just writing. Get comfortable with your voice."})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 text-xl mt-0.5",children:"check"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-[#111418]",children:"Designed for interview prep"}),s.jsx("span",{className:"text-[#617289] text-sm",children:"Targeted questions for real scenarios."})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 text-xl mt-0.5",children:"check"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-[#111418]",children:"Supportive and judgment-free"}),s.jsx("span",{className:"text-[#617289] text-sm",children:"Mistakes are just part of the process."})]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-6 rounded-2xl bg-white border border-[#dbe0e6] p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 border-b border-[#f0f2f4] pb-4",children:[s.jsx("span",{className:"material-symbols-outlined text-gray-400 text-3xl",children:"cancel"}),s.jsx("h2",{className:"text-[#111418] text-xl font-bold",children:"JobSpeak Pro is NOT:"})]}),s.jsxs("ul",{className:"flex flex-col gap-4",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-gray-400 text-xl mt-0.5",children:"close"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-[#111418]",children:"A test"}),s.jsx("span",{className:"text-[#617289] text-sm",children:"No grades, no scores to beat."})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-gray-400 text-xl mt-0.5",children:"close"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-[#111418]",children:"A public evaluation"}),s.jsx("span",{className:"text-[#617289] text-sm",children:"Your recordings are yours alone."})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-gray-400 text-xl mt-0.5",children:"close"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-[#111418]",children:"A guarantee of outcomes"}),s.jsx("span",{className:"text-[#617289] text-sm",children:"We help you prepare."})]})]})]})]})]}),s.jsxs("section",{className:"flex flex-col items-center gap-8 py-4",children:[s.jsxs("div",{className:"text-center max-w-2xl",children:[s.jsx("h2",{className:"text-[#111418] text-2xl font-bold mb-2",children:"Practice at your own pace"}),s.jsx("p",{className:"text-[#617289]",children:"Start for free and upgrade when you're ready for more."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 w-full max-w-2xl",children:[s.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-[#dbe0e6] bg-white p-6",children:[s.jsx("h3",{className:"text-[#111418] text-lg font-bold",children:"Free Practice"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2 text-[#617289] text-sm",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"circle"}),"Try speaking practice"]}),s.jsxs("li",{className:"flex items-center gap-2 text-[#617289] text-sm",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"circle"}),"Limited daily usage"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-primary/20 bg-primary/5 p-6",children:[s.jsx("h3",{className:"text-primary text-lg font-bold",children:"JobSpeak Pro"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2 text-[#111418] text-sm",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-sm",children:"check_circle"}),"Unlimited practice"]}),s.jsxs("li",{className:"flex items-center gap-2 text-[#111418] text-sm",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-sm",children:"check_circle"}),"No daily limits"]}),s.jsxs("li",{className:"flex items-center gap-2 text-[#111418] text-sm",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-sm",children:"check_circle"}),"Practice as much as you want"]})]})]})]})]}),s.jsxs("section",{className:"flex flex-col items-center gap-10 py-8",children:[s.jsxs("div",{className:"w-full bg-[#f0f4f8] rounded-xl p-8 text-center flex flex-col items-center gap-3",children:[s.jsx("div",{className:"size-12 bg-white rounded-full flex items-center justify-center text-primary mb-1 shadow-sm",children:s.jsx("span",{className:"material-symbols-outlined",children:"lock"})}),s.jsx("h3",{className:"text-[#111418] text-lg font-bold",children:"Your privacy comes first"}),s.jsx("p",{className:"text-[#617289] max-w-lg",children:"Everything you practice is private. JobSpeak Pro is built to support your learning, not judge or evaluate you."})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4 pt-4",children:[s.jsx("button",{onClick:()=>e("/start"),className:"flex min-w-[200px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-8 bg-primary text-white text-base font-bold shadow-lg hover:bg-blue-600 hover:shadow-xl transition-all",children:"Start Practicing"}),s.jsx(ve,{className:"text-[#617289] text-sm font-medium hover:text-primary transition-colors underline-offset-4 hover:underline",to:"/pricing",children:"View Pricing"})]})]})]})})]})}function Q4(){const e=De();return s.jsxs(s.Fragment,{children:["`n      ",s.jsx(Ue,{}),s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center py-10 px-4 md:px-0",children:s.jsxs("div",{className:"w-full max-w-[640px] flex flex-col gap-10",children:[s.jsxs("div",{className:"text-center space-y-4 px-4",children:[s.jsx("h1",{className:"text-[#111418] dark:text-white text-4xl md:text-5xl font-black leading-tight tracking-[-0.033em]",children:"Start Your Practice"}),s.jsx("p",{className:"text-[#617289] dark:text-gray-400 text-lg md:text-xl font-normal leading-normal max-w-lg mx-auto",children:"A calm, private way to practice speaking for interviews."})]}),s.jsxs("div",{className:"bg-white dark:bg-[#1a2634] rounded-xl shadow-sm border border-[#e5e7eb] dark:border-gray-700 p-8 md:p-10 mx-4 md:mx-0",children:[s.jsxs("div",{className:"mb-10",children:[s.jsx("h3",{className:"text-[#111418] dark:text-white text-xl font-bold leading-tight mb-6",children:"What to Expect"}),s.jsxs("ul",{className:"flex flex-col gap-5",children:[s.jsxs("li",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5 text-primary",children:s.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"24px"},children:"check_circle"})}),s.jsx("span",{className:"text-[#111418] dark:text-gray-200 text-base font-normal",children:"Choose a real interview-style question"})]}),s.jsxs("li",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5 text-primary",children:s.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"24px"},children:"check_circle"})}),s.jsx("span",{className:"text-[#111418] dark:text-gray-200 text-base font-normal",children:"Speak your answer out loud or type it"})]}),s.jsxs("li",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5 text-primary",children:s.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"24px"},children:"check_circle"})}),s.jsx("span",{className:"text-[#111418] dark:text-gray-200 text-base font-normal",children:"Listen back and review helpful feedback"})]}),s.jsxs("li",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5 text-primary",children:s.jsx("span",{className:"material-symbols-outlined",style:{fontSize:"24px"},children:"check_circle"})}),s.jsx("span",{className:"text-[#111418] dark:text-gray-200 text-base font-normal",children:"Practice again at your own pace"})]})]})]}),s.jsxs("div",{className:"border-t border-[#f0f2f4] dark:border-gray-700 pt-8",children:[s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-green-50 dark:bg-green-900/20 px-4 py-2 rounded-full border border-green-100 dark:border-green-800/30",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400",style:{fontSize:"20px"},children:"lock"}),s.jsx("span",{className:"text-green-800 dark:text-green-300 text-sm font-medium",children:"Private"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 px-4 py-2 rounded-full border border-blue-100 dark:border-blue-800/30",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400",style:{fontSize:"20px"},children:"volunteer_activism"}),s.jsx("span",{className:"text-blue-800 dark:text-blue-300 text-sm font-medium",children:"Judgment-free"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 dark:bg-purple-900/20 px-4 py-2 rounded-full border border-purple-100 dark:border-purple-800/30",children:[s.jsx("span",{className:"material-symbols-outlined text-purple-600 dark:text-purple-400",style:{fontSize:"20px"},children:"hourglass_disabled"}),s.jsx("span",{className:"text-purple-800 dark:text-purple-300 text-sm font-medium",children:"At your own pace"})]})]}),s.jsx("p",{className:"text-center text-[#617289] dark:text-gray-400 text-base",children:"There is no timer and no pressure to be perfect. You can stop or repeat anytime."})]})]}),s.jsx("div",{className:"text-center max-w-md mx-auto px-4",children:s.jsx("p",{className:"text-[#617289] dark:text-gray-400 text-base leading-relaxed italic",children:'"Many people feel nervous speaking out loud at first. That is normal. Confidence comes from practice, not perfection."'})}),s.jsxs("div",{className:"flex flex-col items-center gap-6 pb-12",children:[s.jsx("button",{onClick:()=>e("/practice"),className:"bg-primary hover:bg-primary/90 text-white text-lg font-bold py-4 px-12 rounded-full shadow-lg shadow-blue-500/20 transition-all duration-200 transform hover:scale-[1.02] focus:ring-4 focus:ring-blue-500/30 outline-none",children:"Start Practicing"}),s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("p",{className:"text-[#617289] dark:text-gray-500 text-sm",children:"You can explore pricing later if you choose."}),s.jsx(ve,{to:"/pricing",className:"text-primary dark:text-blue-400 text-sm font-medium hover:underline",children:"View Pricing"})]})]})]})})]})}function X4(){const e=De(),{isAuthed:t}=Rt();return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsx("main",{className:"flex-1 flex justify-center py-12 px-4 md:px-8",children:s.jsxs("div",{className:"flex flex-col max-w-[960px] w-full gap-10",children:[s.jsxs("div",{className:"flex flex-col gap-3 text-center md:text-left",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-black leading-tight tracking-[-0.033em] text-slate-900 dark:text-white",children:"Support"}),s.jsx("p",{className:"text-[#617289] dark:text-gray-400 text-lg font-normal leading-normal",children:"Were here to help you practice with confidence."})]}),s.jsxs("section",{className:"flex flex-col gap-6",children:[s.jsx("h2",{className:"text-2xl font-bold leading-tight tracking-tight text-slate-900 dark:text-white",children:"Quick Help"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("details",{className:"group flex flex-col rounded-xl border border-[#dbe0e6] dark:border-gray-700 bg-white dark:bg-gray-900 overflow-hidden transition-all duration-300",children:[s.jsxs("summary",{className:"flex cursor-pointer items-center justify-between gap-6 p-5",children:[s.jsx("p",{className:"text-base font-medium leading-normal text-slate-900 dark:text-white",children:"How do I start practicing?"}),s.jsx("span",{className:"material-symbols-outlined text-[#617289] dark:text-gray-400 group-open:rotate-180 transition-transform duration-300",children:"expand_more"})]}),s.jsx("div",{className:"px-5 pb-5 pt-0 text-[#617289] dark:text-gray-400 text-base leading-relaxed",children:'Simply navigate to the "Practice" tab in the main menu. Select a module that fits your needs, check your microphone settings, and click "Begin Session". You can pause or stop at any time.'})]}),s.jsxs("details",{className:"group flex flex-col rounded-xl border border-[#dbe0e6] dark:border-gray-700 bg-white dark:bg-gray-900 overflow-hidden transition-all duration-300",children:[s.jsxs("summary",{className:"flex cursor-pointer items-center justify-between gap-6 p-5",children:[s.jsx("p",{className:"text-base font-medium leading-normal text-slate-900 dark:text-white",children:"Why cant I hear audio playback?"}),s.jsx("span",{className:"material-symbols-outlined text-[#617289] dark:text-gray-400 group-open:rotate-180 transition-transform duration-300",children:"expand_more"})]}),s.jsx("div",{className:"px-5 pb-5 pt-0 text-[#617289] dark:text-gray-400 text-base leading-relaxed",children:"Please check that your browser has permission to access your speakers and microphone. You can usually find these settings in your browser's address bar icon. Also, ensure your system volume is turned up."})]}),s.jsxs("details",{className:"group flex flex-col rounded-xl border border-[#dbe0e6] dark:border-gray-700 bg-white dark:bg-gray-900 overflow-hidden transition-all duration-300",children:[s.jsxs("summary",{className:"flex cursor-pointer items-center justify-between gap-6 p-5",children:[s.jsx("p",{className:"text-base font-medium leading-normal text-slate-900 dark:text-white",children:"What happens when I reach the free limit?"}),s.jsx("span",{className:"material-symbols-outlined text-[#617289] dark:text-gray-400 group-open:rotate-180 transition-transform duration-300",children:"expand_more"})]}),s.jsx("div",{className:"px-5 pb-5 pt-0 text-[#617289] dark:text-gray-400 text-base leading-relaxed",children:"When you reach the free limit, your current progress is saved, but you won't be able to start new practice sessions until the limit resets or you upgrade your plan. You can view your usage on your dashboard."})]}),s.jsxs("details",{className:"group flex flex-col rounded-xl border border-[#dbe0e6] dark:border-gray-700 bg-white dark:bg-gray-900 overflow-hidden transition-all duration-300",children:[s.jsxs("summary",{className:"flex cursor-pointer items-center justify-between gap-6 p-5",children:[s.jsx("p",{className:"text-base font-medium leading-normal text-slate-900 dark:text-white",children:"How do I cancel or change my plan?"}),s.jsx("span",{className:"material-symbols-outlined text-[#617289] dark:text-gray-400 group-open:rotate-180 transition-transform duration-300",children:"expand_more"})]}),s.jsxs("div",{className:"px-5 pb-5 pt-0 text-[#617289] dark:text-gray-400 text-base leading-relaxed",children:['You can manage your subscription directly from the "Settings"'," ",'> "Billing" page. Cancellations are effective immediately with no hidden fees or lock-in contracts.']})]})]})]}),s.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex flex-col justify-between gap-6 rounded-xl border border-[#dbe0e6] dark:border-gray-700 bg-white dark:bg-gray-900 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 text-primary mb-1",children:[s.jsx("span",{className:"material-symbols-outlined",children:"school"}),s.jsx("p",{className:"text-sm font-bold uppercase tracking-wide",children:"Getting Started"})]}),s.jsx("h3",{className:"text-xl font-bold leading-tight text-slate-900 dark:text-white",children:"New to JobSpeak Pro?"}),s.jsxs("ul",{className:"flex flex-col gap-2 text-[#617289] dark:text-gray-400 text-base",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-green-500 text-xl",children:"check_circle"}),s.jsx("span",{children:"Start practicing at your own pace"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-green-500 text-xl",children:"check_circle"}),s.jsx("span",{children:"No setup required"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-green-500 text-xl",children:"check_circle"}),s.jsx("span",{children:"Practice is private and judgment-free"})]})]})]}),s.jsx("button",{onClick:()=>e("/start"),className:"flex w-full cursor-pointer items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-blue-700 text-white text-sm font-bold leading-normal transition-colors duration-200 shadow-sm",children:"Start Practicing"})]}),s.jsxs("div",{className:"flex flex-col justify-between gap-6 rounded-xl border border-[#dbe0e6] dark:border-gray-700 bg-white dark:bg-gray-900 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 text-[#617289] dark:text-gray-400 mb-1",children:[s.jsx("span",{className:"material-symbols-outlined",children:"receipt_long"}),s.jsx("p",{className:"text-sm font-bold uppercase tracking-wide",children:"Account"})]}),s.jsx("h3",{className:"text-xl font-bold leading-tight text-slate-900 dark:text-white",children:"Billing Questions?"}),s.jsx("p",{className:"text-[#617289] dark:text-gray-400 text-base leading-relaxed",children:"We believe in transparency. You can cancel anytime, and there are absolutely no long-term contracts holding you back."})]}),s.jsx(ve,{className:"flex w-full cursor-pointer items-center justify-center rounded-lg h-10 px-4 border border-[#dbe0e6] dark:border-gray-600 bg-transparent hover:bg-gray-50 dark:hover:bg-gray-800 text-[#111418] dark:text-white text-sm font-bold leading-normal transition-colors duration-200",to:"/pricing",children:"View Pricing"})]})]}),s.jsxs("section",{className:"flex flex-col gap-8 items-center pt-4",children:[s.jsxs("div",{className:"text-center flex flex-col gap-2",children:[s.jsx("div",{className:"size-12 rounded-full bg-blue-50 dark:bg-blue-900/30 text-primary flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"material-symbols-outlined",children:"mail"})}),s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Need more help?"}),s.jsxs("p",{className:"text-[#617289] dark:text-gray-400",children:["Email us at"," ",s.jsx("a",{className:"text-primary hover:underline font-medium",href:"mailto:jobspeakpro@gmail.com",children:"jobspeakpro@gmail.com"})]}),s.jsx("p",{className:"text-sm text-[#617289] dark:text-gray-500",children:"We usually reply within one business day."})]}),s.jsx("div",{className:"w-full rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-800/30 p-6 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 max-w-2xl mx-auto",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-3xl",children:"sentiment_satisfied"}),s.jsx("p",{className:"text-[#111418] dark:text-white font-medium",children:"JobSpeak Pro is built to support your learning. If something isnt working as expected, were happy to help."})]})})]})]})})]})}function Z4(){return s.jsxs(s.Fragment,{children:["`n      ",s.jsx(Ue,{}),s.jsx("div",{className:"flex-1 max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-8 lg:py-12 pb-20",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[s.jsx("aside",{className:"hidden lg:block w-64 shrink-0",children:s.jsxs("div",{className:"sticky top-28 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 px-3",children:"Contents"}),s.jsxs("nav",{className:"flex flex-col gap-1",children:[s.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-primary bg-primary/10 rounded-lg transition-colors",href:"#overview",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"info"}),"Overview"]}),s.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",href:"#collection",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"list_alt"}),"Data Collection"]}),s.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",href:"#usage",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"settings_suggest"}),"Usage"]}),s.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",href:"#voice",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"mic"}),"Voice Data"]}),s.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",href:"#sharing",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"share"}),"Sharing & Rights"]}),s.jsxs("a",{className:"flex items-center gap-3 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",href:"#contact",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"mail"}),"Contact"]})]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-slate-800 p-4 rounded-xl border border-blue-100 dark:border-slate-700",children:[s.jsx("p",{className:"text-xs font-semibold text-primary mb-1",children:"Need help?"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:"Our support team is available 24/7."}),s.jsx(ve,{className:"text-xs font-bold text-slate-900 dark:text-white underline decoration-slate-300 underline-offset-2 hover:decoration-primary transition-all",to:"/support",children:"Visit Support Center"})]})]})}),s.jsxs("main",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"mb-10",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-500 mb-4",children:[s.jsx(ve,{className:"hover:text-primary transition-colors",to:"/",children:"Home"}),s.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"chevron_right"}),s.jsx("span",{className:"text-slate-900 dark:text-white",children:"Privacy Policy"})]}),s.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-slate-900 dark:text-white tracking-tight mb-4",children:"Privacy Policy"}),s.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-2xl leading-relaxed",children:"Your privacy matters. This page explains what information we collect, how we use it, and the control you have over your data."}),s.jsx("div",{className:"text-sm text-slate-400 mt-4",children:"Last Updated: October 24, 2023"})]}),s.jsx("section",{className:"mb-12",id:"overview",children:s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/10 dark:to-emerald-900/10 border border-green-100 dark:border-green-800 rounded-2xl p-6 sm:p-8 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-green-200/30 dark:bg-green-500/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 text-green-700 dark:text-green-400",children:[s.jsx("span",{className:"material-symbols-outlined",children:"verified_user"}),s.jsx("h2",{className:"text-lg font-bold uppercase tracking-wide",children:"Plain-Language Overview"})]}),s.jsxs("p",{className:"text-slate-700 dark:text-slate-200 text-lg font-medium leading-relaxed",children:["JobSpeak Pro is designed to help you practice speaking confidently. We only collect information needed to provide and improve the service."," ",s.jsx("span",{className:"bg-green-200/50 dark:bg-green-900/50 px-1 rounded",children:"We do not sell your personal data."})]})]})]})}),s.jsxs("section",{className:"mb-16",id:"collection",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-primary",children:s.jsx("span",{className:"material-symbols-outlined",children:"folder_open"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Information We Collect"})]}),s.jsxs("div",{className:"bg-white dark:bg-[#1a2634] border border-slate-200 dark:border-slate-800 rounded-xl divide-y divide-slate-100 dark:divide-slate-700 shadow-sm",children:[s.jsxs("div",{className:"p-6 sm:grid sm:grid-cols-3 sm:gap-4",children:[s.jsx("dt",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1 sm:mb-0",children:"Basic User Info"}),s.jsx("dd",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300 sm:mt-0 sm:col-span-2",children:"When you create an account, we collect session identifiers and basic account details (like email) to verify your identity."})]}),s.jsxs("div",{className:"p-6 sm:grid sm:grid-cols-3 sm:gap-4",children:[s.jsx("dt",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1 sm:mb-0",children:"Usage Information"}),s.jsx("dd",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300 sm:mt-0 sm:col-span-2",children:"We track data on practice sessions (duration, frequency) and feature usage to understand what tools help you the most."})]}),s.jsxs("div",{className:"p-6 sm:grid sm:grid-cols-3 sm:gap-4",children:[s.jsx("dt",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1 sm:mb-0",children:"Voice & Text Input"}),s.jsx("dd",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300 sm:mt-0 sm:col-span-2",children:"We process your voice recordings and text inputs specifically to provide feedback and run practice scenarios."})]}),s.jsxs("div",{className:"p-6 sm:grid sm:grid-cols-3 sm:gap-4",children:[s.jsx("dt",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-1 sm:mb-0",children:"Technical Data"}),s.jsx("dd",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300 sm:mt-0 sm:col-span-2",children:"Like most websites, we collect browser type, device type, and basic technical logs to ensure our site works on your device."})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-16",children:[s.jsxs("section",{className:"bg-white dark:bg-[#1a2634] p-8 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm h-full",id:"usage",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"psychology"}),s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"How We Use Your Data"})]}),s.jsxs("ul",{className:"space-y-4",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 text-sm mt-1",children:"check_circle"}),s.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:[s.jsx("strong",{children:"Provide Practice:"})," To generate feedback on your speaking pace, tone, and clarity."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 text-sm mt-1",children:"check_circle"}),s.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:[s.jsx("strong",{children:"Improve Reliability:"})," To identify bugs and improve performance across different devices."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 text-sm mt-1",children:"check_circle"}),s.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:[s.jsx("strong",{children:"Analyze Patterns:"})," To understand how users learn best and build better features."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 text-sm mt-1",children:"check_circle"}),s.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:[s.jsx("strong",{children:"Billing & Access:"})," To manage your subscription and grant access to Pro features."]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700",children:s.jsx("p",{className:"text-sm font-medium text-slate-500 italic",children:'"We do not use your data to judge or evaluate you outside of the practice context."'})})]}),s.jsxs("section",{className:"bg-primary/5 dark:bg-primary/10 p-8 rounded-xl border border-primary/10 dark:border-primary/20 h-full relative overflow-hidden",id:"voice",children:[s.jsx("div",{className:"absolute bottom-0 right-0 opacity-10 pointer-events-none",children:s.jsx("svg",{fill:"none",height:"100",viewBox:"0 0 200 100",width:"200",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M0 50C40 50 40 20 80 20C120 20 120 80 160 80C200 80 200 50 240 50",stroke:"#136dec",strokeWidth:"4"})})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"graphic_eq"}),s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Voice & Practice Data"})]}),s.jsxs("div",{className:"space-y-4 relative z-10",children:[s.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:"Your voice recordings are used solely for generating automated feedback."}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-100 dark:border-slate-700",children:[s.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white text-sm mb-2",children:"Our Promise:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-400 flex items-center gap-2",children:[s.jsx("span",{className:"size-1.5 rounded-full bg-slate-400"}),"Practice sessions are private."]}),s.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-400 flex items-center gap-2",children:[s.jsx("span",{className:"size-1.5 rounded-full bg-slate-400"}),"Recordings are never shared publicly."]}),s.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-400 flex items-center gap-2",children:[s.jsx("span",{className:"size-1.5 rounded-full bg-slate-400"}),"We do not use your voice for third-party advertising."]})]})]})]})]})]}),s.jsxs("section",{className:"space-y-12 mb-16",id:"sharing",children:[s.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[s.jsx("div",{className:"flex items-center gap-3 mb-4",children:s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white m-0",children:"Data Sharing"})}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"We value your trust. We do not sell your personal data. We may share data with trusted service providers who assist us in operating our website, conducting our business, or serving our users (such as cloud hosting and payment processing). These parties agree to keep this information confidential. We may also release information when its release is appropriate to comply with the law, enforce our site policies, or protect ours or others' rights, property or safety."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"flex items-center gap-2 text-lg font-bold text-slate-900 dark:text-white mb-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"schedule"}),"Data Retention"]}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"We keep your personal information only as long as we need it for legitimate business purposes and as permitted by applicable law. You can request deletion of your account at any time. Please note that we may retain certain information for recordkeeping purposes or to complete any transactions that you began prior to requesting a change or deletion."})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"flex items-center gap-2 text-lg font-bold text-slate-900 dark:text-white mb-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"gavel"}),"Your Choices & Rights"]}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"You have control over your information. Depending on where you live, you may have rights to access, correct, or delete your personal data. You can always choose to stop using the service or delete your account through your profile settings."})]})]})]}),s.jsxs("section",{className:"grid gap-6 mb-16",children:[s.jsxs("div",{className:"bg-white dark:bg-[#1a2634] p-6 rounded-xl border border-slate-200 dark:border-slate-800 flex flex-col sm:flex-row gap-6",children:[s.jsx("div",{className:"shrink-0",children:s.jsx("div",{className:"size-12 rounded-full bg-green-50 dark:bg-green-900/20 flex items-center justify-center text-green-600",children:s.jsx("span",{className:"material-symbols-outlined",children:"lock"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Security"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:"We implement reasonable security safeguards designed to protect your data. While no internet transmission is 100% secure, we take care to maintain the safety of your personal information using standard encryption and access controls."})]})]}),s.jsxs("div",{className:"bg-white dark:bg-[#1a2634] p-6 rounded-xl border border-slate-200 dark:border-slate-800 flex flex-col sm:flex-row gap-6",children:[s.jsx("div",{className:"shrink-0",children:s.jsx("div",{className:"size-12 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-primary",children:s.jsx("span",{className:"material-symbols-outlined",children:"cookie"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Cookies & Analytics"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:"We use cookies for basic functionality (like keeping you logged in) and anonymous analytics to see how the site is used. We do not use cookies to track you across unrelated websites. You can control cookies through your browser settings."})]})]}),s.jsxs("div",{className:"bg-white dark:bg-[#1a2634] p-6 rounded-xl border border-slate-200 dark:border-slate-800 flex flex-col sm:flex-row gap-6",children:[s.jsx("div",{className:"shrink-0",children:s.jsx("div",{className:"size-12 rounded-full bg-slate-50 dark:bg-slate-700/50 flex items-center justify-center text-slate-500",children:s.jsx("span",{className:"material-symbols-outlined",children:"child_care"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Childrens Privacy"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:"JobSpeak Pro is not intended for children under 13 (or other applicable age of digital consent). We do not knowingly collect personal data from children. If we become aware that we have collected such data, we will take steps to delete it."})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Changes to This Policy"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed max-w-3xl",children:"We may update this Privacy Policy from time to time. If we make material changes, we will notify you through the service or by other means so you can review the changes before they become effective. Your continued use of the service after any changes constitutes your acceptance of the new policy."})]}),s.jsxs("section",{className:"bg-slate-900 dark:bg-black rounded-2xl p-8 sm:p-12 text-center text-white relative overflow-hidden",id:"contact",children:[s.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Still have questions?"}),s.jsx("p",{className:"text-slate-300 mb-8 text-lg",children:"We're committed to being transparent. If you have any questions about this policy or your data, please reach out."}),s.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:s.jsxs("a",{className:"inline-flex items-center justify-center gap-2 bg-primary hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors",href:"mailto:jobspeakpro@gmail.com",children:[s.jsx("span",{className:"material-symbols-outlined",children:"mail"}),"jobspeakpro@gmail.com"]})})]}),s.jsx("div",{className:"absolute top-4 left-4 opacity-20",children:s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsx("div",{className:"size-1 rounded-full bg-white"}),s.jsx("div",{className:"size-1 rounded-full bg-white"}),s.jsx("div",{className:"size-1 rounded-full bg-white"}),s.jsx("div",{className:"size-1 rounded-full bg-white"}),s.jsx("div",{className:"size-1 rounded-full bg-white"}),s.jsx("div",{className:"size-1 rounded-full bg-white"})]})})]})]})]})})]})}function eP(){return s.jsxs(s.Fragment,{children:[s.jsx(Ue,{}),s.jsx("div",{className:"flex-1 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-16 pb-20",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[s.jsx("aside",{className:"hidden lg:block lg:col-span-3 relative",children:s.jsxs("div",{className:"sticky top-28 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400 mb-4 pl-3",children:"Contents"}),s.jsxs("nav",{className:"space-y-1",children:[s.jsx("a",{className:"group flex items-center border-l-2 border-transparent px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary hover:text-primary transition-colors",href:"#acceptance",children:"Acceptance of Terms"}),s.jsx("a",{className:"group flex items-center border-l-2 border-transparent px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary hover:text-primary transition-colors",href:"#service",children:"Description of Service"}),s.jsx("a",{className:"group flex items-center border-l-2 border-transparent px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary hover:text-primary transition-colors",href:"#eligibility",children:"Eligibility"}),s.jsx("a",{className:"group flex items-center border-l-2 border-transparent px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary hover:text-primary transition-colors",href:"#responsibilities",children:"User Responsibilities"}),s.jsx("a",{className:"group flex items-center border-l-2 border-transparent px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary hover:text-primary transition-colors",href:"#accounts",children:"Accounts & Access"}),s.jsx("a",{className:"group flex items-center border-l-2 border-transparent px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary hover:text-primary transition-colors",href:"#payments",children:"Payments"}),s.jsx("a",{className:"group flex items-center border-l-2 border-transparent px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary hover:text-primary transition-colors",href:"#privacy",children:"Privacy Policy"}),s.jsx("a",{className:"group flex items-center border-l-2 border-transparent px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary hover:text-primary transition-colors",href:"#disclaimer",children:"Disclaimers"}),s.jsx("a",{className:"group flex items-center border-l-2 border-transparent px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary hover:text-primary transition-colors",href:"#contact",children:"Contact Us"})]})]}),s.jsxs("div",{className:"rounded-xl bg-slate-50 p-5 border border-slate-100 dark:bg-slate-800 dark:border-slate-700",children:[s.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Have questions?"}),s.jsx("p",{className:"text-sm text-slate-500 mb-4 leading-relaxed",children:"Our support team is available to clarify any points regarding our terms."}),s.jsxs(ve,{className:"text-sm font-bold text-primary hover:underline flex items-center gap-1",to:"/support",children:["Contact Support"," ",s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]})]})}),s.jsxs("main",{className:"lg:col-span-9 max-w-3xl",children:[s.jsxs("div",{className:"mb-12 border-b border-slate-200 pb-10 dark:border-slate-800",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-50 px-3 py-1 text-xs font-semibold text-primary mb-6",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"verified_user"}),"Legal"]}),s.jsx("h1",{className:"text-4xl font-black tracking-tight text-slate-900 dark:text-white sm:text-5xl mb-6",children:"Terms of Service"}),s.jsx("p",{className:"text-xl text-slate-500 leading-relaxed mb-4",children:"These terms explain how JobSpeak Pro works and how you can use the service responsibly. We believe in transparency and plain English."}),s.jsx("p",{className:"text-sm font-medium text-slate-400",children:"Last Updated: October 24, 2023"})]}),s.jsxs("div",{className:"space-y-16",children:[s.jsxs("section",{className:"scroll-mt-28",id:"acceptance",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base",children:"By accessing or using JobSpeak Pro, you agree to these Terms of Service. If you do not agree with any part of these terms, please do not access or use our services. Your continued use of the platform signifies your acceptance of these terms and any future modifications."})]}),s.jsxs("section",{className:"scroll-mt-28",id:"service",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"2. Description of the Service"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base mb-4",children:"JobSpeak Pro provides AI-driven tools and interactive scenarios to help users practice speaking confidently in English, specifically tailored for job interview preparation."}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-5 rounded-lg border-l-4 border-primary",children:s.jsxs("p",{className:"text-slate-700 dark:text-slate-200 text-sm font-medium",children:[s.jsx("span",{className:"font-bold text-primary block mb-1",children:"Please Note:"}),"While we aim to improve your communication skills, the service offers practice and feedback only. It does not guarantee interview results, job offers, or any specific employment outcomes."]})})]}),s.jsxs("section",{className:"scroll-mt-28",id:"eligibility",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"3. Eligibility"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base",children:"You must be at least 13 years old (or the applicable minimum age in your jurisdiction) to create an account and use JobSpeak Pro. By creating an account, you represent and warrant that you meet this age requirement and that you are responsible for complying with all local laws regarding online conduct and acceptable content."})]}),s.jsxs("section",{className:"scroll-mt-28",id:"responsibilities",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6",children:"4. User Responsibilities"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base mb-6",children:"We want JobSpeak Pro to be a safe and productive environment for everyone. By using our service, you agree to the following commitments:"}),s.jsx("ul",{className:"space-y-4",children:[{title:"Use for lawful purposes only.",body:"You will not use the service for any illegal activities or to promote illegal acts."},{title:"Provide accurate information.",body:"You agree to provide current and accurate information when registering and to keep your account information updated."},{title:"Respect the platform.",body:"You will avoid misuse, abuse, or attempts to disrupt the service, including introducing viruses or harmful code."},{title:"Content safety.",body:"You will not upload or share content that is harmful, threatening, abusive, defamatory, or offensive."}].map(e=>s.jsxs("li",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-none rounded-full bg-emerald-500/10 p-1 text-emerald-600",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"check"})}),s.jsxs("span",{className:"text-slate-700 dark:text-slate-200 leading-relaxed",children:[s.jsx("strong",{children:e.title})," ",e.body]})]},e.title))})]}),s.jsxs("section",{className:"scroll-mt-28",id:"accounts",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"5. Accounts & Access"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base mb-4",children:"Access to JobSpeak Pro may include free tiers and paid subscription plans. You are responsible for maintaining the confidentiality of your login credentials and for all activities that occur under your account."}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base",children:"While we aim to keep the service available at all times, access may be limited, suspended, or terminated if we detect serious violations of these terms. We enforce this to ensure the security and integrity of the platform for all users."})]}),s.jsxs("section",{className:"scroll-mt-28",id:"payments",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"6. Payments & Subscriptions"}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"payments"}),s.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Pricing & Renewal"})]}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Pricing is clearly shown before purchase. Subscriptions may renew automatically at the end of each billing cycle unless canceled prior to the renewal date."})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"cancel"}),s.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Cancellation & Refunds"})]}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"You can cancel your subscription at any time through your account settings. Refunds are generally not provided for partial periods unless required by applicable law."})]})]})]}),s.jsxs("section",{className:"scroll-mt-28",id:"ip",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"7. Intellectual Property"}),s.jsxs("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base mb-4",children:[s.jsx("strong",{children:"Platform Ownership:"})," JobSpeak Pro owns all rights, title, and interest in the platform, including its software, design, trademarks, and content provided by us."]}),s.jsxs("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base",children:[s.jsx("strong",{children:"Your Content:"})," You retain ownership of any content (such as audio recordings or text inputs) you submit. However, by using the service, you grant JobSpeak Pro a limited, non-exclusive permission to process, analyze, and store your content solely for the purpose of providing and improving the service to you."]})]}),s.jsxs("section",{className:"scroll-mt-28",id:"privacy",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"8. Privacy"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base",children:"Your privacy is important to us. All personal data and user content are handled in strict accordance with our Privacy Policy. We encourage you to review it to understand how your data is collected, used, and protected."}),s.jsx("div",{className:"mt-4",children:s.jsxs(ve,{className:"inline-flex items-center text-primary font-semibold hover:underline",to:"/privacy",children:["Read our Privacy Policy",s.jsx("span",{className:"material-symbols-outlined text-sm ml-1",children:"open_in_new"})]})})]}),s.jsxs("section",{className:"scroll-mt-28",id:"disclaimer",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"9. Disclaimers & Limitation of Liability"}),s.jsxs("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base mb-4",children:[s.jsx("strong",{children:"Practice Tool Only:"})," JobSpeak Pro is an educational practice tool. The feedback provided is for informational purposes only and should not be considered professional, legal, or career advice."]}),s.jsxs("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base",children:[s.jsx("strong",{children:"Liability:"})," To the maximum extent permitted by law, JobSpeak Pro shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues. Our liability is limited to the amount you paid us to use the service in the last 12 months, or as otherwise mandated by local laws."]})]}),s.jsxs("section",{className:"scroll-mt-28",id:"termination",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"10. Termination"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base",children:"You may stop using the service at any time. Similarly, JobSpeak Pro reserves the right to suspend or terminate your access to the service if you are found to be in serious or repeated violation of these terms. This measure helps us protect the integrity of the service and the safety of our user community."})]}),s.jsxs("section",{className:"scroll-mt-28 grid md:grid-cols-2 gap-8",id:"misc",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-3",children:"11. Changes to These Terms"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-sm",children:"We may update these terms occasionally to reflect changes in our service or relevant laws. We will notify you of any material changes via email or a prominent notice on the platform. Continued use of the service after such changes constitutes acceptance of the updated terms."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-3",children:"12. Governing Law"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-sm",children:"These terms shall be governed by and construed in accordance with the laws of [Jurisdiction/State], without regard to its conflict of law provisions. Any disputes arising from these terms will be handled in the competent courts of that jurisdiction."})]})]}),s.jsxs("section",{className:"scroll-mt-28 pt-8 border-t border-slate-200 dark:border-slate-800",id:"contact",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-base mb-6",children:"If you have any questions about these Terms of Service, please do not hesitate to contact our support team."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("a",{className:"inline-flex items-center justify-center h-12 px-6 rounded-lg bg-primary text-white font-bold hover:bg-blue-600 transition-colors",href:"mailto:jobspeakpro@gmail.com",children:"jobspeakpro@gmail.com"}),s.jsx(ve,{className:"inline-flex items-center justify-center h-12 px-6 rounded-lg border border-slate-200 text-slate-700 font-bold hover:bg-slate-50 transition-colors dark:border-slate-700 dark:text-white dark:hover:bg-slate-800",to:"/support",children:"Visit Help Center"})]})]})]})]})]})})]})}function tP(){const e=De(),{signin:t}=Rt(),[r,n]=p.useState(""),[a,i]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),[u,h]=p.useState(null);p.useEffect(()=>{if(u){const m=setTimeout(()=>{h(null)},6e3);return()=>clearTimeout(m)}},[u]);const f=async m=>{if(m.preventDefault(),l(""),d(!0),!r){l("Please enter your email address"),d(!1);return}try{await t(r,a);const g=localStorage.getItem("jsp_ref_code");g&&Te("/api/referrals/claim",{method:"POST",body:{referralCode:g}}).then(()=>{console.log("Referral claimed successfully on login"),localStorage.removeItem("jsp_ref_code")}).catch(y=>console.error("Auto-claim referral failed:",y)),typeof window<"u"&&typeof window.gtag=="function"&&window.gtag("event","sign_up"),h("success"),setTimeout(()=>{e("/dashboard")},500)}catch(g){l(g.message||"Something went wrong. Please try again."),d(!1)}};return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-[#111418] font-display antialiased min-h-screen flex flex-col",children:["      ",s.jsx(Ue,{}),s.jsx("main",{className:"flex-grow flex items-center justify-center p-4 sm:p-8",children:s.jsxs("div",{className:"w-full max-w-[480px] flex flex-col gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-[#1a222d] rounded-2xl shadow-xl dark:shadow-slate-900/20 border border-slate-100 dark:border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"pt-8 px-8 pb-2 text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-[#111418] dark:text-white mb-3 tracking-tight",children:"Sign in to JobSpeak Pro"}),s.jsx("p",{className:"text-[#617289] dark:text-slate-400 text-base font-normal leading-relaxed",children:"Save your practice and continue anytime."})]}),s.jsx("div",{className:"px-8 py-2",children:s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg p-4 text-sm leading-relaxed text-center border border-blue-100 dark:border-blue-800/50",children:[s.jsx("span",{className:"material-symbols-outlined align-middle mr-1 text-primary",style:{fontSize:"18px"},children:"sentiment_satisfied"}),"You can practice without pressure. Signing in simply helps you save your sessions and access features when you want."]})}),s.jsxs("div",{className:"p-8 pt-6 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("button",{onClick:()=>h("google"),className:"relative flex w-full items-center justify-center rounded-xl bg-[#f0f2f4] dark:bg-slate-800 hover:bg-[#e4e6e8] dark:hover:bg-slate-700 transition-colors h-12 px-4 text-[#111418] dark:text-white font-bold text-base tracking-[0.015em] border border-transparent focus:border-primary outline-none focus:ring-2 focus:ring-primary/20",children:[s.jsx("span",{className:"absolute left-5 flex items-center",children:s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}),s.jsx("span",{children:"Continue with Google"})]}),s.jsxs("button",{onClick:()=>h("apple"),className:"relative flex w-full items-center justify-center rounded-xl bg-[#f0f2f4] dark:bg-slate-800 hover:bg-[#e4e6e8] dark:hover:bg-slate-700 transition-colors h-12 px-4 text-[#111418] dark:text-white font-bold text-base tracking-[0.015em] border border-transparent focus:border-primary outline-none focus:ring-2 focus:ring-primary/20",children:[s.jsx("span",{className:"absolute left-5 flex items-center text-black dark:text-white",children:s.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 384 512",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 52.3-11.4 69.5-34.3z"})})}),s.jsx("span",{children:"Continue with Apple"})]})]}),s.jsxs("div",{className:"relative flex items-center py-2",children:[s.jsx("div",{className:"flex-grow border-t border-slate-200 dark:border-slate-700"}),s.jsx("span",{className:"flex-shrink-0 mx-4 text-slate-400 dark:text-slate-500 text-sm font-medium",children:"or"}),s.jsx("div",{className:"flex-grow border-t border-slate-200 dark:border-slate-700"})]}),s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:f,children:[o&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 rounded-lg p-3 text-sm border border-red-100 dark:border-red-800/50",children:o}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-[#111418] dark:text-slate-200",htmlFor:"email",children:"Email address"}),s.jsx("input",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-4 h-12 text-[#111418] dark:text-white placeholder:text-slate-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",id:"email",placeholder:"name@example.com",type:"email",value:r,onChange:m=>n(m.target.value),required:!0})]}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsxs("label",{className:"flex justify-between text-sm font-medium text-[#111418] dark:text-slate-200",htmlFor:"password",children:["Password",s.jsx("a",{className:"text-primary hover:text-blue-600 dark:hover:text-blue-400 font-normal text-xs",href:"#",onClick:m=>{m.preventDefault(),alert("Password reset not implemented yet")},children:"Forgot password?"})]}),s.jsx("input",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-4 h-12 text-[#111418] dark:text-white placeholder:text-slate-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",id:"password",placeholder:"",type:"password",value:a,onChange:m=>i(m.target.value)})]}),s.jsx("button",{className:"mt-2 w-full rounded-xl bg-primary hover:bg-blue-600 text-white font-bold h-12 px-6 transition-transform active:scale-[0.98] shadow-lg shadow-blue-500/20 disabled:opacity-60 disabled:cursor-not-allowed",type:"submit",disabled:c,children:c?"Signing in...":"Log In"})]})]}),s.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-slate-800 p-6 flex flex-col gap-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-bold text-[#111418] dark:text-white",children:"New to JobSpeak Pro?"}),s.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Create an account to save your practice across devices."})]}),s.jsx(ve,{to:"/signup",className:"shrink-0 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-[#111418] dark:text-white hover:bg-slate-50 dark:hover:bg-slate-700 text-sm font-semibold h-10 px-4 transition-colors flex items-center justify-center",children:"Create Account"})]})})]}),s.jsxs("div",{className:"text-center flex flex-col items-center gap-3",children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"You can start practicing without signing in."}),s.jsxs(ve,{to:"/start",className:"inline-flex items-center gap-2 text-primary hover:text-blue-700 dark:hover:text-blue-400 font-semibold group",children:["Start Practicing Now",s.jsx("span",{className:"material-symbols-outlined transition-transform group-hover:translate-x-1",style:{fontSize:"20px"},children:"arrow_forward"})]})]}),s.jsxs("div",{className:"mt-4 border-t border-slate-200 dark:border-slate-800 pt-6 text-center",children:[s.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mb-2",children:"We respect your privacy. Your information is used only to provide the service."}),s.jsxs("div",{className:"flex justify-center gap-4 text-xs font-medium text-slate-500 dark:text-slate-400",children:[s.jsx(ve,{to:"/privacy",className:"hover:text-primary transition-colors",children:"Privacy Policy"}),s.jsx("span",{className:"text-slate-300 dark:text-slate-700",children:""}),s.jsx(ve,{to:"/terms",className:"hover:text-primary transition-colors",children:"Terms of Service"})]})]})]})}),s.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-[20%] -left-[10%] w-[60%] h-[60%] rounded-full bg-blue-200/20 dark:bg-blue-900/10 blur-[100px]","data-alt":"Abstract soft blue gradient background"}),s.jsx("div",{className:"absolute top-[40%] -right-[10%] w-[50%] h-[50%] rounded-full bg-emerald-100/30 dark:bg-emerald-900/10 blur-[100px]","data-alt":"Abstract soft green gradient background"})]}),u==="google"&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400",children:"info"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200",children:"Google sign-in coming soon"})}),s.jsx("button",{onClick:()=>h(null),className:"ml-auto text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}),u==="apple"&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400",children:"info"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200",children:"Apple sign-in coming soon"})}),s.jsx("button",{onClick:()=>h(null),className:"ml-auto text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}),u==="success"&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-emerald-600 dark:text-emerald-400",children:"check_circle"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-emerald-900 dark:text-emerald-200",children:"Welcome back"})}),s.jsx("button",{onClick:()=>h(null),className:"ml-auto text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})})]})}function rP(){De();const{signup:e}=Rt(),[t,r]=p.useState(""),[n,a]=p.useState(""),[i,o]=p.useState(""),[l,c]=p.useState(""),[d,u]=p.useState(!1),[h,f]=p.useState(null),[m,g]=p.useState(!1);p.useEffect(()=>{if(h){const w=setTimeout(()=>{f(null)},6e3);return()=>clearTimeout(w)}},[h]);const y=async w=>{if(w.preventDefault(),c(""),u(!0),!t||!n){c("Please enter your first name and email address"),u(!1);return}try{const b=await e(n,i);b&&Le.from("profiles").upsert({id:b==null?void 0:b.id,display_name:t.trim()},{onConflict:"id"}).then(({error:j})=>{j&&console.error("Profile update error:",j)});const v=new URLSearchParams(window.location.search).get("ref")||localStorage.getItem("jsp_ref_code");v&&Te("/api/referrals/track",{method:"POST",body:{referralCode:v}}).then(()=>{console.log("Referral tracked successfully during signup"),localStorage.removeItem("jsp_ref_code")}).catch(j=>console.error("Referral track error:",j)),await Le.auth.signOut(),g(!0),f("success"),u(!1)}catch(b){console.error("Signup error:",b),b.message&&(b.message.includes("rate limit")||b.message.includes("too many requests")||b.status===429)?(c("Sign up rate limit exceeded. Please try again later. Do not retry immediately."),u(!0)):(c(b.message||"Something went wrong. Please try again."),u(!1))}};return m?s.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-[#111418] font-display antialiased min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsx("main",{className:"flex-grow flex items-center justify-center p-4 sm:p-8",children:s.jsx("div",{className:"w-full max-w-[540px] flex flex-col gap-6",children:s.jsxs("div",{className:"bg-white dark:bg-[#1a222d] rounded-2xl shadow-xl dark:shadow-slate-900/20 border border-slate-100 dark:border-slate-800 overflow-hidden p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"size-16 mx-auto mb-4 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"mail"})}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-[#111418] dark:text-white mb-3 tracking-tight",children:"Check your email"}),s.jsxs("p",{className:"text-[#617289] dark:text-slate-400 text-base font-normal leading-relaxed mb-2",children:["We've sent a confirmation link to ",s.jsx("span",{className:"font-semibold text-[#111418] dark:text-white",children:n})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-relaxed",children:"Email will be sent from Supabase (noreply@supabase.io). If you don't see it, check spam or promotions."})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg p-4 text-sm leading-relaxed border border-blue-100 dark:border-blue-800/50 mb-6",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Next steps:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[s.jsx("li",{children:"Check your email inbox (and spam folder)"}),s.jsx("li",{children:"Click the confirmation link"}),s.jsx("li",{children:"Come back here to sign in"})]})]}),s.jsx(ve,{to:"/signin",className:"w-full flex items-center justify-center rounded-xl bg-primary hover:bg-blue-600 text-white font-bold h-12 px-6 transition-colors shadow-lg shadow-blue-500/20",children:"Go to Sign In"})]})})})]}):s.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-[#111418] font-display antialiased min-h-screen flex flex-col",children:["        ",s.jsx(Ue,{}),s.jsx("main",{className:"flex-grow flex items-center justify-center p-4 sm:p-8",children:s.jsxs("div",{className:"w-full max-w-[480px] flex flex-col gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-[#1a222d] rounded-2xl shadow-xl dark:shadow-slate-900/20 border border-slate-100 dark:border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"pt-8 px-8 pb-2 text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-[#111418] dark:text-white mb-3 tracking-tight",children:"Create your JobSpeak Pro account"}),s.jsx("p",{className:"text-[#617289] dark:text-slate-400 text-base font-normal leading-relaxed",children:"Save your practice and continue anytime."})]}),s.jsx("div",{className:"px-8 py-2",children:s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg p-4 text-sm leading-relaxed text-center border border-blue-100 dark:border-blue-800/50",children:[s.jsx("span",{className:"material-symbols-outlined align-middle mr-1 text-primary",style:{fontSize:"18px"},children:"sentiment_satisfied"}),"You can practice without pressure. Signing in simply helps you save your sessions and access features when you want."]})}),s.jsxs("div",{className:"p-8 pt-6 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("button",{onClick:()=>f("google"),className:"relative flex w-full items-center justify-center rounded-xl bg-[#f0f2f4] dark:bg-slate-800 hover:bg-[#e4e6e8] dark:hover:bg-slate-700 transition-colors h-12 px-4 text-[#111418] dark:text-white font-bold text-base tracking-[0.015em] border border-transparent focus:border-primary outline-none focus:ring-2 focus:ring-primary/20",children:[s.jsx("span",{className:"absolute left-5 flex items-center",children:s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}),s.jsx("span",{children:"Continue with Google"})]}),s.jsxs("button",{onClick:()=>f("apple"),className:"relative flex w-full items-center justify-center rounded-xl bg-[#f0f2f4] dark:bg-slate-800 hover:bg-[#e4e6e8] dark:hover:bg-slate-700 transition-colors h-12 px-4 text-[#111418] dark:text-white font-bold text-base tracking-[0.015em] border border-transparent focus:border-primary outline-none focus:ring-2 focus:ring-primary/20",children:[s.jsx("span",{className:"absolute left-5 flex items-center text-black dark:text-white",children:s.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 384 512",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 52.3-11.4 69.5-34.3z"})})}),s.jsx("span",{children:"Continue with Apple"})]})]}),s.jsxs("div",{className:"relative flex items-center py-2",children:[s.jsx("div",{className:"flex-grow border-t border-slate-200 dark:border-slate-700"}),s.jsx("span",{className:"flex-shrink-0 mx-4 text-slate-400 dark:text-slate-500 text-sm font-medium",children:"or"}),s.jsx("div",{className:"flex-grow border-t border-slate-200 dark:border-slate-700"})]}),s.jsxs("form",{className:"flex flex-col gap-4",onSubmit:y,children:[l&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 rounded-lg p-3 text-sm border border-red-100 dark:border-red-800/50",children:l}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-[#111418] dark:text-slate-200",htmlFor:"firstName",children:"First name"}),s.jsx("input",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-4 h-12 text-[#111418] dark:text-white placeholder:text-slate-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",id:"firstName",placeholder:"John",type:"text",value:t,onChange:w=>r(w.target.value),required:!0})]}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-[#111418] dark:text-slate-200",htmlFor:"email",children:"Email address"}),s.jsx("input",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-4 h-12 text-[#111418] dark:text-white placeholder:text-slate-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",id:"email",placeholder:"name@example.com",type:"email",value:n,onChange:w=>a(w.target.value),required:!0})]}),s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-[#111418] dark:text-slate-200",htmlFor:"password",children:"Password"}),s.jsx("input",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-4 h-12 text-[#111418] dark:text-white placeholder:text-slate-400 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",id:"password",placeholder:"",type:"password",value:i,onChange:w=>o(w.target.value)})]}),s.jsx("button",{className:"mt-2 w-full rounded-xl bg-primary hover:bg-blue-600 text-white font-bold h-12 px-6 transition-transform active:scale-[0.98] shadow-lg shadow-blue-500/20 disabled:opacity-60 disabled:cursor-not-allowed",type:"submit",disabled:d,children:d?"Creating account...":"Create Account"})]})]}),s.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-slate-800 p-6 flex flex-col gap-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-bold text-[#111418] dark:text-white",children:"Already have an account?"}),s.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Sign in to continue your practice."})]}),s.jsx(ve,{to:"/signin",className:"shrink-0 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-[#111418] dark:text-white hover:bg-slate-50 dark:hover:bg-slate-700 text-sm font-semibold h-10 px-4 transition-colors flex items-center justify-center",children:"Sign In"})]})})]}),s.jsxs("div",{className:"text-center flex flex-col items-center gap-3",children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"You can start practicing without signing in."}),s.jsxs(ve,{to:"/start",className:"inline-flex items-center gap-2 text-primary hover:text-blue-700 dark:hover:text-blue-400 font-semibold group",children:["Start Practicing Now",s.jsx("span",{className:"material-symbols-outlined transition-transform group-hover:translate-x-1",style:{fontSize:"20px"},children:"arrow_forward"})]})]}),s.jsxs("div",{className:"mt-4 border-t border-slate-200 dark:border-slate-800 pt-6 text-center",children:[s.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mb-2",children:"We respect your privacy. Your information is used only to provide the service."}),s.jsxs("div",{className:"flex justify-center gap-4 text-xs font-medium text-slate-500 dark:text-slate-400",children:[s.jsx(ve,{to:"/privacy",className:"hover:text-primary transition-colors",children:"Privacy Policy"}),s.jsx("span",{className:"text-slate-300 dark:text-slate-700",children:""}),s.jsx(ve,{to:"/terms",className:"hover:text-primary transition-colors",children:"Terms of Service"})]})]})]})}),s.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-[20%] -left-[10%] w-[60%] h-[60%] rounded-full bg-blue-200/20 dark:bg-blue-900/10 blur-[100px]","data-alt":"Abstract soft blue gradient background"}),s.jsx("div",{className:"absolute top-[40%] -right-[10%] w-[50%] h-[50%] rounded-full bg-emerald-100/30 dark:bg-emerald-900/10 blur-[100px]","data-alt":"Abstract soft green gradient background"})]}),h==="google"&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400",children:"info"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200",children:"Google sign-in coming soon"})}),s.jsx("button",{onClick:()=>f(null),className:"ml-auto text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}),h==="apple"&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400",children:"info"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200",children:"Apple sign-in coming soon"})}),s.jsx("button",{onClick:()=>f(null),className:"ml-auto text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}),h==="success"&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-emerald-600 dark:text-emerald-400",children:"check_circle"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-emerald-900 dark:text-emerald-200",children:"Account created"})}),s.jsx("button",{onClick:()=>f(null),className:"ml-auto text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})})]})}function sP(){const e=De(),[t,r]=p.useState("Verifying..."),[n,a]=p.useState(!1);return p.useEffect(()=>{(async()=>{try{const{data:{session:o},error:l}=await Le.auth.getSession();if(l)throw l;o?(r("Welcome! Your email is verified."),a(!0),setTimeout(()=>{e("/dashboard")},7e3)):r("Verification complete  please sign in.")}catch(o){console.error("Auth callback error:",o),r("Verification issue. Please try signing in.")}})()},[e]),s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg max-w-md w-full text-center",children:[s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:s.jsx("span",{className:"material-symbols-outlined text-purple-600 dark:text-purple-400 text-3xl",children:"mark_email_read"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Redirecting to dashboard in a few seconds..."}),s.jsxs("button",{onClick:()=>window.open("/dashboard","_blank"),className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg transition-colors w-full",children:[s.jsx("span",{children:"Continue to Dashboard"}),s.jsx("span",{className:"material-symbols-outlined",children:"open_in_new"})]})]}),!n&&t.includes("sign in")&&s.jsx("button",{onClick:()=>e("/signin"),className:"mt-4 px-6 py-2 bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-white font-medium rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Sign In"})]})})}function nP(){const[e,t]=p.useState({name:"",email:"",phone:"",messagingAppType:"",messagingAppUsername:"",topic:"",message:""}),[r,n]=p.useState(!1),[a,i]=p.useState(!1),o=async l=>{l.preventDefault(),i(!0);try{await Te.post("/support/contact",{name:e.name,email:e.email,subject:e.topic,message:e.message}),n("success"),i(!1),t({name:"",email:"",phone:"",messagingAppType:"",messagingAppUsername:"",topic:"",message:""}),setTimeout(()=>n(!1),3e3)}catch(c){console.error("Contact submit error:",c),n(!0),i(!1)}};return s.jsxs("div",{className:"font-display antialiased text-slate-900 dark:text-white bg-background-light dark:bg-background-dark",children:[s.jsxs("div",{className:"relative flex flex-col min-h-screen w-full overflow-x-hidden",children:[s.jsx(Ue,{}),s.jsx("main",{className:"flex-grow layout-container flex flex-col items-center py-10 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"w-full max-w-6xl flex flex-col gap-10",children:[s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 dark:bg-primary/20 text-primary px-4 py-1.5 rounded-full text-sm font-medium",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"info"}),s.jsx("span",{children:"Need help? Send us a message."})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-black leading-tight tracking-[-0.033em] text-slate-900 dark:text-white",children:"Contact us"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg font-normal leading-normal mt-3",children:"We usually respond within 24 hours."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsx("div",{className:"lg:col-span-7 flex flex-col",children:s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 p-6 md:p-8 flex-1",children:s.jsxs("form",{className:"flex flex-col gap-6",onSubmit:o,children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("label",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-base font-medium text-slate-900 dark:text-slate-100",children:"Full name"}),s.jsx("input",{className:"form-input w-full rounded-xl border-slate-300 dark:border-slate-500 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:border-primary focus:ring-primary ring-1 ring-slate-200 dark:ring-slate-700 h-12 px-4 placeholder:text-slate-400",placeholder:"Jane Doe",type:"text",value:e.name,onChange:l=>t({...e,name:l.target.value}),required:!0})]}),s.jsxs("label",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-base font-medium text-slate-900 dark:text-slate-100",children:"Email"}),s.jsx("input",{className:"form-input w-full rounded-xl border-slate-300 dark:border-slate-500 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:border-primary focus:ring-primary ring-1 ring-slate-200 dark:ring-slate-700 h-12 px-4 placeholder:text-slate-400",placeholder:"jane@example.com",type:"email",value:e.email,onChange:l=>t({...e,email:l.target.value}),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("label",{className:"flex flex-col gap-2",children:[s.jsxs("span",{className:"text-base font-medium text-slate-900 dark:text-slate-100",children:["Phone number",s.jsx("span",{className:"text-slate-400 dark:text-slate-500 font-normal text-sm ml-1",children:"(Optional)"})]}),s.jsx("input",{className:"form-input w-full rounded-xl border-slate-300 dark:border-slate-500 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:border-primary focus:ring-primary ring-1 ring-slate-200 dark:ring-slate-700 h-12 px-4 placeholder:text-slate-400",placeholder:"+1 (555) 000-0000",type:"tel",value:e.phone,onChange:l=>t({...e,phone:l.target.value})})]}),s.jsxs("label",{className:"flex flex-col gap-2",children:[s.jsxs("span",{className:"text-base font-medium text-slate-900 dark:text-slate-100",children:["Messaging App Type",s.jsx("span",{className:"text-slate-400 dark:text-slate-500 font-normal text-sm ml-1",children:"(Optional)"})]}),s.jsx("div",{className:"relative",children:s.jsxs("select",{className:"form-select w-full rounded-xl border-slate-300 dark:border-slate-500 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:border-primary focus:ring-primary ring-1 ring-slate-200 dark:ring-slate-700 h-12 px-4 pr-10 appearance-none",value:e.messagingAppType,onChange:l=>t({...e,messagingAppType:l.target.value}),children:[s.jsx("option",{disabled:!0,value:"",children:"Select app..."}),s.jsx("option",{value:"line",children:"Line"}),s.jsx("option",{value:"wechat",children:"WeChat"}),s.jsx("option",{value:"whatsapp",children:"WhatsApp"}),s.jsx("option",{value:"other",children:"Other"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("label",{className:"flex flex-col gap-2",children:[s.jsxs("span",{className:"text-base font-medium text-slate-900 dark:text-slate-100",children:["Messaging App Username",s.jsx("span",{className:"text-slate-400 dark:text-slate-500 font-normal text-sm ml-1",children:"(Optional)"})]}),s.jsx("input",{className:"form-input w-full rounded-xl border-slate-300 dark:border-slate-500 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:border-primary focus:ring-primary ring-1 ring-slate-200 dark:ring-slate-700 h-12 px-4 placeholder:text-slate-400",placeholder:"Your username",type:"text",value:e.messagingAppUsername,onChange:l=>t({...e,messagingAppUsername:l.target.value})})]}),s.jsxs("label",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-base font-medium text-slate-900 dark:text-slate-100",children:"Topic"}),s.jsx("div",{className:"relative",children:s.jsxs("select",{className:"form-select w-full rounded-xl border-slate-300 dark:border-slate-500 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:border-primary focus:ring-primary ring-1 ring-slate-200 dark:ring-slate-700 h-12 px-4 pr-10 appearance-none",value:e.topic,onChange:l=>t({...e,topic:l.target.value}),required:!0,children:[s.jsx("option",{disabled:!0,value:"",children:"Select a topic..."}),s.jsx("option",{value:"billing",children:"Billing & Subscriptions"}),s.jsx("option",{value:"technical",children:"Technical Issue"}),s.jsx("option",{value:"feedback",children:"Feedback & Suggestions"}),s.jsx("option",{value:"partnership",children:"Partnership"}),s.jsx("option",{value:"other",children:"Other"})]})})]})]}),s.jsxs("label",{className:"flex flex-col gap-2 flex-1",children:[s.jsx("span",{className:"text-base font-medium text-slate-900 dark:text-slate-100",children:"Message"}),s.jsx("textarea",{className:"form-textarea w-full rounded-xl border-slate-300 dark:border-slate-500 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:border-primary focus:ring-primary ring-1 ring-slate-200 dark:ring-slate-700 min-h-[160px] p-4 placeholder:text-slate-400 resize-none",placeholder:"How can we help you today?",value:e.message,onChange:l=>t({...e,message:l.target.value}),required:!0})]}),s.jsxs("div",{className:"pt-2 flex flex-col gap-3",children:[s.jsx("button",{className:"w-full bg-primary hover:bg-blue-600 text-white font-bold rounded-xl h-12 text-base transition-colors shadow-md shadow-blue-500/20 disabled:opacity-60 disabled:cursor-not-allowed",type:"submit",disabled:a,children:a?"Sending...":"Send message"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:"By submitting, you agree to be contacted about your request."})]})]})})}),s.jsx("div",{className:"lg:col-span-5 flex flex-col",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-100 dark:border-slate-700 p-6 md:p-8 h-full flex flex-col gap-8",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"support_agent"}),"Support"]}),s.jsxs("div",{className:"bg-background-light dark:bg-slate-700/50 rounded-xl p-4 flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 rounded-full bg-white dark:bg-slate-600 flex items-center justify-center text-primary shadow-sm",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"mail"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium uppercase tracking-wider",children:"Email"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"jobspeakpro@gmail.com"})]})]}),s.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-600 w-full"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-8 rounded-full bg-white dark:bg-slate-600 flex items-center justify-center text-primary shadow-sm",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"schedule"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium uppercase tracking-wider",children:"Response time"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Within 24 hours"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 items-start p-4 rounded-xl border border-primary/20 bg-primary/5",children:[s.jsx("span",{className:"material-symbols-outlined text-primary shrink-0 mt-0.5",children:"receipt_long"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"Billing Questions?"}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:["Questions about upgrades or receipts? Choose ",s.jsx("span",{className:"font-bold text-primary",children:"Billing"})," in the topic dropdown."]})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 mt-auto",children:[s.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-white",children:"FAQ quick links"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(ve,{to:"/help#cancel",className:"group flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-600",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 group-hover:text-primary",children:"How do I cancel?"}),s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-lg group-hover:translate-x-1 transition-transform",children:"chevron_right"})]}),s.jsxs(ve,{to:"/help#progress",className:"group flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-600",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 group-hover:text-primary",children:"Do I lose progress if I downgrade?"}),s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-lg group-hover:translate-x-1 transition-transform",children:"chevron_right"})]}),s.jsxs(ve,{to:"/help#microphone",className:"group flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-600",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 group-hover:text-primary",children:"Microphone issues troubleshooting"}),s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-lg group-hover:translate-x-1 transition-transform",children:"chevron_right"})]})]})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 sm:gap-12 pb-8 border-t border-slate-200 dark:border-slate-800 pt-8",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"lock"}),s.jsx("span",{className:"text-sm font-medium",children:"Secure communication"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"support_agent"}),s.jsx("span",{className:"text-sm font-medium",children:"Support included"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"calendar_today"}),s.jsx("span",{className:"text-sm font-medium",children:"Cancel anytime"})]})]})]})})]}),r&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-emerald-600 dark:text-emerald-400",children:"check_circle"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-emerald-900 dark:text-emerald-200",children:"Message saved"}),s.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:"We'll get back to you soon!"})]}),s.jsx("button",{onClick:()=>n(!1),className:"ml-auto text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})})]})}function aP(){const e=lr(),t=De();p.useEffect(()=>{if(e.hash){const w=e.hash.replace("#",""),b=document.getElementById(w);b&&setTimeout(()=>{b.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[e.hash]);const[r,n]=se.useState(!1),[a,i]=se.useState("idle"),[o,l]=se.useState(""),[c,d]=se.useState(0),u=se.useRef(null),h=se.useRef(null),f=se.useRef(null),m=se.useRef(null),g=async()=>{n(!0),i("listening"),l("");try{const w=await navigator.mediaDevices.getUserMedia({audio:!0});u.current=new(window.AudioContext||window.webkitAudioContext),h.current=u.current.createAnalyser(),f.current=u.current.createMediaStreamSource(w),f.current.connect(h.current),h.current.fftSize=256;const b=h.current.frequencyBinCount,x=new Uint8Array(b),v=()=>{if(!h.current)return;h.current.getByteFrequencyData(x);let j=0;for(let k=0;k<b;k++)j+=x[k];const N=j/b;d(N),m.current=requestAnimationFrame(v)};v()}catch(w){console.error("Mic Error:",w),i("error"),l(w.message||"Could not access microphone.")}},y=()=>{u.current&&u.current.close(),m.current&&cancelAnimationFrame(m.current),n(!1),i("idle"),d(0),f.current&&f.current.mediaStream&&f.current.mediaStream.getTracks().forEach(w=>w.stop())};return p.useEffect(()=>()=>{u.current&&u.current.state!=="closed"&&u.current.close(),m.current&&cancelAnimationFrame(m.current)},[]),s.jsxs("div",{className:"relative flex min-h-screen w-full flex-col bg-background-light dark:bg-background-dark font-display",children:[s.jsx(Ue,{}),s.jsx("div",{className:"px-4 md:px-10 lg:px-20 xl:px-40 flex flex-1 justify-center py-5",children:s.jsxs("div",{className:"flex flex-col max-w-[1200px] flex-1",children:[s.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4 mb-4",children:s.jsxs("div",{className:"flex min-w-72 flex-col gap-3",children:[s.jsx("h1",{className:"text-slate-900 dark:text-white text-4xl font-black leading-tight tracking-[-0.033em]",children:"Help & FAQ"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-base font-normal leading-normal",children:"Quick answers to common questions."})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 px-4",children:[s.jsx("div",{className:"lg:col-span-4",children:s.jsx("div",{className:"sticky top-24 flex flex-col gap-4",children:s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:s.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold",children:"Quick Links"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("a",{className:"flex items-center gap-4 bg-white dark:bg-[#1A222C] px-4 py-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border-b border-slate-200 dark:border-slate-800 last:border-0 group cursor-pointer",href:"#cancel",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"text-slate-900 dark:text-white flex items-center justify-center rounded-lg bg-slate-100 dark:bg-slate-800 shrink-0 size-10 group-hover:bg-primary/10 group-hover:text-primary transition-colors",children:s.jsx("span",{className:"material-symbols-outlined",children:"cancel"})}),s.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-medium leading-normal flex-1 truncate",children:"How do I cancel?"})]}),s.jsx("div",{className:"shrink-0 text-slate-600 dark:text-slate-400",children:s.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})})]}),s.jsxs("a",{className:"flex items-center gap-4 bg-white dark:bg-[#1A222C] px-4 py-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border-b border-slate-200 dark:border-slate-800 last:border-0 group cursor-pointer",href:"#progress",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"text-slate-900 dark:text-white flex items-center justify-center rounded-lg bg-slate-100 dark:bg-slate-800 shrink-0 size-10 group-hover:bg-primary/10 group-hover:text-primary transition-colors",children:s.jsx("span",{className:"material-symbols-outlined",children:"trending_down"})}),s.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-medium leading-normal flex-1 truncate",children:"Downgrading progress"})]}),s.jsx("div",{className:"shrink-0 text-slate-600 dark:text-slate-400",children:s.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})})]}),s.jsxs("a",{className:"flex items-center gap-4 bg-white dark:bg-[#1A222C] px-4 py-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border-b border-slate-200 dark:border-slate-800 last:border-0 group cursor-pointer",href:"#microphone",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"text-slate-900 dark:text-white flex items-center justify-center rounded-lg bg-slate-100 dark:bg-slate-800 shrink-0 size-10 group-hover:bg-primary/10 group-hover:text-primary transition-colors",children:s.jsx("span",{className:"material-symbols-outlined",children:"mic"})}),s.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-medium leading-normal flex-1 truncate",children:"Mic troubleshooting"})]}),s.jsx("div",{className:"shrink-0 text-slate-600 dark:text-slate-400",children:s.jsx("span",{className:"material-symbols-outlined",children:"chevron_right"})})]})]})]})})}),s.jsxs("div",{className:"lg:col-span-8 flex flex-col gap-8 pb-20",children:[s.jsx("section",{className:"scroll-mt-24",id:"cancel",children:s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] rounded-lg p-6 md:p-8 shadow-sm border border-slate-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"cancel_schedule_send"}),s.jsx("h2",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:"How do I cancel?"})]}),s.jsx("p",{className:"text-slate-900 dark:text-white text-base leading-relaxed mb-6",children:"You can cancel anytime from your Billing page. Your subscription remains active until the end of your billing period. You won't be charged again after canceling."}),s.jsx("button",{onClick:()=>t("/pricing"),className:"flex items-center justify-center rounded-xl bg-primary px-6 py-3 text-sm font-bold leading-normal tracking-[0.015em] text-white hover:bg-blue-600 transition-colors",children:"Go to Billing"})]})}),s.jsx("section",{className:"scroll-mt-24",id:"progress",children:s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] rounded-lg p-6 md:p-8 shadow-sm border border-slate-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"save_as"}),s.jsx("h2",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:"Do I lose progress if I downgrade?"})]}),s.jsx("p",{className:"text-slate-900 dark:text-white text-base leading-relaxed mb-6",children:"Your saved practice and mock interview history stays in your account. Some Pro-only features may be locked if you downgrade."}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-primary p-4 rounded-r-lg mb-2",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"lightbulb"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-900 dark:text-white font-bold text-sm mb-1",children:"Tip"}),s.jsx("p",{className:"text-slate-900 dark:text-white text-sm",children:"Export or screenshot summaries if you want offline copies."})]})]})})]})}),s.jsx("section",{className:"scroll-mt-24",id:"microphone",children:s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] rounded-lg p-6 md:p-8 shadow-sm border border-slate-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"mic_off"}),s.jsx("h2",{className:"text-slate-900 dark:text-white text-2xl font-bold",children:"Microphone troubleshooting"})]}),s.jsxs("div",{className:"flex flex-col gap-4 mb-8",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 shrink-0 mt-0.5",children:"check_circle"}),s.jsx("p",{className:"text-slate-900 dark:text-white text-base",children:"Allow microphone permission in browser."})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 shrink-0 mt-0.5",children:"check_circle"}),s.jsx("p",{className:"text-slate-900 dark:text-white text-base",children:"Select the correct input device in OS settings."})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 shrink-0 mt-0.5",children:"check_circle"}),s.jsx("p",{className:"text-slate-900 dark:text-white text-base",children:"Try Chrome/Edge if Safari blocks permissions."})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 shrink-0 mt-0.5",children:"check_circle"}),s.jsx("p",{className:"text-slate-900 dark:text-white text-base",children:"Refresh the page after granting permission."})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 shrink-0 mt-0.5",children:"check_circle"}),s.jsx("p",{className:"text-slate-900 dark:text-white text-base",children:"Close other apps using the microphone (Zoom, Teams)."})]})]}),r?s.jsxs("div",{className:"rounded-xl bg-slate-50 dark:bg-slate-900 p-4 border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in duration-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[a==="error"?s.jsx("span",{className:"material-symbols-outlined text-red-500",children:"error"}):s.jsx("span",{className:"material-symbols-outlined text-green-500",children:"check_circle"}),a==="error"?"Microphone Error":"Microphone Active"]}),s.jsx("button",{onClick:y,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),a==="error"?s.jsx("p",{className:"text-red-500 text-sm mb-2",children:o}):s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Speak now to test your input level."}),s.jsx("div",{className:"h-4 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 transition-all duration-[50ms]",style:{width:`${Math.min(100,c/50*100)}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[s.jsx("span",{children:"Low"}),s.jsx("span",{children:c>10?"Input Detected ":"..."}),s.jsx("span",{children:"High"})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{onClick:y,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Stop Test"})})]}):s.jsxs("button",{onClick:g,className:"flex items-center justify-center rounded-xl bg-slate-100 dark:bg-slate-800 px-6 py-3 text-sm font-bold leading-normal tracking-[0.015em] text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors border border-transparent hover:border-slate-300 dark:hover:border-slate-600",children:[s.jsx("span",{className:"material-symbols-outlined mr-2",children:"mic"}),"Run mic test"]})]})}),s.jsx("section",{children:s.jsxs("div",{className:"bg-slate-900 dark:bg-slate-950 rounded-lg p-6 md:p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Still need help?"}),s.jsx("p",{className:"text-gray-300",children:"Contact our support team directly."}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-primary",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"mail"}),s.jsx("span",{className:"font-medium",children:"jobspeakpro@gmail.com"})]})]}),s.jsx("button",{onClick:()=>t("/contact"),className:"shrink-0 rounded-xl bg-primary px-6 py-3 text-sm font-bold text-white hover:bg-blue-500 transition-colors",children:"Contact Support"})]}),s.jsx("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-gradient-to-l from-primary/20 to-transparent pointer-events-none"})]})})]})]})]})})]})}function iP(){const e=De(),{user:t,logout:r,isAuthed:n,updateUser:a}=Rt(),{isPro:i,refreshProStatus:o}=ps(),[l,c]=p.useState(""),[d,u]=p.useState(!1),[h,f]=p.useState(!1),[m,g]=p.useState(""),[y,w]=p.useState(!1);if(p.useEffect(()=>{if(h){const S=setTimeout(()=>{f(!1)},3e3);return()=>clearTimeout(S)}},[h]),!n||!t)return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white min-h-screen flex flex-col antialiased selection:bg-primary/20 selection:text-primary",children:[s.jsx(Ue,{}),s.jsx("main",{className:"flex-grow w-full max-w-3xl mx-auto px-4 sm:px-6 py-8 md:py-12",children:s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm p-8 text-center",children:[s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Please sign in to view your profile."}),s.jsx(ve,{to:"/signin",className:"inline-flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-primary hover:bg-blue-600 border border-transparent rounded-lg transition-all",children:"Sign In"})]})})]});const b=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{if(!(await fetch("/api/account",{method:"DELETE",headers:{Authorization:`Bearer ${(t==null?void 0:t.access_token)||""}`}})).ok)throw new Error("Failed to delete account");await Le.auth.signOut(),localStorage.removeItem("jsp_onboarding_complete_v1"),localStorage.removeItem("jsp_practice_questions_used"),localStorage.removeItem("jsp_seen_questions");const L=[];for(let C=0;C<localStorage.length;C++){const W=localStorage.key(C);W&&(W.startsWith("jsp_")||W.startsWith("jobspeak_"))&&L.push(W)}L.forEach(C=>localStorage.removeItem(C)),r(),e("/")}catch(S){console.error("Account deletion error:",S),alert("Failed to delete account. Please try again or contact support.")}},x=async S=>{var C;const L=(C=S.target.files)==null?void 0:C[0];if(!(!L||!t)){if(!L.type.startsWith("image/")){f(!0);return}if(L.size>2*1024*1024){f(!0);return}w(!0);try{const W=L.name.split(".").pop(),_e=`${t.id}/avatar.${W}`,{error:ue}=await Le.storage.from("avatars").upload(_e,L,{upsert:!0});if(ue)throw ue;const{data:{publicUrl:Ee}}=Le.storage.from("avatars").getPublicUrl(_e),{error:je}=await Le.from("profiles").update({avatar_url:Ee}).eq("id",t.id);if(je)throw je;g(Ee),f(!0)}catch(W){console.error("Avatar upload error:",W),f(!0)}finally{w(!1)}}},[v,j]=p.useState({job_title:"",seniority:"Mid",focus_areas:[],industry:"",difficulty:"Normal"});p.useEffect(()=>{t!=null&&t.id&&Le.from("profiles").select("display_name, job_title, seniority, focus_areas, industry, difficulty, avatar_url").eq("id",t.id).single().then(({data:S,error:L})=>{S&&(c(S.display_name||""),g(S.avatar_url||""),j({job_title:S.job_title||"",seniority:S.seniority||"Mid",focus_areas:S.focus_areas||[],industry:S.industry||"",difficulty:S.difficulty||"Normal"}))})},[t]);const N=(S,L)=>{j(C=>({...C,[S]:L}))},k=async()=>{if(t)try{const{error:S}=await Le.from("profiles").update({...v,display_name:l}).eq("id",t.id);if(S)throw S;f(!0)}catch(S){console.error("Profile save failed",S),f(!0)}},E=S=>{c(S)};return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white min-h-screen flex flex-col antialiased selection:bg-primary/20 selection:text-primary",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-grow w-full max-w-3xl mx-auto px-4 sm:px-6 py-8 md:py-12",children:[s.jsxs("div",{className:"mb-10",children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2 tracking-tight",children:"Profile"}),s.jsx("p",{className:"text-lg text-slate-500 dark:text-slate-400 font-normal",children:"Manage your account and preferences."})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{className:"bg-white dark:bg-[#1A222C] rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-800 flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"work"}),s.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Professional Profile"})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Title"}),s.jsx("input",{type:"text",value:v.job_title,onChange:S=>N("job_title",S.target.value),className:"block w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800/50 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm py-2.5 px-3",placeholder:"e.g. Product Manager"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Seniority"}),s.jsx("select",{value:v.seniority,onChange:S=>N("seniority",S.target.value),className:"block w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800/50 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm py-2.5 px-3",children:["Intern/Student","Entry","Mid","Senior","Manager","Executive","Other"].map(S=>s.jsx("option",{value:S,children:S},S))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Industry"}),s.jsx("input",{type:"text",value:v.industry,onChange:S=>N("industry",S.target.value),className:"block w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800/50 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm py-2.5 px-3",placeholder:"e.g. Tech"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Difficulty"}),s.jsx("select",{value:v.difficulty,onChange:S=>N("difficulty",S.target.value),className:"block w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800/50 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm py-2.5 px-3",children:["Easy","Normal","Hard"].map(S=>s.jsx("option",{value:S,children:S},S))}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Controls prompt complexity."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Focus Areas"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Behavioral","Technical","Communication/Clarity","Confidence","Leadership","Storytelling (STAR)","Mixed / All"].map(S=>{const L=v.focus_areas.includes(S)||S==="Mixed / All"&&v.focus_areas.includes("Mixed / General");return s.jsx("button",{type:"button",onClick:()=>{let C=[...v.focus_areas];C=C.filter(W=>W!=="Mixed / General"),L?C=C.filter(W=>W!==S):C.push(S),N("focus_areas",C)},className:`px-3 py-1.5 rounded-full text-xs font-medium border transition-colors ${L?"bg-primary text-white border-primary":"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:border-primary/50"}`,children:S},S)})})]})]})]}),s.jsxs("section",{className:"bg-white dark:bg-[#1A222C] rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-800 flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"person"}),s.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Account Information"})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"size-24 rounded-full overflow-hidden bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:m?s.jsx("img",{src:m,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-400",children:"person"})}),y&&s.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 font-medium rounded-lg cursor-pointer transition-colors text-sm",children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"upload"}),"Upload Photo",s.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden",disabled:y})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"JPG, PNG or GIF. Max 2MB."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Display Name"}),s.jsx("input",{className:"block w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800/50 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary sm:text-sm py-2.5 px-3",type:"text",value:l,onChange:S=>E(S.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email Address"}),s.jsx("input",{className:"block w-full rounded-lg border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-500 dark:text-slate-400 shadow-sm focus:border-primary focus:ring-primary sm:text-sm py-2.5 px-3 cursor-not-allowed",readOnly:!0,type:"email",value:t.email||""}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Email is managed by your login provider and can't be edited here yet."})]})]})]})]}),s.jsxs("section",{className:"bg-white dark:bg-[#1A222C] rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-800 flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"credit_card"}),s.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Subscription"})]}),s.jsxs("div",{className:"p-6 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("span",{className:"text-base font-medium text-slate-900 dark:text-white",children:"Current Plan"}),i===!0?s.jsx("span",{className:"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20 dark:bg-green-900/30 dark:text-green-400",children:"Pro"}):s.jsx("span",{className:"inline-flex items-center rounded-md bg-slate-50 px-2 py-1 text-xs font-medium text-slate-600 ring-1 ring-inset ring-slate-500/10 dark:bg-slate-400/10 dark:text-slate-400",children:"Free"})]}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:i===!0?"Unlimited practice sessions and advanced feedback.":"Limited daily practice sessions. Upgrade for unlimited access."})]}),s.jsx(ve,{to:"/pricing",className:"text-sm font-semibold text-primary hover:text-blue-700 dark:hover:text-blue-400 hover:underline",children:i===!0?"Manage Billing":"Upgrade to Pro"})]})]}),s.jsxs("div",{className:"pt-6 pb-20 flex flex-col sm:flex-row justify-between items-center gap-4 border-t border-slate-200 dark:border-slate-800 mt-8",children:[s.jsx("button",{onClick:k,className:"px-6 py-2.5 bg-primary hover:bg-primary-hover text-white font-semibold rounded-lg transition-colors shadow-sm",children:"Save Changes"}),s.jsx("button",{onClick:b,className:"text-sm font-medium text-red-600 dark:text-red-400 hover:underline px-4 py-2",children:"Delete Account"})]}),h&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-emerald-600 dark:text-emerald-400",children:"check_circle"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-emerald-900 dark:text-emerald-200",children:"Settings saved"}),s.jsx("p",{className:"text-xs text-emerald-700 dark:text-emerald-300",children:"Your preferences have been updated."})]}),s.jsx("button",{onClick:()=>f(!1),className:"ml-auto text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})}),d&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 rounded-lg px-4 py-3 shadow-lg max-w-md",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-amber-600 dark:text-amber-400",children:"info"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-amber-900 dark:text-amber-200",children:"Account deletion not implemented yet"})}),s.jsx("button",{onClick:()=>u(!1),className:"ml-auto text-amber-600 dark:text-amber-400 hover:text-amber-800 dark:hover:text-amber-200",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})})]})]})]})}function kv(){const e=De(),[t,r]=p.useState(null),[n,a]=p.useState(!0),[i,o]=p.useState(!1);p.useEffect(()=>{(async()=>{var u;try{const h="https://jobspeak-backend-production.up.railway.app",{data:f}=await Le.auth.getSession(),m=(u=f==null?void 0:f.session)==null?void 0:u.access_token,g=await fetch(`${h}/api/mock-interview/limit-status`,{method:"GET",credentials:"include",headers:m?{Authorization:`Bearer ${m}`}:void 0});if(g.ok){const y=await g.json();r(y)}}catch(h){console.error("[MOCK] Limit check failed:",h)}finally{a(!1)}})()},[]);const l=()=>{if(t){if(t.isGuest){e("/signup");return}if(t.blocked||!t.canStartMock){o(!0);return}e("/mock-interview/session?type=short")}},c=()=>{e("/pricing")};return s.jsxs(s.Fragment,{children:[s.jsx("section",{onClick:l,className:"bg-gradient-to-br from-purple-50 to-white dark:from-purple-900/10 dark:to-[#1A222C] rounded-xl border border-purple-200 dark:border-purple-900/30 shadow-sm overflow-hidden cursor-pointer hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6 flex flex-col sm:flex-row items-start sm:items-center gap-6",children:[s.jsx("div",{className:"size-16 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"material-symbols-outlined text-purple-600 dark:text-purple-400 text-3xl",children:"video_call"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Ready for a Mock Interview?"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Practice builds skills. Mock interviews test readiness. Choose between a quick warmup or deep dive."}),!n&&(t==null?void 0:t.blocked)&&s.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3 mb-4",children:(()=>{const d=new Date,u=t.nextAllowedAt?new Date(t.nextAllowedAt):null;if(!u)return s.jsx("p",{className:"text-sm font-semibold text-amber-900 dark:text-amber-200",children:"Next free mock: check back later"});const h=Math.ceil((u-d)/(1e3*60*60*24)),f=u.toLocaleDateString("en-US",{weekday:"long"}),m=u.toLocaleDateString("en-US",{month:"short"}),g=u.getDate(),y=`${f}, ${m} ${g}`,w=h>1?`In ${h} days`:h===1?"Tomorrow":"Available soon";return s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold text-amber-900 dark:text-amber-200",children:["Next free mock: ",y]}),s.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-300 mt-1",children:[w,". Unlock unlimited with Pro."]})]})})()}),s.jsxs("div",{className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg transition-colors shadow-md",children:[s.jsx("span",{className:"material-symbols-outlined",children:t!=null&&t.isGuest?"person_add":t!=null&&t.blocked||!(t!=null&&t.canStartMock)?"workspace_premium":"play_arrow"}),n?"Checking...":t!=null&&t.isGuest?"Create Free Account":t!=null&&t.blocked||!(t!=null&&t.canStartMock)?"Unlock with Pro":"Start Mock Interview"]}),!n&&(t==null?void 0:t.isGuest)&&s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-500 mt-2",children:"Sign up to get 1 free mock interview"}),!n&&!(t!=null&&t.isGuest)&&(t==null?void 0:t.canStartMock)&&!(t!=null&&t.blocked)&&s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:["Free Trial: 1 mock interview per week",s.jsx("br",{}),"Upgrade for unlimited practice"]})]})]})}),i&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] rounded-xl shadow-2xl max-w-md w-full p-6 border border-slate-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"size-12 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"material-symbols-outlined text-purple-600 dark:text-purple-400 text-2xl",children:"workspace_premium"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Free Limit Reached"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:(t==null?void 0:t.message)||"You've used your free mock interview for this week."})]})]}),s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4 mb-6",children:[(()=>{const d=new Date,u=t!=null&&t.nextAllowedAt?new Date(t.nextAllowedAt):null;if(!u)return s.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Check back later for your next free mock."});const h=Math.ceil((u-d)/(1e3*60*60*24)),f=u.toLocaleDateString("en-US",{weekday:"long"}),m=u.toLocaleDateString("en-US",{month:"short"}),g=u.getDate(),y=`${f}, ${m} ${g}`,w=h>1?`In ${h} days`:h===1?"Tomorrow":"Available soon";return s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-600 dark:text-slate-400 text-lg mt-0.5",children:"schedule"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:["Next free mock: ",y]}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:w})]})]})})(),!(t!=null&&t.nextAllowedAt)&&!(t!=null&&t.resetInDays)&&s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 ml-7",children:"Error: Missing reset information. Please contact support."})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3",children:"With Pro, you get:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-400",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:""}),s.jsx("span",{children:"Unlimited mock interviews"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-400",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:""}),s.jsx("span",{children:"Detailed AI feedback on every answer"})]}),s.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-400",children:[s.jsx("span",{className:"text-green-500 mt-0.5",children:""}),s.jsx("span",{children:"Private recording library"})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("button",{onClick:c,className:"w-full px-6 py-3 bg-primary hover:bg-blue-700 text-white font-bold rounded-lg transition-colors shadow-md flex items-center justify-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"workspace_premium"}),"Unlock with Pro"]}),s.jsx("button",{onClick:()=>o(!1),className:"w-full px-6 py-3 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white font-medium rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Close"})]})]})})]})}function oP(){const[e,t]=p.useState("Idle"),[r,n]=p.useState(""),[a,i]=p.useState(!1),[o,l]=p.useState(""),[c,d]=p.useState(!0),u=p.useRef(null),h=p.useRef(null),f=p.useRef([]),m=p.useRef(null);p.useEffect(()=>{const x=typeof navigator<"u"&&!!navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"&&typeof window<"u"&&typeof window.MediaRecorder<"u";return d(x),()=>{g()}},[]);function g(){if(m.current&&(clearTimeout(m.current),m.current=null),h.current&&h.current.state!=="inactive")try{h.current.stop()}catch{}if(h.current=null,u.current){try{u.current.getTracks().forEach(x=>x.stop())}catch{}u.current=null}}function y(x){const v=x&&(x.message||x.name)||String(x);return v.includes("NotAllowedError")||v.includes("Permission")?"Microphone permission blocked. Please allow mic access in your browser site settings and try again.":v.includes("NotFoundError")||v.includes("DevicesNotFound")?"No microphone detected. Plug in a mic (or enable one) and try again.":v.includes("NotReadableError")?"Your microphone is in use by another app (Zoom/Meet/etc). Close it and try again.":v.includes("SecurityError")?"Microphone access requires a secure context (HTTPS) or localhost.":v}async function w(){if(n(""),l(""),t("Requesting microphone"),!c){n("Your browser doesn't support microphone recording (MediaRecorder). Try Chrome/Edge."),t("Unsupported");return}if(typeof window<"u"){const x=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";if(!window.isSecureContext&&!x){n("Microphone access requires HTTPS (or localhost)."),t("Blocked");return}}try{const x=await navigator.mediaDevices.getUserMedia({audio:!0});u.current=x,f.current=[];const v=new MediaRecorder(x);h.current=v,v.ondataavailable=j=>{j.data&&j.data.size>0&&f.current.push(j.data)},v.onstart=()=>{i(!0),t("Recording (3 seconds)")},v.onstop=()=>{i(!1),t("Processing");const j=new Blob(f.current,{type:v.mimeType||"audio/webm"}),N=URL.createObjectURL(j);l(N),t("Done  press Play to confirm your audio"),g()},v.start(),m.current=setTimeout(()=>{try{v.stop()}catch{}},3e3)}catch(x){i(!1),n(y(x)),t("Failed"),g()}}function b(){if(n(""),h.current&&h.current.state!=="inactive")try{h.current.stop()}catch{}}return s.jsxs("div",{style:{border:"1px solid rgba(0,0,0,0.08)",borderRadius:14,padding:18,background:"white",boxShadow:"0 1px 8px rgba(0,0,0,0.04)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:6},children:"Mic & Audio Test"}),s.jsx("div",{style:{fontSize:13,opacity:.75},children:"Before you start, confirm your microphone works. We'll record ~3 seconds and play it back."})]}),s.jsxs("div",{style:{display:"flex",gap:10},children:[s.jsx("button",{onClick:w,disabled:a,style:{padding:"10px 14px",borderRadius:10,border:"1px solid rgba(0,0,0,0.12)",background:a?"rgba(0,0,0,0.06)":"#2563eb",color:a?"rgba(0,0,0,0.55)":"white",cursor:a?"not-allowed":"pointer",fontWeight:600},children:a?"Recording":"Test Microphone"}),s.jsx("button",{onClick:b,disabled:!a,style:{padding:"10px 14px",borderRadius:10,border:"1px solid rgba(0,0,0,0.12)",background:a?"white":"rgba(0,0,0,0.06)",color:"rgba(0,0,0,0.75)",cursor:a?"pointer":"not-allowed",fontWeight:600},children:"Stop"})]})]}),s.jsxs("div",{style:{marginTop:12,fontSize:13},children:[s.jsxs("div",{style:{opacity:.8},children:[s.jsx("strong",{children:"Status:"})," ",e]}),r?s.jsx("div",{style:{marginTop:10,color:"#b91c1c",background:"rgba(185,28,28,0.06)",padding:10,borderRadius:10},children:r}):null,o?s.jsxs("div",{style:{marginTop:12},children:[s.jsx("audio",{controls:!0,src:o,style:{width:"100%"}}),s.jsx("div",{style:{marginTop:8,opacity:.7},children:"If you can hear yourself clearly, you're good to go."})]}):null]})]})}function lP(){var v;const e=De(),{user:t}=Rt(),[r,n]=p.useState(null),[a,i]=p.useState(!0),[o,l]=p.useState(null),[c,d]=p.useState(!0);p.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{const{data:N,error:k}=await Le.from("profiles").select("*").eq("id",t.id).single();k?console.error("Error fetching profile:",k):n(N)}catch(N){console.error("Profile fetch error:",N)}finally{i(!1)}})()},[t]);const u=(r==null?void 0:r.display_name)||((v=t==null?void 0:t.email)==null?void 0:v.split("@")[0])||"there",[h,f]=p.useState("Practice makes progress. Every session builds your confidence.");p.useEffect(()=>{(async()=>{try{const N=await Te("/api/daily-reflection");N.reflection&&f(N.reflection)}catch(N){console.error("Failed to fetch daily reflection:",N)}})()},[]);const[m,g]=p.useState(null),[y,w]=p.useState(!0);p.useEffect(()=>{(async()=>{var N,k,E,S;try{const L=await Te("/api/progress");if(g(L),typeof window<"u"){window.__JSP_DEBUG__||(window.__JSP_DEBUG__={});const C=(((N=L==null?void 0:L.recentActivity)==null?void 0:N.length)||((k=L==null?void 0:L.activityEvents)==null?void 0:k.length)||0)+(((E=L==null?void 0:L.recentSessions)==null?void 0:E.length)||((S=L==null?void 0:L.sessions)==null?void 0:S.length)||0);window.__JSP_DEBUG__.dashboardSummary={count:C,timestamp:Date.now()}}}catch(L){console.error("Failed to fetch progress:",L)}finally{w(!1)}})()},[t]);const b=(m==null?void 0:m.recentSessions)||(m==null?void 0:m.sessions)||[],x=(m==null?void 0:m.recentActivity)||(m==null?void 0:m.activityEvents)||[];return p.useEffect(()=>{(async()=>{try{const N=await Te("/api/mock-interview/limit-status");l(N)}catch(N){console.error("[MOCK] Limit check failed:",N)}finally{d(!1)}})()},[]),s.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-[#111418] dark:text-white font-display antialiased min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-1 w-full max-w-[1024px] mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col gap-8",children:[s.jsxs("section",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 bg-white dark:bg-[#1A222C] p-6 sm:p-8 rounded-xl border border-[#dbe0e6] dark:border-gray-800 shadow-sm",children:[s.jsx("div",{className:"flex flex-col gap-2 max-w-lg",children:a?s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-10 bg-slate-200 dark:bg-slate-700 rounded w-64 mb-2"}),s.jsx("div",{className:"h-6 bg-slate-200 dark:bg-slate-700 rounded w-96"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em] text-[#111418] dark:text-white",children:["Welcome back, ",u]}),s.jsx("p",{className:"text-[#617289] dark:text-gray-400 text-base font-normal leading-normal",children:"Ready to find your voice today? Consistent practice builds confidence. You're doing great."})]})}),s.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[s.jsxs("button",{onClick:()=>e("/practice"),className:"flex-1 md:flex-none min-w-[140px] cursor-pointer items-center justify-center gap-2 rounded-lg h-12 px-6 bg-primary hover:bg-blue-700 transition-colors text-white text-sm font-bold shadow-md hover:shadow-lg flex",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"mic"}),s.jsx("span",{className:"truncate",children:"Start New Practice"})]}),s.jsxs("button",{onClick:()=>e("/progress"),className:"flex-1 md:flex-none min-w-[140px] cursor-pointer items-center justify-center gap-2 rounded-lg h-12 px-6 bg-white dark:bg-gray-700 border border-[#dbe0e6] dark:border-gray-600 hover:bg-[#f0f2f4] dark:hover:bg-gray-600 text-[#111418] dark:text-white text-sm font-bold transition-colors flex",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"history"}),s.jsx("span",{className:"truncate",children:"Review Past Sessions"})]})]})]}),b.length>0?s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-[#111418] dark:text-white",children:"Recent Activity"}),s.jsx("button",{onClick:()=>e("/progress"),className:"text-primary hover:underline text-sm font-medium",children:"View all"})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:b.map(j=>s.jsxs("div",{"data-testid":"activity-row",onClick:()=>e(j.type==="practice"?`/practice/summary/${j.sessionId||j.id}`:`/mock-interview/summary/${j.sessionId||j.id}`),className:"bg-white dark:bg-[#1A222C] p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 transition-all cursor-pointer hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`size-12 rounded-full flex items-center justify-center shrink-0 ${j.type==="practice"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"}`,children:s.jsx("span",{className:"material-symbols-outlined",children:j.type==="practice"?"mic":"video_call"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:j.type==="practice"?"Practice Session":j.type==="mock_short"?"Short Mock Interview":"Full Mock Interview"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(j.date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})})]})]}),s.jsxs("div",{className:"flex items-center gap-6 w-full sm:w-auto justify-between sm:justify-end",children:[j.score&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Score"}),s.jsx("p",{className:`text-lg font-bold ${j.score>=80?"text-green-600":j.score>=60?"text-blue-600":"text-amber-600"}`,children:j.score})]}),(j.topStrength||j.topWeakness)&&s.jsxs("div",{className:"hidden md:block text-right max-w-[200px]",children:[j.topStrength&&s.jsxs("div",{className:"text-xs text-green-600 truncate flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"thumb_up"}),j.topStrength]}),j.topWeakness&&s.jsxs("div",{className:"text-xs text-amber-600 truncate flex items-center gap-1 justify-end mt-1",children:[s.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"warning"}),j.topWeakness]})]}),s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"chevron_right"})]})]},j.id))})]}):x.length>0?s.jsxs("section",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-[#111418] dark:text-white",children:"Recent Activity"}),s.jsx("button",{onClick:()=>e("/progress"),className:"text-primary hover:underline text-sm font-medium",children:"View all"})]}),s.jsxs("div",{"data-testid":"recent-activity",className:"bg-white dark:bg-[#1A222C] rounded-xl border border-[#dbe0e6] dark:border-gray-800 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-blue-600 dark:text-blue-400",children:[s.jsx("span",{className:"material-symbols-outlined",children:"info"}),s.jsx("p",{className:"text-sm font-medium",children:"You've started practicing! Complete a session to see detailed feedback here."})]}),s.jsx("div",{className:"flex flex-col gap-3",children:x.map((j,N)=>{var k;return s.jsxs("div",{"data-testid":"activity-row",className:"flex items-center gap-4 p-4 rounded-lg bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700",children:[s.jsx("div",{className:`size-10 rounded-full flex items-center justify-center shrink-0 ${j.activityType==="practice"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"}`,children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:j.activityType==="practice"?"mic":"video_call"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:j.activityType==="practice"?"Practiced":`Mock interview started${(k=j.context)!=null&&k.type?` (${j.context.type})`:""}`}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:j.timestamp?new Date(j.timestamp).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"Recently"})]})]},j.id||N)})})]})]}):s.jsx("section",{"data-testid":"empty-state",className:"bg-white dark:bg-[#1A222C] rounded-xl border border-[#dbe0e6] dark:border-gray-800 shadow-sm p-12 text-center",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"size-16 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"mic"})}),s.jsx("h2",{className:"text-2xl font-bold text-[#111418] dark:text-white mb-2",children:"No interview data yet"}),s.jsx("p",{className:"text-[#617289] dark:text-gray-400 mb-6",children:"Start your first practice or mock interview to see your progress here."}),s.jsxs("button",{onClick:()=>e("/practice"),className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-primary hover:bg-blue-700 text-white font-bold rounded-lg transition-colors shadow-md",children:[s.jsx("span",{className:"material-symbols-outlined",children:"mic"}),"Start Practicing"]})]})}),s.jsx(oP,{}),s.jsx(kv,{}),s.jsxs("section",{className:"bg-gradient-to-br from-teal-50 to-white dark:from-[#1A222C] dark:to-[#1A222C] p-6 rounded-xl border border-teal-100 dark:border-gray-800 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-teal-700 dark:text-teal-400 mb-3",children:[s.jsx("span",{className:"material-symbols-outlined",children:"lightbulb"}),s.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"Moment of Reflection"})]}),s.jsxs("p",{className:"text-[#111418] dark:text-white text-base font-medium italic",children:['"',h,'"']})]})]}),s.jsx("footer",{className:"mt-auto border-t border-[#f0f2f4] dark:border-gray-800 bg-white dark:bg-[#1A222C] py-8",children:s.jsxs("div",{className:"max-w-[1024px] mx-auto px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("p",{className:"text-[#617289] dark:text-gray-500 text-sm",children:" 2024 JobSpeak Pro. All rights reserved."}),s.jsxs("div",{className:"flex gap-6",children:[s.jsx("a",{className:"text-[#617289] dark:text-gray-500 text-sm hover:text-primary transition-colors",href:"#",children:"Help Center"}),s.jsx("a",{className:"text-[#617289] dark:text-gray-500 text-sm hover:text-primary transition-colors",href:"/privacy",children:"Privacy Policy"}),s.jsx("a",{className:"text-[#617289] dark:text-gray-500 text-sm hover:text-primary transition-colors",href:"/terms",children:"Terms of Service"})]})]})})]})}function cP(){const e=De(),{user:t}=Rt(),[r,n]=p.useState(null),[a,i]=p.useState(!0);p.useEffect(()=>{(async()=>{var g;try{const y=await Te("/api/progress");n(y),typeof window<"u"&&(window.__JSP_DEBUG__||(window.__JSP_DEBUG__={}),window.__JSP_DEBUG__.progressSummary={count:((y==null?void 0:y.totalSessions)||0)+(((g=y==null?void 0:y.activityEvents)==null?void 0:g.length)||0),timestamp:Date.now()})}catch(y){console.error("Failed to fetch progress summary:",y)}finally{i(!1)}})()},[t]);const o=(r==null?void 0:r.sessions)||(r==null?void 0:r.recentSessions)||[],l=(r==null?void 0:r.activityEvents)||(r==null?void 0:r.recentActivity)||[],c=o.length+l.length,d=[...o.map(m=>m.date||m.created_at||m.startedAt),...l.map(m=>m.timestamp||m.startedAt||m.created_at)].filter(Boolean).map(m=>new Date(m)),u=new Set(d.map(m=>m.toDateString())).size;let h=0;if(d.length>0){const m=[...new Set(d.map(b=>b.toDateString()))].map(b=>new Date(b)).sort((b,x)=>x-b),g=new Date,y=new Date;y.setDate(y.getDate()-1);const w=m[0];if(w.toDateString()===g.toDateString()||w.toDateString()===y.toDateString()){h=1;let b=new Date(w);for(let x=1;x<m.length&&(b.setDate(b.getDate()-1),m[x].toDateString()===b.toDateString());x++)h++}}const f=r&&(c>0||o.length>0||l.length>0);return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-50 min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-1 w-full max-w-[800px] mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col gap-8",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"psychology_alt"}),s.jsx("h1",{className:"text-slate-900 dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em]",children:"My Progress"})]}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg font-normal leading-normal",children:"A simple view of your practice over time."})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl p-6 border border-slate-200 dark:border-slate-700/50 shadow-sm flex gap-4 items-start",children:[s.jsx("span",{className:"material-symbols-outlined text-primary mt-1",children:"info"}),s.jsx("div",{children:s.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm font-normal leading-relaxed",children:"Progress looks different for everyone. This page is here to help you notice your practice habits, not to score your performance. There are no grades here, only your own journey."})})]}),a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):f?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-slate-900 dark:text-white text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"equalizer"}),"Activity Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-sm hover:border-primary/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium leading-normal",children:"Total Sessions"}),s.jsx("span",{className:"material-symbols-outlined text-primary/60 text-xl",children:"forum"})]}),s.jsx("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:c})]}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-sm hover:border-primary/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium leading-normal",children:"Days Practiced"}),s.jsx("span",{className:"material-symbols-outlined text-primary/60 text-xl",children:"calendar_month"})]}),s.jsx("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:u})]}),s.jsxs("div",{className:"flex flex-col gap-2 rounded-xl p-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-sm hover:border-primary/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium leading-normal",children:"Current Streak"}),s.jsx("span",{className:"material-symbols-outlined text-primary/60 text-xl",children:"local_fire_department"})]}),s.jsxs("p",{className:"text-slate-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:[h," ",s.jsx("span",{className:"text-base font-normal text-slate-500 dark:text-slate-400",children:"days"})]})]})]}),c>0&&s.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-base font-normal leading-normal mt-4 px-1",children:"You've been practicing regularly. Consistency matters more than perfection."})]}),o.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"flex justify-between items-end mb-4",children:s.jsxs("h3",{className:"text-slate-900 dark:text-white text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"history"}),"Recent Practice"]})}),s.jsx("div",{className:"flex flex-col gap-3",children:o.map((m,g)=>s.jsxs("div",{"data-testid":"activity-row",className:"group flex items-center gap-4 p-4 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 transition-all hover:shadow-md hover:border-primary/20",children:[s.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full p-2 flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined text-xl",children:"check"})}),s.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row sm:items-center justify-between gap-1",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-900 dark:text-white font-medium text-base",children:(m==null?void 0:m.question)||"Practice session"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs",children:(m==null?void 0:m.category)||"General"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 rounded bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium",children:"Practiced"}),s.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-sm",children:(m==null?void 0:m.date)||"Recent"})]})]})]},g))})]}),l.length>0&&o.length===0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"flex justify-between items-end mb-4",children:s.jsxs("h3",{className:"text-slate-900 dark:text-white text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"history"}),"Recent Activity"]})}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-blue-600 dark:text-blue-400",children:[s.jsx("span",{className:"material-symbols-outlined",children:"info"}),s.jsx("p",{className:"text-sm font-medium",children:"You've started practicing! Complete a session to see detailed feedback here."})]}),s.jsx("div",{className:"flex flex-col gap-3",children:l.map((m,g)=>{var y;return s.jsxs("div",{"data-testid":"activity-row",className:"flex items-center gap-4 p-4 rounded-lg bg-slate-50 dark:bg-slate-700/30 border border-slate-200 dark:border-slate-600",children:[s.jsx("div",{className:`size-10 rounded-full flex items-center justify-center shrink-0 ${m.activityType==="practice"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"}`,children:s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:m.activityType==="practice"?"mic":"video_call"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:m.activityType==="practice"?"Practiced (started)":`Mock interview started${(y=m.context)!=null&&y.type?` (${m.context.type})`:""}`}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:m.timestamp?new Date(m.timestamp).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}):"Recently"})]})]},m.id||g)})})]})]})]}):s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-12 text-center border border-slate-200 dark:border-slate-700 shadow-sm",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"size-16 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"mic"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"No sessions yet"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Start practicing to see your progress here."}),s.jsxs("button",{onClick:()=>e("/practice"),className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-primary hover:bg-blue-700 text-white font-bold rounded-lg transition-colors shadow-md",children:[s.jsx("span",{className:"material-symbols-outlined",children:"mic"}),"Start Practicing"]})]})}),s.jsxs("div",{className:"mt-4 bg-primary/5 dark:bg-primary/10 border border-primary/10 dark:border-primary/20 rounded-xl p-8 text-center flex flex-col items-center gap-4 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-primary/5 rounded-full blur-3xl pointer-events-none"}),s.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-primary/5 rounded-full blur-3xl pointer-events-none"}),s.jsx("span",{className:"material-symbols-outlined text-primary text-4xl mb-1",children:"self_improvement"}),s.jsxs("div",{className:"max-w-lg",children:[s.jsx("h4",{className:"text-slate-900 dark:text-white font-semibold text-lg mb-2",children:"A Moment for Reflection"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-base italic",children:`"If you'd like, take a moment to notice how speaking feels today compared to when you started. Is there a little more ease?"`})]})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center py-6 gap-6",children:[s.jsxs("button",{onClick:()=>e("/practice"),className:"flex items-center gap-3 bg-primary hover:bg-blue-600 text-white text-lg font-bold py-4 px-10 rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200",children:[s.jsx("span",{className:"material-symbols-outlined",children:"mic"}),"Practice Again"]}),s.jsx("div",{className:"h-px w-24 bg-slate-200 dark:bg-slate-700"}),s.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm text-center max-w-md",children:"Progress is personal. The most important step is continuing to practice in a way that feels comfortable."})]})]})]})}function dP(){const e=De(),{isPro:t,refreshProStatus:r}=ps(),[n,a]=p.useState(""),[i,o]=p.useState(null),[l,c]=p.useState(!1),[d,u]=p.useState(""),[h,f]=p.useState(!1),[m,g]=p.useState(!1),[y,w]=p.useState(!1),[b,x]=p.useState(null),[v,j]=p.useState(!1),[N,k]=p.useState({count:0,limit:3}),[E,S]=p.useState({used:0,limit:3,remaining:3,blocked:!1}),L=p.useRef(!1),C=[{question:"Tell me about a time you faced a challenge at work.",hint:"Focus on the STAR method: Situation, Task, Action, Result."},{question:"Describe a situation where you had to work under pressure.",hint:"Explain how you managed your time and priorities effectively."},{question:"Tell me about a time you disagreed with a colleague or manager.",hint:"Show how you handled conflict professionally and found a resolution."},{question:"Give me an example of when you went above and beyond for a project.",hint:"Highlight your initiative and commitment to excellence."},{question:"Describe a time when you had to learn something new quickly.",hint:"Demonstrate your adaptability and learning ability."},{question:"Tell me about a mistake you made and how you handled it.",hint:"Show accountability and what you learned from the experience."},{question:"Describe a time when you had to persuade someone to see your point of view.",hint:"Explain your communication and negotiation skills."},{question:"Tell me about a time you had to work with a difficult team member.",hint:"Show your teamwork and interpersonal skills."}],[W,_e]=p.useState(()=>C[Math.floor(Math.random()*C.length)]),[ue,Ee]=p.useState(1),je=!t&&Sf(E),xe=async()=>{if(t){k({count:0,limit:3}),S({used:0,limit:3,remaining:3,blocked:!1});return}try{const O=await Te("/api/usage/today");O.usage?(k({count:O.usage.used||0,limit:O.usage.limit===-1?1/0:O.usage.limit||3}),S({used:O.usage.used||0,limit:O.usage.limit===-1?1/0:O.usage.limit||3,remaining:O.usage.remaining===-1?1/0:O.usage.remaining||0,blocked:O.usage.blocked||!1})):O.freeAttempts!==void 0?k({count:O.freeAttempts.count||0,limit:O.freeAttempts.limit||3}):O.sttAttempts!==void 0?k({count:O.sttAttempts.count||0,limit:O.sttAttempts.limit||3}):O.freeAttemptsUsed!==void 0&&O.freeAttemptsLimit!==void 0&&k({count:O.freeAttemptsUsed||0,limit:O.freeAttemptsLimit||3})}catch(O){console.error("Error fetching free attempts:",O),Kt(O)&&j(!0)}};p.useEffect(()=>{try{const O=[];for(let T=0;T<localStorage.length;T++){const q=localStorage.key(T);q&&(q.startsWith("jobspeak_free_improve_usage")||q.startsWith("speaking_attempts_"))&&O.push(q)}O.forEach(T=>{localStorage.removeItem(T),console.log("[Cleanup] Removed legacy free usage key:",T)})}catch(O){console.error("Error cleaning up legacy keys:",O)}},[]),p.useEffect(()=>{xe()},[t]),p.useEffect(()=>{try{const O=new URLSearchParams(window.location.search),T=window.location.pathname.toLowerCase(),q=O.get("success"),H=O.get("canceled"),he=T.includes("/success")||T.includes("/checkout/success"),ee=T.includes("/cancel")||T.includes("/checkout/cancel");if(q==="true"||he){if(r&&r(),!L.current)try{const Oe=localStorage.getItem("jobspeak_upgrade_period")||"unknown",ge=localStorage.getItem("jobspeak_upgrade_source")||"unknown";ct("paywall_upgrade_success",{page:"practice",period:Oe,source:ge}),localStorage.removeItem("jobspeak_upgrade_period"),localStorage.removeItem("jobspeak_upgrade_source"),L.current=!0}catch(Oe){console.error("Error tracking upgrade success:",Oe)}const ne=window.location.pathname;window.history.replaceState({},"",ne)}else if(H==="true"||ee){if(!L.current)try{const Oe=localStorage.getItem("jobspeak_upgrade_period")||"unknown",ge=localStorage.getItem("jobspeak_upgrade_source")||"unknown";ct("paywall_upgrade_cancel",{page:"practice",period:Oe,source:ge}),localStorage.removeItem("jobspeak_upgrade_period"),localStorage.removeItem("jobspeak_upgrade_source"),L.current=!0}catch(Oe){console.error("Error tracking upgrade cancel:",Oe)}const ne=window.location.pathname;window.history.replaceState({},"",ne)}}catch(O){console.error("URL param parse error",O)}},[r]);function Re(){return i&&i.improved||""}const U=async()=>{var O,T;if(je){u(""),x("fix_answer"),w(!0);return}if(typeof n!="string"||!n.trim()){u("Record or type an answer first."),c(!1);return}ct("practice_submit",{page:"practice"}),u(""),o(null),c(!0);try{try{const q=await Te("/ai/micro-demo",{method:"POST",body:{text:n}});o(q),xe();try{const H=Ma(),he=JSON.stringify(q);await Te("/api/sessions",{method:"POST",body:{userKey:H,transcript:n,aiResponse:he,score:null}})}catch(H){H instanceof nt&&H.status===402&&((O=H.data)==null?void 0:O.upgrade)===!0?xe():console.error("Failed to save session:",H)}}catch(q){if(xe(),console.error("[Fix My Answer] API Error:",{status:q.status,message:q.message,data:q.data,stack:q.stack}),q instanceof nt&&q.status===402&&((T=q.data)==null?void 0:T.upgrade)===!0){u(""),k({count:3,limit:3}),x("fix_answer"),w(!0),c(!1);return}q.status&&console.error("[Fix My Answer] Response status:",q.status),q.data&&console.error("[Fix My Answer] Response body:",q.data),u("Something went wrong. Try again in a moment."),c(!1);return}}catch(q){console.error("[Fix My Answer] Outer catch error:",q),Kt(q)?(j(!0),u("We're temporarily unavailable. Try again in a moment.")):u("Connection issue. Check your internet and try again.")}finally{c(!1)}},G=Re(),$=()=>{ct("try_another_question_click",{page:"practice"}),a(""),o(null),u(""),c(!1);let O;do O=C[Math.floor(Math.random()*C.length)];while(O.question===W.question&&C.length>1);_e(O),Ee(T=>T+1)};return s.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900",children:[s.jsx("header",{className:"border-b border-slate-200 bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[11px] uppercase tracking-[0.15em] text-slate-500 font-semibold",children:"Voice Practice"}),s.jsx("h1",{className:"text-sm md:text-base font-semibold text-slate-900",children:"JobSpeak Pro  Voice Practice"})]}),s.jsx("button",{onClick:()=>e("/"),className:"text-xs text-slate-600 hover:text-blue-600 underline",children:" Back to Demo"})]})}),v&&s.jsx("div",{className:"bg-red-50 border-b border-red-200",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-2 flex items-center justify-between gap-3",children:[s.jsx("p",{className:"text-xs text-red-800",children:"We're temporarily unavailable. Give us a moment and try again."}),s.jsx("button",{type:"button",onClick:()=>{j(!1)},className:"text-xs px-3 py-1 rounded-md bg-red-100 hover:bg-red-200 text-red-800 font-semibold transition",children:"Retry"})]})}),s.jsxs("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[!t&&s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"inline-flex items-center gap-2 bg-white border border-slate-200/60 rounded-full px-4 py-2 shadow-sm",children:[s.jsx("span",{className:"text-xs text-slate-600 font-medium",children:"Free attempts today:"}),s.jsxs("span",{className:"text-xs font-bold text-slate-900",children:[N.count," / ",N.limit===1/0?"":N.limit]}),s.jsx("div",{className:"flex items-center gap-1 ml-1",children:Array.from({length:Math.min(N.limit,10)}).map((O,T)=>s.jsx("div",{className:`h-1.5 w-1.5 rounded-full transition-colors ${T<N.count?"bg-emerald-500":"bg-slate-200"}`},T))})]})}),s.jsx("div",{className:"max-w-3xl mx-auto mb-8",children:s.jsxs("div",{className:"bg-white border border-slate-200/60 rounded-2xl p-6 shadow-sm",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("span",{className:"inline-block px-3 py-1 text-xs font-semibold text-slate-600 bg-slate-100 rounded-full",children:["Practice Question #",ue]})}),s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-900 mb-4 leading-tight",children:W.question}),s.jsx("p",{className:"text-sm text-slate-600 leading-relaxed mb-3",children:W.hint}),s.jsx("button",{type:"button",onClick:$,className:"text-sm text-blue-600 hover:text-blue-700 font-medium underline transition-colors",children:"Try another question"})]})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"bg-white border border-slate-200/60 rounded-xl p-6 shadow-sm flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Your Response"})]}),i&&s.jsx("span",{className:"text-xs text-slate-500 font-medium",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("form",{onSubmit:O=>{O.preventDefault(),U()},className:"flex flex-col gap-6 flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 mb-4",children:[s.jsx(fo,{onTranscript:O=>{a(O),u("")},onStateChange:({recording:O,transcribing:T})=>{g(O),f(T),T&&u("")},onUpgradeNeeded:O=>{x(O||"mic"),w(!0)},onAttemptsRefresh:()=>xe()}),s.jsx("p",{className:"text-sm text-slate-600 font-medium text-center",children:"Tap microphone to start speaking"})]}),s.jsx("div",{className:"flex-1",children:s.jsx("textarea",{value:n,onChange:O=>{a(O.target.value),d&&u("")},placeholder:"Your transcript will appear here after recording, or type your answer directly...",disabled:h,className:"w-full min-h-[160px] border border-slate-200 bg-slate-50 rounded-lg px-4 py-3 text-sm text-slate-900 placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 disabled:opacity-60 disabled:cursor-not-allowed transition-all leading-relaxed resize-none"})}),s.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:s.jsx("button",{type:"submit",disabled:l||h||typeof n!="string"||!n.trim(),className:"inline-flex items-center justify-center px-6 py-3 rounded-full bg-rose-500 hover:bg-rose-600 text-white text-sm font-bold shadow-md hover:shadow-lg disabled:opacity-60 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02]",children:h?"Transcribing...":l?"Improving...":" Fix my answer"})}),d&&s.jsx(fn,{message:d,onRetry:d.includes("temporarily unavailable")?()=>{u(""),j(!1),U()}:void 0})]})]}),s.jsxs("div",{className:"bg-white border border-slate-200/60 rounded-2xl p-6 shadow-sm flex flex-col h-full",children:[s.jsx("p",{className:"text-sm font-bold text-emerald-600 mb-1 uppercase tracking-wide",children:"Better way to say it"}),s.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:"Optimized for speaking naturally. Use it as a guide and adapt it to your story."}),l?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500"}),s.jsx("p",{className:"text-xs text-slate-600",children:"Improving your answer..."})]}):i?i.error?s.jsx(fn,{title:"Something went wrong",message:i.error}):s.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[s.jsx("div",{className:"bg-slate-50 border-2 border-slate-200 rounded-xl px-4 py-3 text-sm text-slate-900 whitespace-pre-wrap break-words leading-relaxed",children:G||s.jsx("span",{className:"text-slate-400",children:'Your improved answer will appear here after you click "Fix my answer".'})}),G&&s.jsx("div",{className:"mt-2",children:s.jsx(rv,{improvedText:G,onUpgradeNeeded:O=>{x(O||"listen"),w(!0)}})}),i.message&&s.jsx("div",{className:"text-[11px] text-slate-500",children:i.message}),s.jsx("div",{className:"text-[11px] text-emerald-700",children:" Practice tip: Read this answer out loud 23 times, then listen and repeat with the audio to build muscle memory."})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("p",{className:"text-xs text-slate-400 text-center max-w-xs",children:`After you click "Fix my answer", you'll see a more confident version of your answer here with audio playback.`})})]})]})]}),y&&s.jsx(ev,{onClose:()=>{w(!1),x(null)},source:b})]})}function Nv({onClose:e,onNotNow:t}){const[r,n]=p.useState(!1),{user:a}=Rt(),i=De(),o=async()=>{await ho({priceType:"monthly",source:"paywall_modal",onLoadingChange:n})},l=()=>{t?t():e()};return s.jsxs(s.Fragment,{children:[s.jsx("div",{"aria-hidden":"true",className:"fixed inset-0 z-0 bg-white p-8 opacity-20 pointer-events-none hidden md:block",children:s.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-4 gap-4 h-full",children:[s.jsx("div",{className:"col-span-1 bg-slate-100 rounded-xl h-full"}),s.jsxs("div",{className:"col-span-3 bg-slate-50 rounded-xl h-full flex flex-col gap-4 p-4",children:[s.jsx("div",{className:"h-16 bg-slate-200 rounded-lg w-full"}),s.jsx("div",{className:"h-64 bg-slate-100 rounded-lg w-full"})]})]})}),s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 transition-all duration-300",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:e}),s.jsxs("div",{className:"relative w-full max-w-4xl bg-white rounded-2xl shadow-2xl overflow-y-auto max-h-[90vh] sm:max-h-none transform transition-all scale-100 opacity-100 flex flex-col",onClick:c=>c.stopPropagation(),children:[s.jsx("button",{type:"button","aria-label":"Close modal",onClick:e,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-colors z-10",children:s.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})}),s.jsxs("div",{className:"flex flex-col items-center pt-10 pb-8 px-6 sm:px-10 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-amber-50 border border-amber-200 text-amber-700 px-3 py-1.5 rounded-full mb-6",children:[s.jsx("span",{className:"material-symbols-outlined text-lg icon-filled",children:"lock"}),s.jsx("span",{className:"text-xs font-semibold tracking-wide uppercase",children:"Daily Limit Reached"})]}),s.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-10",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-900 tracking-tight mb-3",children:"Upgrade to Pro"}),s.jsx("p",{className:"text-slate-500 text-lg leading-relaxed font-normal",children:"Unlock unlimited practice and advanced feedback to help you speak confidently."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-[800px] mb-8 items-start",children:[s.jsxs("div",{className:"group relative flex flex-col bg-white border border-slate-200 rounded-xl p-6 h-full transition-colors",children:[s.jsxs("div",{className:"mb-5",children:[s.jsx("h3",{className:"text-slate-900 font-bold text-lg",children:"Free Plan"}),s.jsxs("div",{className:"flex items-baseline mt-2",children:[s.jsx("span",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:"$0"}),s.jsx("span",{className:"text-slate-500 font-medium ml-1",children:"/mo"})]})]}),s.jsx("button",{type:"button",disabled:!0,className:"w-full py-2.5 px-4 bg-slate-100 text-slate-400 font-semibold text-sm rounded-lg border border-transparent cursor-not-allowed mb-6 text-center select-none",children:"Current Plan"}),s.jsxs("ul",{className:"flex flex-col gap-3 text-sm text-slate-600",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-xl shrink-0",children:"check"}),s.jsx("span",{children:"3 practice questions/day"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-xl shrink-0",children:"check"}),s.jsx("span",{children:"Basic feedback"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-xl shrink-0",children:"check"}),s.jsx("span",{children:"Limited audio examples"})]})]})]}),s.jsxs("div",{className:"relative flex flex-col bg-white border-2 border-primary rounded-xl p-6 h-full shadow-soft ring-4 ring-primary/5",children:[s.jsx("div",{className:"absolute -top-3.5 left-1/2 -translate-x-1/2 bg-primary text-white text-xs font-bold px-3 py-1 rounded-full shadow-sm tracking-wide",children:"Recommended"}),s.jsxs("div",{className:"mb-5",children:[s.jsx("h3",{className:"text-slate-900 font-bold text-lg",children:"Pro Plan"}),s.jsxs("div",{className:"flex items-baseline mt-2",children:[s.jsx("span",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:"$9.99"}),s.jsx("span",{className:"text-slate-500 font-medium ml-1",children:"/mo"})]})]}),a?s.jsx("button",{type:"button",onClick:o,disabled:r,className:"w-full py-2.5 px-4 bg-primary hover:bg-blue-600 active:bg-blue-700 text-white font-semibold text-sm rounded-lg shadow-md hover:shadow-lg transition-all mb-6 text-center disabled:opacity-60 disabled:cursor-not-allowed",children:r?"Opening checkout...":"Upgrade to Pro"}):s.jsxs("div",{className:"flex flex-col gap-3 mb-6",children:[s.jsx("button",{type:"button",onClick:()=>i("/signup"),className:"w-full py-2.5 px-4 bg-primary hover:bg-blue-600 active:bg-blue-700 text-white font-semibold text-sm rounded-lg shadow-md hover:shadow-lg transition-all text-center",children:"Create free account to Upgrade"}),s.jsx("p",{className:"text-xs text-slate-500 text-center leading-relaxed px-2",children:"Your subscription is linked to your email so you can log in anytime."}),s.jsx("button",{type:"button",onClick:()=>i("/signin"),className:"text-primary hover:text-primary-hover text-sm font-semibold hover:underline",children:"Already have an account? Sign in"})]}),s.jsxs("ul",{className:"flex flex-col gap-3 text-sm text-slate-700 font-medium",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-xl shrink-0 icon-filled",children:"check_circle"}),s.jsx("span",{children:"Unlimited practice"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-xl shrink-0 icon-filled",children:"check_circle"}),s.jsx("span",{children:"Advanced rewrites & AI suggestions"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-xl shrink-0 icon-filled",children:"check_circle"}),s.jsx("span",{children:"Unlimited audio examples"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-xl shrink-0 icon-filled",children:"check_circle"}),s.jsx("span",{children:"Priority generation speed"})]})]})]})]}),s.jsxs("div",{className:"w-full max-w-[800px] border-t border-slate-100 pt-6 flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8 text-slate-500 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-[20px]",children:"calendar_month"}),s.jsx("span",{className:"text-xs font-medium",children:"Cancel anytime"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-[20px]",children:"lock"}),s.jsx("span",{className:"text-xs font-medium",children:"Secure checkout"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-[20px]",children:"support_agent"}),s.jsx("span",{className:"text-xs font-medium",children:"Support included"})]})]}),s.jsx("button",{type:"button",onClick:l,className:"text-slate-400 hover:text-slate-600 text-sm font-medium transition-colors hover:underline decoration-dotted underline-offset-4",children:"Not now, continue tomorrow"})]})]})]})]})}const da=e=>Array.isArray(e)?e:e?[e]:[],Bt=(e,t="")=>typeof e=="string"?e:e==null?t:String(e),rh=(e,t=0)=>{if(typeof e=="number"&&!isNaN(e))return e;const r=Number(e);return isNaN(r)?t:r};function _v(e){var y,w,b,x,v,j,N,k,E,S,L,C,W,_e,ue;if(!e||typeof e!="object")return{score:0,whatWorked:[],improveNext:[],interpretation:"",improved:"",vocabulary:[],questionText:"",transcript:"",clearerRewriteAudioUrl:null,created_at:null};const t=e.analysis||e.guidance||e,r=rh(t.score||e.score,0),n=t.whatWorked||t.strengths||[],a=da(n),i=t.improvements||t.improveNext||((y=t.feedback)==null?void 0:y.improvements)||((w=t.feedback)==null?void 0:w.weaknesses)||((b=t.summary)==null?void 0:b.improvements)||e.improvements||[],o=da(i),l=Bt(t.interpretation||t.hiringManagerHeard||t.hmHeard||((x=t.feedback)==null?void 0:x.interpretation)||((v=t.feedback)==null?void 0:v.whatHiringManagerHeard)||((j=t.summary)==null?void 0:j.interpretation)||e.interpretation),c=Bt(t.clearerRewrite||t.improved||t.improvedAnswer||t.rewrite||t.betterAnswer||((N=t.feedback)==null?void 0:N.clearerRewrite)||((k=t.feedback)==null?void 0:k.rewrite)||((E=t.summary)==null?void 0:E.rewrite)||e.clearerRewrite||e.improved),d=t.vocabulary||t.vocab||((S=t.feedback)==null?void 0:S.vocabulary)||((L=t.feedback)==null?void 0:L.vocab)||((C=t.summary)==null?void 0:C.vocabulary)||e.vocabulary||[],u=da(d),h=Bt(e.questionText||e.question||t.questionText),f=Bt(e.transcript||e.answerText||t.transcript),m=t.clearerRewriteAudioUrl||((W=t.clearerRewrite)==null?void 0:W.audioUrl)||t.audioUrl||((_e=t.feedback)==null?void 0:_e.clearerRewriteAudioUrl)||((ue=t.feedback)==null?void 0:ue.audioUrl)||e.clearerRewriteAudioUrl||e.audioUrl||null,g=e.created_at||null;return{score:r,whatWorked:a,improveNext:o,interpretation:l,improved:c,vocabulary:u,questionText:h,transcript:f,clearerRewriteAudioUrl:m,created_at:g}}function uP(e){if(!e||typeof e!="object")return{recommendation:"No recommendation available",percentile:"",recommendationType:"default",overallScore:0,strongestArea:{title:"N/A",description:""},biggestRisk:{title:"N/A",description:""},strengths:[],improvements:[],hiringManagerHeard:null,improvedExample:null,attemptCount:0,perQuestion:[]};const t=Bt(e.recommendation,"No recommendation available"),r=Bt(e.percentile),n=Bt(e.recommendationType,"default"),a=rh(e.overallScore||e.overall_score,0);let i={title:"N/A",description:""};const o=e.strongestArea||e.strongest_area;o&&(typeof o=="string"?i={title:o,description:""}:typeof o=="object"&&(i={title:Bt(o.title||o.label||"N/A"),description:Bt(o.description)}));let l={title:"N/A",description:""};e.biggestRisk&&(typeof e.biggestRisk=="string"?l={title:e.biggestRisk,description:""}:typeof e.biggestRisk=="object"&&(l={title:Bt(e.biggestRisk.title||e.biggestRisk.label||"N/A"),description:Bt(e.biggestRisk.description)}));const c=da(e.strengths),d=da(e.improvements),u=Bt(e.hiringManagerHeard||e.hiring_manager_heard||e.interpretation||e.hmHeard)||null,h=Bt(e.improvedExample||e.improved_example||e.clearerRewrite||e.clearer_rewrite||e.betterAnswer||e.improved)||null,f=rh(e.attemptCount||e.attempt_count,0),g=da(e.perQuestion||e.per_question).map(y=>({...y,transcript:Bt(y.transcript||y.answerText||y.answer_text||y.userAnswer||y.answer||"").trim()}));return{recommendation:t,percentile:r,recommendationType:n,overallScore:a,strongestArea:i,biggestRisk:l,strengths:c,improvements:d,hiringManagerHeard:u,improvedExample:h,attemptCount:f,perQuestion:g}}const Za={PROFANITY:/\b(fuck|shit|bitch|cunt|dick|cock|pussy|asshole|whore|slut|bastard|damn|piss|crap)\b/i,PROFANITY_ROOTS:/(fuck|shit|bitch|cunt|dick|cock|pussy|asshole|whore|slut|bastard)/i,INFORMAL_FLIRT:/\b(baby|girl|fine tonight|hottie|sexy|love you|miss you)\b/i,SLURS:/\b(nigger|nigga|faggot|dyke|kike|chink|spic|retard)\b/i,SEXUAL:/\b(sex|porn|nude|naked|erotic|clitoris|penis|vagina|orgasm)\b/i};function hP(e){if(!e||typeof e!="string")return{safe:!0,reasons:[],metadata:null};const t=e.toLowerCase(),r=[];return(Za.PROFANITY_ROOTS.test(t)||Za.PROFANITY.test(t)||/f[u\*@$]ck/i.test(t)||/sh[i\*!1]t/i.test(t)||/b[i\*!1]tch/i.test(t)||/a[s\$]{2}hole/i.test(t))&&r.push("profanity"),Za.INFORMAL_FLIRT.test(t)&&r.push("informal_flirt"),Za.SLURS.test(t)&&r.push("slur"),Za.SEXUAL.test(t)&&r.push("sexual_content"),r.length>0?{safe:!1,reasons:r,metadata:{flagged:!0,reasons:r,mode:"template_rewrite"}}:{safe:!0,reasons:[],metadata:null}}function fP(e=""){return`In a professional setting, it is important to communicate with clarity and respect. Regarding the question "${e.substring(0,50)}${e.length>50?"...":""}", a strong answer would follow the STAR method (Situation, Task, Action, Result) to demonstrate your qualifications.

For example:
"In my previous role, I encountered a complex challenge that required immediate attention. I analyzed the situation, collaborated with my team to identify the root cause, and implemented a strategic solution. This approach not only resolved the issue but also improved our overall process efficiency by 15%."

This rewrite focuses on professional competencies and strictly avoids informal or inappropriate language.`}function mP(e,t){return{improved:fP(e),feedback:{whatWorked:"You provided an answer.",improveNext:"Please ensure your language is professional and suitable for a workplace interview setting.",hiringManagerHeard:"The candidate used language that would be considered inappropriate or unprofessional in a business context.",score:0},metadata:{professionalism:t.metadata}}}const rg=[{question:"Tell me about a time you faced a challenge at work.",hint:"Focus on the STAR method: Situation, Task, Action, Result."},{question:"Describe a situation where you had to work under pressure.",hint:"Explain how you managed your time and priorities effectively."},{question:"Tell me about a time you disagreed with a colleague or manager.",hint:"Show how you handled conflict professionally and found a resolution."},{question:"Give me an example of when you went above and beyond for a project.",hint:"Highlight your initiative and commitment to excellence."},{question:"Describe a time when you had to learn something new quickly.",hint:"Demonstrate your adaptability and learning ability."},{question:"Tell me about a mistake you made and how you handled it.",hint:"Show accountability and what you learned from the experience."},{question:"Describe a time when you had to persuade someone to see your point of view.",hint:"Explain your communication and negotiation skills."},{question:"Tell me about a time you had to work with a difficult team member.",hint:"Show your teamwork and interpersonal skills."}];function pP({profileContext:e}={}){const{isPro:t,refreshProStatus:r}=ps(),[n,a]=p.useState(null),[i,o]=p.useState(null),[l,c]=p.useState(""),[d,u]=p.useState(null),[h,f]=p.useState(!1),[m,g]=p.useState(""),[y,w]=p.useState(!1),[b,x]=p.useState(!1),[v,j]=p.useState(!1),[N,k]=p.useState(null),[E,S]=p.useState(!1),[L,C]=p.useState({count:0,limit:3}),[W,_e]=p.useState({used:0,limit:3,remaining:3,blocked:!1}),ue=p.useRef(!1),[Ee,je]=p.useState(()=>{try{const X=localStorage.getItem("jsp_seen_questions");return X?JSON.parse(X):[]}catch{return[]}}),[xe,Re]=p.useState(()=>{try{const X=localStorage.getItem("jsp_practice_questions_used");return X?parseInt(X,10):0}catch{return 0}}),U=p.useRef(null),[G,$]=p.useState(1),O=3,T=!t&&xe>=O;p.useEffect(()=>{localStorage.setItem("jsp_practice_questions_used",String(xe))},[xe]),p.useEffect(()=>{localStorage.setItem("jsp_seen_questions",JSON.stringify(Ee))},[Ee]);const q=(X,B=rg)=>{const be=ae=>ae.id||ae.question.substring(0,20),at=B.filter(ae=>!X.includes(be(ae))),A=at.length>0?at:B;return A[Math.floor(Math.random()*A.length)]},[H,he]=p.useState(null),[ee,ne]=p.useState(!1),Oe=async X=>{if(!(!X||ee)){try{ne(!0);const B="",be=new URLSearchParams({jobTitle:X.job_title||"",industry:X.industry||"",seniority:X.seniority||"",focusAreas:Array.isArray(X.focus_areas)?X.focus_areas.join(","):X.focus_areas||""}),at=await fetch(`${B}/api/practice/demo-questions?${be}`);if(at.ok){const A=await at.json();if(A.questions&&Array.isArray(A.questions)&&A.questions.length>0)return localStorage.setItem("jsp_personalized_questions",JSON.stringify(A.questions)),he(A.questions),console.log("[PERSONALIZATION] Loaded",A.questions.length,"personalized questions"),A.questions}}catch(B){console.error("[PERSONALIZATION] Failed to fetch personalized questions:",B)}finally{ne(!1)}return null}};p.useEffect(()=>{try{const X=localStorage.getItem("jsp_personalized_questions");if(X){const B=JSON.parse(X);Array.isArray(B)&&B.length>0&&(he(B),console.log("[PERSONALIZATION] Loaded from cache:",B.length,"questions"))}}catch(X){console.error("[PERSONALIZATION] Cache load error:",X)}e&&e.job_title&&Oe(e)},[e==null?void 0:e.job_title,e==null?void 0:e.industry,e==null?void 0:e.seniority]);const ge=H||rg,[ie,bt]=p.useState(()=>q(Ee,ge));p.useEffect(()=>{if(!ie)return;const X=ie.id||ie.question.substring(0,20);je(B=>{const be=B.filter(at=>at!==X);return be.push(X),be.length>20&&be.shift(),be})},[ie]);const I=async({silent:X=!1}={})=>{if(t){C({count:0,limit:3}),_e({used:0,limit:3,remaining:3,blocked:!1});return}try{const B=await Te("/api/usage/today");B.usage?(C({count:B.usage.used||0,limit:B.usage.limit===-1?1/0:B.usage.limit||3}),_e({used:B.usage.used||0,limit:B.usage.limit===-1?1/0:B.usage.limit||3,remaining:B.usage.remaining===-1?1/0:B.usage.remaining||0,blocked:B.usage.blocked||!1})):B.freeAttempts!==void 0?C({count:B.freeAttempts.count||0,limit:B.freeAttempts.limit||3}):B.sttAttempts!==void 0?C({count:B.sttAttempts.count||0,limit:B.sttAttempts.limit||3}):B.freeAttemptsUsed!==void 0&&B.freeAttemptsLimit!==void 0&&C({count:B.freeAttemptsUsed||0,limit:B.freeAttemptsLimit||3}),S(!1)}catch(B){console.error("Error fetching free attempts:",B),!X&&Kt(B)&&S(!0)}};p.useEffect(()=>{try{const X=[];for(let B=0;B<localStorage.length;B++){const be=localStorage.key(B);be&&(be.startsWith("jobspeak_free_improve_usage")||be.startsWith("speaking_attempts_"))&&X.push(be)}X.forEach(B=>{localStorage.removeItem(B),console.log("[Cleanup] Removed legacy free usage key:",B)})}catch(X){console.error("Error cleaning up legacy keys:",X)}},[]),p.useEffect(()=>{I()},[t]),p.useEffect(()=>{try{const X=new URLSearchParams(window.location.search),B=window.location.pathname.toLowerCase(),be=X.get("success"),at=X.get("canceled"),A=B.includes("/success")||B.includes("/checkout/success"),ae=B.includes("/cancel")||B.includes("/checkout/cancel");if(be==="true"||A){if(r&&r(),!ue.current)try{const Y=localStorage.getItem("jobspeak_upgrade_period")||"unknown",me=localStorage.getItem("jobspeak_upgrade_source")||"unknown";ct("paywall_upgrade_success",{page:"practice",period:Y,source:me}),localStorage.removeItem("jobspeak_upgrade_period"),localStorage.removeItem("jobspeak_upgrade_source"),ue.current=!0}catch(Y){console.error("Error tracking upgrade success:",Y)}const R=window.location.pathname;window.history.replaceState({},"",R)}else if(at==="true"||ae){if(!ue.current)try{const Y=localStorage.getItem("jobspeak_upgrade_period")||"unknown",me=localStorage.getItem("jobspeak_upgrade_source")||"unknown";ct("paywall_upgrade_cancel",{page:"practice",period:Y,source:me}),localStorage.removeItem("jobspeak_upgrade_period"),localStorage.removeItem("jobspeak_upgrade_source"),ue.current=!0}catch(Y){console.error("Error tracking upgrade cancel:",Y)}const R=window.location.pathname;window.history.replaceState({},"",R)}}catch(X){console.error("URL param parse error",X)}},[r]);const D=async()=>{var X,B,be,at,A,ae,R,Y,me,ye,it,Jt;if(typeof l!="string"||!l.trim()){g("Record or type an answer first."),f(!1);return}ct("practice_submit",{page:"practice"}),g(""),u(null),u(null),f(!0);try{const Ke=hP(l);if(!Ke.safe){console.warn("[Content Safety] Unsafe content detected:",Ke.reasons),await new Promise(ke=>setTimeout(ke,800));const re=mP((ie==null?void 0:ie.question)||"Question",Ke);u(re);const br=(ie==null?void 0:ie.id)||((X=ie==null?void 0:ie.question)==null?void 0:X.substring(0,20));br&&U.current!==br&&(U.current=br,Re(ke=>ke+1)),I({silent:!0}),f(!1);return}try{const re=`practice_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,{supabase:br}=await Zy(async()=>{const{supabase:Vs}=await Promise.resolve().then(()=>wv);return{supabase:Vs}},void 0),{data:{user:ke}}=await br.auth.getUser(),ot=Ma(ke),_t={sessionId:re,questionId:(ie==null?void 0:ie.id)||`q_${Date.now()}`,questionText:(ie==null?void 0:ie.question)||(ie==null?void 0:ie.prompt)||(ie==null?void 0:ie.text)||"Practice Question",answerText:l,userKey:ot};e&&(_t.jobTitle=e.job_title,_t.seniority=e.seniority,_t.focusAreas=e.focus_areas,_t.industry=e.industry,_t.difficulty=e.difficulty);const jo=new Promise((Vs,Qt)=>{setTimeout(()=>Qt(new Error("Request timeout - server took too long to respond")),3e4)});console.log("[Fix My Answer] Sending request to /api/practice/answer",{payload:{..._t,answerText:((B=_t.answerText)==null?void 0:B.substring(0,50))+"..."}});const Rn=Te("/api/practice/answer",{method:"POST",body:_t}),$t=await Promise.race([Rn,jo]);if(a(200),o(new Date().toISOString()),!$t||$t.error&&!$t.improved)throw console.error("[Fix My Answer] Response indicates failure:",$t),new nt("Response indicates failure",($t==null?void 0:$t.status)||500,$t);const Ft=_v($t);u(Ft);const Yt=(ie==null?void 0:ie.id)||((be=ie==null?void 0:ie.question)==null?void 0:be.substring(0,20));Yt&&U.current!==Yt&&(U.current=Yt,Re(Vs=>Vs+1),console.log("[PRACTICE] Question answered, count:",xe+1,"/",O)),I({silent:!0}),S(!1)}catch(re){if(f(!1),I(),console.error("[Fix My Answer] API Error:",{status:re.status,message:re.message,data:re.data,stack:re.stack,name:re.name,isApiError:re instanceof nt}),re.message&&re.message.includes("timeout")){console.error("[Fix My Answer] Request timeout"),g("Request took too long. Please try again.");return}if(re instanceof nt&&re.status?(a(re.status),o(new Date().toISOString())):(a("error"),o(new Date().toISOString())),re instanceof nt&&(re.status===402&&(((at=re.data)==null?void 0:at.upgrade)===!0||((A=re.data)==null?void 0:A.blocked)===!0||((R=(ae=re.data)==null?void 0:ae.error)==null?void 0:R.toLowerCase().includes("limit")))||re.status===429||re.status===403&&(((Y=re.data)==null?void 0:Y.blocked)===!0||((me=re.data)==null?void 0:me.limit)===!0||((ye=re.message)==null?void 0:ye.toLowerCase().includes("limit"))||((Jt=(it=re.data)==null?void 0:it.error)==null?void 0:Jt.toLowerCase().includes("limit"))))){console.log("[Fix My Answer] Limit reached - showing paywall modal + backup error"),g(""),C({count:3,limit:3}),_e({used:3,limit:3,remaining:0,blocked:!0}),Re(3),k("fix_answer"),j(!0),g("You've used all 3 free attempts today. Upgrade to continue practicing!");return}if(re instanceof nt&&re.status&&re.status!==200&&(console.error("[Fix My Answer] Non-200 response:",re.status,re.data),re.status>=400)){const ke=JSON.stringify(re.data||re.message||"").toLowerCase();if(ke.includes("limit")||ke.includes("blocked")||ke.includes("upgrade")){g(""),C({count:3,limit:3}),_e({used:3,limit:3,remaining:0,blocked:!0}),Re(3),k("fix_answer"),j(!0),console.log("[Fix My Answer] Limit detected in error message - showing paywall modal");return}g(`Unable to process request (${re.status}). Please try again or upgrade if you've reached your limit.`);return}if(Kt(re)||!re.status){console.error("[Fix My Answer] Network error:",re.message),g("Connection issue. Check your internet and try again.");return}if(re.message&&(re.message.includes("JSON")||re.message.includes("parse")||re.message.includes("Unexpected token"))){console.error("[Fix My Answer] Parse error:",re.message),g("Invalid response from server. Please try again.");return}console.error("[Fix My Answer] Unexpected error:",re.status||re.message),g("Something went wrong. Please try again.");return}}catch(Ke){if(f(!1),console.error("[Fix My Answer] Outer catch error:",Ke),Ke.isFixUnavailable){g("Service temporarily unavailable. Please try again.");return}if(Kt(Ke)||!Ke.status){S(!0),g("Connection issue. Check your internet and try again.");return}g("Something went wrong. Please try again.")}finally{f(!1)}},Z=xP(d),z=()=>{ct("try_another_question_click",{page:"practice"}),c(""),u(null),g(""),f(!1);const X=q(Ee,ge);bt(X),$(B=>B+1)};return{text:l,setText:c,result:d,loading:h,error:m,setError:g,isTranscribing:y,setIsTranscribing:w,isRecording:b,setIsRecording:x,showUpgradeModal:v,setShowUpgradeModal:j,paywallSource:N,setPaywallSource:k,serverUnavailable:E,setServerUnavailable:S,freeImproveUsage:L,usage:{used:L.count||0,limit:L.limit===-1?1/0:L.limit||O,remaining:Math.max(0,(L.limit===-1?1/0:L.limit)-(L.count||0)),blocked:W.blocked||L.count>=L.limit},currentQuestion:ie,questionNumber:G,isPro:t,isPaywalled:T,improvedAnswerText:Z,handleImproveAnswer:D,handleTryAnotherQuestion:z,fetchFreeAttempts:I}}function xP(e){var t,r,n;return(e==null?void 0:e.improved)??(e==null?void 0:e.improvedAnswer)??((t=e==null?void 0:e.message)==null?void 0:t.improved)??((r=e==null?void 0:e.analysis)==null?void 0:r.improved)??((n=e==null?void 0:e.guidance)==null?void 0:n.improved)??""}function If(){var e;try{(e=window.speechSynthesis)==null||e.cancel()}catch{}try{window.__jsp_audio&&(window.__jsp_audio.pause(),window.__jsp_audio.currentTime=0)}catch{}}async function Ni({text:e,voiceId:t,speed:r=1}){const n=await fetch("/api/tts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,voiceId:t,speed:r})});let a=null;try{a=await n.json()}catch{return{ok:!1,mode:"server",error:"bad_json"}}return!n.ok||!(a!=null&&a.ok)?{ok:!1,mode:"server",error:(a==null?void 0:a.error)||(a==null?void 0:a.reason)||"server_failed",raw:a}:{ok:!0,mode:"server",audioBase64:a.audioBase64||null,audioUrl:a.audioUrl||null}}function ra({text:e,preferredVoiceName:t=null,rate:r=1,pitch:n=1}){return new Promise(a=>{if(!("speechSynthesis"in window)){a({ok:!1,mode:"browser",error:"speechSynthesis_unavailable"});return}const i=window.speechSynthesis;let o=i.getVoices();const l=()=>{if(o=i.getVoices(),!(o!=null&&o.length))return null;if(t){const h=o.find(f=>f.name===t);if(h)return h}return o.find(h=>(h.lang||"").toLowerCase().startsWith("en"))||o[0]},c=new SpeechSynthesisUtterance(e);c.rate=r,c.pitch=n;const d=l();d&&(c.voice=d),c.onend=()=>a({ok:!0,mode:"browser"}),c.onerror=()=>a({ok:!1,mode:"browser",error:"utterance_error"}),i.cancel(),i.speak(c)})}function Sv(e){return t=>typeof t===e}var gP=Sv("function"),bP=e=>e===null,sg=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",ng=e=>!yP(e)&&!bP(e)&&(gP(e)||typeof e=="object"),yP=Sv("undefined");function vP(e,t){const{length:r}=e;if(r!==t.length)return!1;for(let n=r;n--!==0;)if(!Lt(e[n],t[n]))return!1;return!0}function wP(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e.buffer),n=new DataView(t.buffer);let a=e.byteLength;for(;a--;)if(r.getUint8(a)!==n.getUint8(a))return!1;return!0}function jP(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;for(const r of e.entries())if(!Lt(r[1],t.get(r[0])))return!1;return!0}function kP(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;return!0}function Lt(e,t){if(e===t)return!0;if(e&&ng(e)&&t&&ng(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return vP(e,t);if(e instanceof Map&&t instanceof Map)return jP(e,t);if(e instanceof Set&&t instanceof Set)return kP(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return wP(e,t);if(sg(e)&&sg(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=r.length;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[a]))return!1;for(let a=r.length;a--!==0;){const i=r[a];if(!(i==="_owner"&&e.$$typeof)&&!Lt(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}var NP=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],_P=["bigint","boolean","null","number","string","symbol","undefined"];function Tc(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(SP(t))return t}function Or(e){return t=>Tc(t)===e}function SP(e){return NP.includes(e)}function $a(e){return t=>typeof t===e}function EP(e){return _P.includes(e)}var TP=["innerHTML","ownerDocument","style","attributes","nodeValue"];function V(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(V.array(e))return"Array";if(V.plainFunction(e))return"Function";const t=Tc(e);return t||"Object"}V.array=Array.isArray;V.arrayOf=(e,t)=>!V.array(e)&&!V.function(t)?!1:e.every(r=>t(r));V.asyncGeneratorFunction=e=>Tc(e)==="AsyncGeneratorFunction";V.asyncFunction=Or("AsyncFunction");V.bigint=$a("bigint");V.boolean=e=>e===!0||e===!1;V.date=Or("Date");V.defined=e=>!V.undefined(e);V.domElement=e=>V.object(e)&&!V.plainObject(e)&&e.nodeType===1&&V.string(e.nodeName)&&TP.every(t=>t in e);V.empty=e=>V.string(e)&&e.length===0||V.array(e)&&e.length===0||V.object(e)&&!V.map(e)&&!V.set(e)&&Object.keys(e).length===0||V.set(e)&&e.size===0||V.map(e)&&e.size===0;V.error=Or("Error");V.function=$a("function");V.generator=e=>V.iterable(e)&&V.function(e.next)&&V.function(e.throw);V.generatorFunction=Or("GeneratorFunction");V.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;V.iterable=e=>!V.nullOrUndefined(e)&&V.function(e[Symbol.iterator]);V.map=Or("Map");V.nan=e=>Number.isNaN(e);V.null=e=>e===null;V.nullOrUndefined=e=>V.null(e)||V.undefined(e);V.number=e=>$a("number")(e)&&!V.nan(e);V.numericString=e=>V.string(e)&&e.length>0&&!Number.isNaN(Number(e));V.object=e=>!V.nullOrUndefined(e)&&(V.function(e)||typeof e=="object");V.oneOf=(e,t)=>V.array(e)?e.indexOf(t)>-1:!1;V.plainFunction=Or("Function");V.plainObject=e=>{if(Tc(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};V.primitive=e=>V.null(e)||EP(typeof e);V.promise=Or("Promise");V.propertyOf=(e,t,r)=>{if(!V.object(e)||!t)return!1;const n=e[t];return V.function(r)?r(n):V.defined(n)};V.regexp=Or("RegExp");V.set=Or("Set");V.string=$a("string");V.symbol=$a("symbol");V.undefined=$a("undefined");V.weakMap=Or("WeakMap");V.weakSet=Or("WeakSet");var J=V;function CP(...e){return e.every(t=>J.string(t)||J.array(t)||J.plainObject(t))}function PP(e,t,r){return Ev(e,t)?[e,t].every(J.array)?!e.some(cg(r))&&t.some(cg(r)):[e,t].every(J.plainObject)?!Object.entries(e).some(lg(r))&&Object.entries(t).some(lg(r)):t===r:!1}function ag(e,t,r){const{actual:n,key:a,previous:i,type:o}=r,l=qr(e,a),c=qr(t,a);let d=[l,c].every(J.number)&&(o==="increased"?l<c:l>c);return J.undefined(n)||(d=d&&c===n),J.undefined(i)||(d=d&&l===i),d}function ig(e,t,r){const{key:n,type:a,value:i}=r,o=qr(e,n),l=qr(t,n),c=a==="added"?o:l,d=a==="added"?l:o;if(!J.nullOrUndefined(i)){if(J.defined(c)){if(J.array(c)||J.plainObject(c))return PP(c,d,i)}else return Lt(d,i);return!1}return[o,l].every(J.array)?!d.every(Af(c)):[o,l].every(J.plainObject)?RP(Object.keys(c),Object.keys(d)):![o,l].every(u=>J.primitive(u)&&J.defined(u))&&(a==="added"?!J.defined(o)&&J.defined(l):J.defined(o)&&!J.defined(l))}function og(e,t,{key:r}={}){let n=qr(e,r),a=qr(t,r);if(!Ev(n,a))throw new TypeError("Inputs have different types");if(!CP(n,a))throw new TypeError("Inputs don't have length");return[n,a].every(J.plainObject)&&(n=Object.keys(n),a=Object.keys(a)),[n,a]}function lg(e){return([t,r])=>J.array(e)?Lt(e,r)||e.some(n=>Lt(n,r)||J.array(r)&&Af(r)(n)):J.plainObject(e)&&e[t]?!!e[t]&&Lt(e[t],r):Lt(e,r)}function RP(e,t){return t.some(r=>!e.includes(r))}function cg(e){return t=>J.array(e)?e.some(r=>Lt(r,t)||J.array(t)&&Af(t)(r)):Lt(e,t)}function ei(e,t){return J.array(e)?e.some(r=>Lt(r,t)):Lt(e,t)}function Af(e){return t=>e.some(r=>Lt(r,t))}function Ev(...e){return e.every(J.array)||e.every(J.number)||e.every(J.plainObject)||e.every(J.string)}function qr(e,t){return J.plainObject(e)||J.array(e)?J.string(t)?t.split(".").reduce((n,a)=>n&&n[a],e):J.number(t)?e[t]:e:e}function Ql(e,t){if([e,t].some(J.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(u=>J.plainObject(u)||J.array(u)))throw new Error("Expected plain objects or array");return{added:(u,h)=>{try{return ig(e,t,{key:u,type:"added",value:h})}catch{return!1}},changed:(u,h,f)=>{try{const m=qr(e,u),g=qr(t,u),y=J.defined(h),w=J.defined(f);if(y||w){const b=w?ei(f,m):!ei(h,m),x=ei(h,g);return b&&x}return[m,g].every(J.array)||[m,g].every(J.plainObject)?!Lt(m,g):m!==g}catch{return!1}},changedFrom:(u,h,f)=>{if(!J.defined(u))return!1;try{const m=qr(e,u),g=qr(t,u),y=J.defined(f);return ei(h,m)&&(y?ei(f,g):!y)}catch{return!1}},decreased:(u,h,f)=>{if(!J.defined(u))return!1;try{return ag(e,t,{key:u,actual:h,previous:f,type:"decreased"})}catch{return!1}},emptied:u=>{try{const[h,f]=og(e,t,{key:u});return!!h.length&&!f.length}catch{return!1}},filled:u=>{try{const[h,f]=og(e,t,{key:u});return!h.length&&!!f.length}catch{return!1}},increased:(u,h,f)=>{if(!J.defined(u))return!1;try{return ag(e,t,{key:u,actual:h,previous:f,type:"increased"})}catch{return!1}},removed:(u,h)=>{try{return ig(e,t,{key:u,type:"removed",value:h})}catch{return!1}}}}var IP=new Error("Element already at target scroll position"),AP=new Error("Scroll cancelled"),OP=Math.min,dg=Date.now,LP={left:ug("scrollLeft"),top:ug("scrollTop")};function ug(e){return function(r,n,a,i){a=a||{},typeof a=="function"&&(i=a,a={}),typeof i!="function"&&(i=DP);var o=dg(),l=r[e],c=a.ease||UP,d=isNaN(a.duration)?350:+a.duration,u=!1;return l===n?i(IP,r[e]):requestAnimationFrame(f),h;function h(){u=!0}function f(m){if(u)return i(AP,r[e]);var g=dg(),y=OP(1,(g-o)/d),w=c(y);r[e]=w*(n-l)+l,y<1?requestAnimationFrame(f):requestAnimationFrame(function(){i(null,r[e])})}}}function UP(e){return .5*(1-Math.cos(Math.PI*e))}function DP(){}const MP=Nn(LP);var Tv={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.Scrollparent=r()})(Cw,function(){function t(n){var a=getComputedStyle(n,null).getPropertyValue("overflow");return a.indexOf("scroll")>-1||a.indexOf("auto")>-1}function r(n){if(n instanceof HTMLElement||n instanceof SVGElement){for(var a=n.parentNode;a.parentNode;){if(t(a))return a;a=a.parentNode}return document.scrollingElement||document.documentElement}}return r})})(Tv);var $P=Tv.exports;const Cv=Nn($P);var FP=function(e){return Object.prototype.hasOwnProperty.call(e,"props")},BP=function(e,t){return e+Zi(t)},Zi=function(e){return e===null||typeof e=="boolean"||typeof e>"u"?"":typeof e=="number"?e.toString():typeof e=="string"?e:Array.isArray(e)?e.reduce(BP,""):FP(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?Zi(e.props.children):""};Zi.default=Zi;var zP=Zi;const hg=Nn(zP);var WP=function(t){return qP(t)&&!HP(t)};function qP(e){return!!e&&typeof e=="object"}function HP(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||KP(e)}var GP=typeof Symbol=="function"&&Symbol.for,VP=GP?Symbol.for("react.element"):60103;function KP(e){return e.$$typeof===VP}function JP(e){return Array.isArray(e)?[]:{}}function eo(e,t){return t.clone!==!1&&t.isMergeableObject(e)?ka(JP(e),e,t):e}function YP(e,t,r){return e.concat(t).map(function(n){return eo(n,r)})}function QP(e,t){if(!t.customMerge)return ka;var r=t.customMerge(e);return typeof r=="function"?r:ka}function XP(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function fg(e){return Object.keys(e).concat(XP(e))}function Pv(e,t){try{return t in e}catch{return!1}}function ZP(e,t){return Pv(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function eR(e,t,r){var n={};return r.isMergeableObject(e)&&fg(e).forEach(function(a){n[a]=eo(e[a],r)}),fg(t).forEach(function(a){ZP(e,a)||(Pv(e,a)&&r.isMergeableObject(t[a])?n[a]=QP(a,r)(e[a],t[a],r):n[a]=eo(t[a],r))}),n}function ka(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||YP,r.isMergeableObject=r.isMergeableObject||WP,r.cloneUnlessOtherwiseSpecified=eo;var n=Array.isArray(t),a=Array.isArray(e),i=n===a;return i?n?r.arrayMerge(e,t,r):eR(e,t,r):eo(t,r)}ka.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,a){return ka(n,a,r)},{})};var tR=ka,rR=tR;const Cr=Nn(rR);var Rv={exports:{}},sR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nR=sR,aR=nR;function Iv(){}function Av(){}Av.resetWarningCache=Iv;var iR=function(){function e(n,a,i,o,l,c){if(c!==aR){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Av,resetWarningCache:Iv};return r.PropTypes=r,r};Rv.exports=iR();var oR=Rv.exports;const F=Nn(oR);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var po=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",lR=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(po&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function cR(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function dR(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},lR))}}var uR=po&&window.Promise,hR=uR?cR:dR;function Ov(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function Pn(e,t){if(e.nodeType!==1)return[];var r=e.ownerDocument.defaultView,n=r.getComputedStyle(e,null);return t?n[t]:n}function Of(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function xo(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Pn(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(r+a+n)?e:xo(Of(e))}function Lv(e){return e&&e.referenceNode?e.referenceNode:e}var mg=po&&!!(window.MSInputMethodContext&&document.documentMode),pg=po&&/MSIE 10/.test(navigator.userAgent);function Fa(e){return e===11?mg:e===10?pg:mg||pg}function Na(e){if(!e)return document.documentElement;for(var t=Fa(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return!n||n==="BODY"||n==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(r.nodeName)!==-1&&Pn(r,"position")==="static"?Na(r):r}function fR(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||Na(e.firstElementChild)===e}function sh(e){return e.parentNode!==null?sh(e.parentNode):e}function Xl(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,a=r?t:e,i=document.createRange();i.setStart(n,0),i.setEnd(a,0);var o=i.commonAncestorContainer;if(e!==o&&t!==o||n.contains(a))return fR(o)?o:Na(o);var l=sh(e);return l.host?Xl(l.host,t):Xl(e,sh(t).host)}function _a(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",r=t==="top"?"scrollTop":"scrollLeft",n=e.nodeName;if(n==="BODY"||n==="HTML"){var a=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||a;return i[r]}return e[r]}function mR(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=_a(t,"top"),a=_a(t,"left"),i=r?-1:1;return e.top+=n*i,e.bottom+=n*i,e.left+=a*i,e.right+=a*i,e}function xg(e,t){var r=t==="x"?"Left":"Top",n=r==="Left"?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function gg(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],Fa(10)?parseInt(r["offset"+e])+parseInt(n["margin"+(e==="Height"?"Top":"Left")])+parseInt(n["margin"+(e==="Height"?"Bottom":"Right")]):0)}function Uv(e){var t=e.body,r=e.documentElement,n=Fa(10)&&getComputedStyle(r);return{height:gg("Height",t,r,n),width:gg("Width",t,r,n)}}var pR=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},xR=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Sa=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function zs(e){return fr({},e,{right:e.left+e.width,bottom:e.top+e.height})}function nh(e){var t={};try{if(Fa(10)){t=e.getBoundingClientRect();var r=_a(e,"top"),n=_a(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch{}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i=e.nodeName==="HTML"?Uv(e.ownerDocument):{},o=i.width||e.clientWidth||a.width,l=i.height||e.clientHeight||a.height,c=e.offsetWidth-o,d=e.offsetHeight-l;if(c||d){var u=Pn(e);c-=xg(u,"x"),d-=xg(u,"y"),a.width-=c,a.height-=d}return zs(a)}function Lf(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=Fa(10),a=t.nodeName==="HTML",i=nh(e),o=nh(t),l=xo(e),c=Pn(t),d=parseFloat(c.borderTopWidth),u=parseFloat(c.borderLeftWidth);r&&a&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var h=zs({top:i.top-o.top-d,left:i.left-o.left-u,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!n&&a){var f=parseFloat(c.marginTop),m=parseFloat(c.marginLeft);h.top-=d-f,h.bottom-=d-f,h.left-=u-m,h.right-=u-m,h.marginTop=f,h.marginLeft=m}return(n&&!r?t.contains(l):t===l&&l.nodeName!=="BODY")&&(h=mR(h,t)),h}function gR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.ownerDocument.documentElement,n=Lf(e,r),a=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),o=t?0:_a(r),l=t?0:_a(r,"left"),c={top:o-n.top+n.marginTop,left:l-n.left+n.marginLeft,width:a,height:i};return zs(c)}function Dv(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(Pn(e,"position")==="fixed")return!0;var r=Of(e);return r?Dv(r):!1}function Mv(e){if(!e||!e.parentElement||Fa())return document.documentElement;for(var t=e.parentElement;t&&Pn(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function Uf(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i={top:0,left:0},o=a?Mv(e):Xl(e,Lv(t));if(n==="viewport")i=gR(o,a);else{var l=void 0;n==="scrollParent"?(l=xo(Of(t)),l.nodeName==="BODY"&&(l=e.ownerDocument.documentElement)):n==="window"?l=e.ownerDocument.documentElement:l=n;var c=Lf(l,o,a);if(l.nodeName==="HTML"&&!Dv(o)){var d=Uv(e.ownerDocument),u=d.height,h=d.width;i.top+=c.top-c.marginTop,i.bottom=u+c.top,i.left+=c.left-c.marginLeft,i.right=h+c.left}else i=c}r=r||0;var f=typeof r=="number";return i.left+=f?r:r.left||0,i.top+=f?r:r.top||0,i.right-=f?r:r.right||0,i.bottom-=f?r:r.bottom||0,i}function bR(e){var t=e.width,r=e.height;return t*r}function $v(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var o=Uf(r,n,i,a),l={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},c=Object.keys(l).map(function(f){return fr({key:f},l[f],{area:bR(l[f])})}).sort(function(f,m){return m.area-f.area}),d=c.filter(function(f){var m=f.width,g=f.height;return m>=r.clientWidth&&g>=r.clientHeight}),u=d.length>0?d[0].key:c[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function Fv(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=n?Mv(t):Xl(t,Lv(r));return Lf(r,a,n)}function Bv(e){var t=e.ownerDocument.defaultView,r=t.getComputedStyle(e),n=parseFloat(r.marginTop||0)+parseFloat(r.marginBottom||0),a=parseFloat(r.marginLeft||0)+parseFloat(r.marginRight||0),i={width:e.offsetWidth+a,height:e.offsetHeight+n};return i}function Zl(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(r){return t[r]})}function zv(e,t,r){r=r.split("-")[0];var n=Bv(e),a={width:n.width,height:n.height},i=["right","left"].indexOf(r)!==-1,o=i?"top":"left",l=i?"left":"top",c=i?"height":"width",d=i?"width":"height";return a[o]=t[o]+t[c]/2-n[c]/2,r===l?a[l]=t[l]-n[d]:a[l]=t[Zl(l)],a}function go(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function yR(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(a){return a[t]===r});var n=go(e,function(a){return a[t]===r});return e.indexOf(n)}function Wv(e,t,r){var n=r===void 0?e:e.slice(0,yR(e,"name",r));return n.forEach(function(a){a.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=a.function||a.fn;a.enabled&&Ov(i)&&(t.offsets.popper=zs(t.offsets.popper),t.offsets.reference=zs(t.offsets.reference),t=i(t,a))}),t}function vR(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Fv(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=$v(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=zv(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Wv(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function qv(e,t){return e.some(function(r){var n=r.name,a=r.enabled;return a&&n===t})}function Df(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var a=t[n],i=a?""+a+r:e;if(typeof document.body.style[i]<"u")return i}return null}function wR(){return this.state.isDestroyed=!0,qv(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Df("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Hv(e){var t=e.ownerDocument;return t?t.defaultView:window}function Gv(e,t,r,n){var a=e.nodeName==="BODY",i=a?e.ownerDocument.defaultView:e;i.addEventListener(t,r,{passive:!0}),a||Gv(xo(i.parentNode),t,r,n),n.push(i)}function jR(e,t,r,n){r.updateBound=n,Hv(e).addEventListener("resize",r.updateBound,{passive:!0});var a=xo(e);return Gv(a,"scroll",r.updateBound,r.scrollParents),r.scrollElement=a,r.eventsEnabled=!0,r}function kR(){this.state.eventsEnabled||(this.state=jR(this.reference,this.options,this.state,this.scheduleUpdate))}function NR(e,t){return Hv(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(r){r.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function _R(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=NR(this.reference,this.state))}function Mf(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function ah(e,t){Object.keys(t).forEach(function(r){var n="";["width","height","top","right","bottom","left"].indexOf(r)!==-1&&Mf(t[r])&&(n="px"),e.style[r]=t[r]+n})}function SR(e,t){Object.keys(t).forEach(function(r){var n=t[r];n!==!1?e.setAttribute(r,t[r]):e.removeAttribute(r)})}function ER(e){return ah(e.instance.popper,e.styles),SR(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&ah(e.arrowElement,e.arrowStyles),e}function TR(e,t,r,n,a){var i=Fv(a,t,e,r.positionFixed),o=$v(r.placement,i,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",o),ah(t,{position:r.positionFixed?"fixed":"absolute"}),r}function CR(e,t){var r=e.offsets,n=r.popper,a=r.reference,i=Math.round,o=Math.floor,l=function(b){return b},c=i(a.width),d=i(n.width),u=["left","right"].indexOf(e.placement)!==-1,h=e.placement.indexOf("-")!==-1,f=c%2===d%2,m=c%2===1&&d%2===1,g=t?u||h||f?i:o:l,y=t?i:l;return{left:g(m&&!h&&t?n.left-1:n.left),top:y(n.top),bottom:y(n.bottom),right:g(n.right)}}var PR=po&&/Firefox/i.test(navigator.userAgent);function RR(e,t){var r=t.x,n=t.y,a=e.offsets.popper,i=go(e.instance.modifiers,function(v){return v.name==="applyStyle"}).gpuAcceleration;i!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=i!==void 0?i:t.gpuAcceleration,l=Na(e.instance.popper),c=nh(l),d={position:a.position},u=CR(e,window.devicePixelRatio<2||!PR),h=r==="bottom"?"top":"bottom",f=n==="right"?"left":"right",m=Df("transform"),g=void 0,y=void 0;if(h==="bottom"?l.nodeName==="HTML"?y=-l.clientHeight+u.bottom:y=-c.height+u.bottom:y=u.top,f==="right"?l.nodeName==="HTML"?g=-l.clientWidth+u.right:g=-c.width+u.right:g=u.left,o&&m)d[m]="translate3d("+g+"px, "+y+"px, 0)",d[h]=0,d[f]=0,d.willChange="transform";else{var w=h==="bottom"?-1:1,b=f==="right"?-1:1;d[h]=y*w,d[f]=g*b,d.willChange=h+", "+f}var x={"x-placement":e.placement};return e.attributes=fr({},x,e.attributes),e.styles=fr({},d,e.styles),e.arrowStyles=fr({},e.offsets.arrow,e.arrowStyles),e}function Vv(e,t,r){var n=go(e,function(l){var c=l.name;return c===t}),a=!!n&&e.some(function(l){return l.name===r&&l.enabled&&l.order<n.order});if(!a){var i="`"+t+"`",o="`"+r+"`";console.warn(o+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return a}function IR(e,t){var r;if(!Vv(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if(typeof n=="string"){if(n=e.instance.popper.querySelector(n),!n)return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],i=e.offsets,o=i.popper,l=i.reference,c=["left","right"].indexOf(a)!==-1,d=c?"height":"width",u=c?"Top":"Left",h=u.toLowerCase(),f=c?"left":"top",m=c?"bottom":"right",g=Bv(n)[d];l[m]-g<o[h]&&(e.offsets.popper[h]-=o[h]-(l[m]-g)),l[h]+g>o[m]&&(e.offsets.popper[h]+=l[h]+g-o[m]),e.offsets.popper=zs(e.offsets.popper);var y=l[h]+l[d]/2-g/2,w=Pn(e.instance.popper),b=parseFloat(w["margin"+u]),x=parseFloat(w["border"+u+"Width"]),v=y-e.offsets.popper[h]-b-x;return v=Math.max(Math.min(o[d]-g,v),0),e.arrowElement=n,e.offsets.arrow=(r={},Sa(r,h,Math.round(v)),Sa(r,f,""),r),e}function AR(e){return e==="end"?"start":e==="start"?"end":e}var Kv=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Td=Kv.slice(3);function bg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=Td.indexOf(e),n=Td.slice(r+1).concat(Td.slice(0,r));return t?n.reverse():n}var Cd={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function OR(e,t){if(qv(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var r=Uf(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],a=Zl(n),i=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case Cd.FLIP:o=[n,a];break;case Cd.CLOCKWISE:o=bg(n);break;case Cd.COUNTERCLOCKWISE:o=bg(n,!0);break;default:o=t.behavior}return o.forEach(function(l,c){if(n!==l||o.length===c+1)return e;n=e.placement.split("-")[0],a=Zl(n);var d=e.offsets.popper,u=e.offsets.reference,h=Math.floor,f=n==="left"&&h(d.right)>h(u.left)||n==="right"&&h(d.left)<h(u.right)||n==="top"&&h(d.bottom)>h(u.top)||n==="bottom"&&h(d.top)<h(u.bottom),m=h(d.left)<h(r.left),g=h(d.right)>h(r.right),y=h(d.top)<h(r.top),w=h(d.bottom)>h(r.bottom),b=n==="left"&&m||n==="right"&&g||n==="top"&&y||n==="bottom"&&w,x=["top","bottom"].indexOf(n)!==-1,v=!!t.flipVariations&&(x&&i==="start"&&m||x&&i==="end"&&g||!x&&i==="start"&&y||!x&&i==="end"&&w),j=!!t.flipVariationsByContent&&(x&&i==="start"&&g||x&&i==="end"&&m||!x&&i==="start"&&w||!x&&i==="end"&&y),N=v||j;(f||b||N)&&(e.flipped=!0,(f||b)&&(n=o[c+1]),N&&(i=AR(i)),e.placement=n+(i?"-"+i:""),e.offsets.popper=fr({},e.offsets.popper,zv(e.instance.popper,e.offsets.reference,e.placement)),e=Wv(e.instance.modifiers,e,"flip"))}),e}function LR(e){var t=e.offsets,r=t.popper,n=t.reference,a=e.placement.split("-")[0],i=Math.floor,o=["top","bottom"].indexOf(a)!==-1,l=o?"right":"bottom",c=o?"left":"top",d=o?"width":"height";return r[l]<i(n[c])&&(e.offsets.popper[c]=i(n[c])-r[d]),r[c]>i(n[l])&&(e.offsets.popper[c]=i(n[l])),e}function UR(e,t,r,n){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+a[1],o=a[2];if(!i)return e;if(o.indexOf("%")===0){var l=void 0;switch(o){case"%p":l=r;break;case"%":case"%r":default:l=n}var c=zs(l);return c[t]/100*i}else if(o==="vh"||o==="vw"){var d=void 0;return o==="vh"?d=Math.max(document.documentElement.clientHeight,window.innerHeight||0):d=Math.max(document.documentElement.clientWidth,window.innerWidth||0),d/100*i}else return i}function DR(e,t,r,n){var a=[0,0],i=["right","left"].indexOf(n)!==-1,o=e.split(/(\+|\-)/).map(function(u){return u.trim()}),l=o.indexOf(go(o,function(u){return u.search(/,|\s/)!==-1}));o[l]&&o[l].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,d=l!==-1?[o.slice(0,l).concat([o[l].split(c)[0]]),[o[l].split(c)[1]].concat(o.slice(l+1))]:[o];return d=d.map(function(u,h){var f=(h===1?!i:i)?"height":"width",m=!1;return u.reduce(function(g,y){return g[g.length-1]===""&&["+","-"].indexOf(y)!==-1?(g[g.length-1]=y,m=!0,g):m?(g[g.length-1]+=y,m=!1,g):g.concat(y)},[]).map(function(g){return UR(g,f,t,r)})}),d.forEach(function(u,h){u.forEach(function(f,m){Mf(f)&&(a[h]+=f*(u[m-1]==="-"?-1:1))})}),a}function MR(e,t){var r=t.offset,n=e.placement,a=e.offsets,i=a.popper,o=a.reference,l=n.split("-")[0],c=void 0;return Mf(+r)?c=[+r,0]:c=DR(r,i,o,l),l==="left"?(i.top+=c[0],i.left-=c[1]):l==="right"?(i.top+=c[0],i.left+=c[1]):l==="top"?(i.left+=c[0],i.top-=c[1]):l==="bottom"&&(i.left+=c[0],i.top+=c[1]),e.popper=i,e}function $R(e,t){var r=t.boundariesElement||Na(e.instance.popper);e.instance.reference===r&&(r=Na(r));var n=Df("transform"),a=e.instance.popper.style,i=a.top,o=a.left,l=a[n];a.top="",a.left="",a[n]="";var c=Uf(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);a.top=i,a.left=o,a[n]=l,t.boundaries=c;var d=t.priority,u=e.offsets.popper,h={primary:function(m){var g=u[m];return u[m]<c[m]&&!t.escapeWithReference&&(g=Math.max(u[m],c[m])),Sa({},m,g)},secondary:function(m){var g=m==="right"?"left":"top",y=u[g];return u[m]>c[m]&&!t.escapeWithReference&&(y=Math.min(u[g],c[m]-(m==="right"?u.width:u.height))),Sa({},g,y)}};return d.forEach(function(f){var m=["left","top"].indexOf(f)!==-1?"primary":"secondary";u=fr({},u,h[m](f))}),e.offsets.popper=u,e}function FR(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var a=e.offsets,i=a.reference,o=a.popper,l=["bottom","top"].indexOf(r)!==-1,c=l?"left":"top",d=l?"width":"height",u={start:Sa({},c,i[c]),end:Sa({},c,i[c]+i[d]-o[d])};e.offsets.popper=fr({},o,u[n])}return e}function BR(e){if(!Vv(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=go(e.instance.modifiers,function(n){return n.name==="preventOverflow"}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function zR(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,a=n.popper,i=n.reference,o=["left","right"].indexOf(r)!==-1,l=["top","left"].indexOf(r)===-1;return a[o?"left":"top"]=i[r]-(l?a[o?"width":"height"]:0),e.placement=Zl(t),e.offsets.popper=zs(a),e}var WR={shift:{order:100,enabled:!0,fn:FR},offset:{order:200,enabled:!0,fn:MR,offset:0},preventOverflow:{order:300,enabled:!0,fn:$R,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:LR},arrow:{order:500,enabled:!0,fn:IR,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:OR,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:zR},hide:{order:800,enabled:!0,fn:BR},computeStyle:{order:850,enabled:!0,fn:RR,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:ER,onLoad:TR,gpuAcceleration:void 0}},qR={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:WR},to=function(){function e(t,r){var n=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};pR(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=hR(this.update.bind(this)),this.options=fr({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(fr({},e.Defaults.modifiers,a.modifiers)).forEach(function(o){n.options.modifiers[o]=fr({},e.Defaults.modifiers[o]||{},a.modifiers?a.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return fr({name:o},n.options.modifiers[o])}).sort(function(o,l){return o.order-l.order}),this.modifiers.forEach(function(o){o.enabled&&Ov(o.onLoad)&&o.onLoad(n.reference,n.popper,n.options,o,n.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return xR(e,[{key:"update",value:function(){return vR.call(this)}},{key:"destroy",value:function(){return wR.call(this)}},{key:"enableEventListeners",value:function(){return kR.call(this)}},{key:"disableEventListeners",value:function(){return _R.call(this)}}]),e}();to.Utils=(typeof window<"u"?window:global).PopperUtils;to.placements=Kv;to.Defaults=qR;var HR=["innerHTML","ownerDocument","style","attributes","nodeValue"],GR=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],VR=["bigint","boolean","null","number","string","symbol","undefined"];function Cc(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(KR(t))return t}function Lr(e){return function(t){return Cc(t)===e}}function KR(e){return GR.includes(e)}function Ba(e){return function(t){return typeof t===e}}function JR(e){return VR.includes(e)}function P(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(P.array(e))return"Array";if(P.plainFunction(e))return"Function";var t=Cc(e);return t||"Object"}P.array=Array.isArray;P.arrayOf=function(e,t){return!P.array(e)&&!P.function(t)?!1:e.every(function(r){return t(r)})};P.asyncGeneratorFunction=function(e){return Cc(e)==="AsyncGeneratorFunction"};P.asyncFunction=Lr("AsyncFunction");P.bigint=Ba("bigint");P.boolean=function(e){return e===!0||e===!1};P.date=Lr("Date");P.defined=function(e){return!P.undefined(e)};P.domElement=function(e){return P.object(e)&&!P.plainObject(e)&&e.nodeType===1&&P.string(e.nodeName)&&HR.every(function(t){return t in e})};P.empty=function(e){return P.string(e)&&e.length===0||P.array(e)&&e.length===0||P.object(e)&&!P.map(e)&&!P.set(e)&&Object.keys(e).length===0||P.set(e)&&e.size===0||P.map(e)&&e.size===0};P.error=Lr("Error");P.function=Ba("function");P.generator=function(e){return P.iterable(e)&&P.function(e.next)&&P.function(e.throw)};P.generatorFunction=Lr("GeneratorFunction");P.instanceOf=function(e,t){return!e||!t?!1:Object.getPrototypeOf(e)===t.prototype};P.iterable=function(e){return!P.nullOrUndefined(e)&&P.function(e[Symbol.iterator])};P.map=Lr("Map");P.nan=function(e){return Number.isNaN(e)};P.null=function(e){return e===null};P.nullOrUndefined=function(e){return P.null(e)||P.undefined(e)};P.number=function(e){return Ba("number")(e)&&!P.nan(e)};P.numericString=function(e){return P.string(e)&&e.length>0&&!Number.isNaN(Number(e))};P.object=function(e){return!P.nullOrUndefined(e)&&(P.function(e)||typeof e=="object")};P.oneOf=function(e,t){return P.array(e)?e.indexOf(t)>-1:!1};P.plainFunction=Lr("Function");P.plainObject=function(e){if(Cc(e)!=="Object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};P.primitive=function(e){return P.null(e)||JR(typeof e)};P.promise=Lr("Promise");P.propertyOf=function(e,t,r){if(!P.object(e)||!t)return!1;var n=e[t];return P.function(r)?r(n):P.defined(n)};P.regexp=Lr("RegExp");P.set=Lr("Set");P.string=Ba("string");P.symbol=Ba("symbol");P.undefined=Ba("undefined");P.weakMap=Lr("WeakMap");P.weakSet=Lr("WeakSet");function Jv(e){return function(t){return typeof t===e}}var YR=Jv("function"),QR=function(e){return e===null},yg=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},vg=function(e){return!XR(e)&&!QR(e)&&(YR(e)||typeof e=="object")},XR=Jv("undefined"),ih=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function ZR(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=r;n--!==0;)if(!qt(e[n],t[n]))return!1;return!0}function e3(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=new DataView(e.buffer),n=new DataView(t.buffer),a=e.byteLength;a--;)if(r.getUint8(a)!==n.getUint8(a))return!1;return!0}function t3(e,t){var r,n,a,i;if(e.size!==t.size)return!1;try{for(var o=ih(e.entries()),l=o.next();!l.done;l=o.next()){var c=l.value;if(!t.has(c[0]))return!1}}catch(h){r={error:h}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}try{for(var d=ih(e.entries()),u=d.next();!u.done;u=d.next()){var c=u.value;if(!qt(c[1],t.get(c[0])))return!1}}catch(h){a={error:h}}finally{try{u&&!u.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}return!0}function r3(e,t){var r,n;if(e.size!==t.size)return!1;try{for(var a=ih(e.entries()),i=a.next();!i.done;i=a.next()){var o=i.value;if(!t.has(o[0]))return!1}}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!0}function qt(e,t){if(e===t)return!0;if(e&&vg(e)&&t&&vg(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return ZR(e,t);if(e instanceof Map&&t instanceof Map)return t3(e,t);if(e instanceof Set&&t instanceof Set)return r3(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e3(e,t);if(yg(e)&&yg(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=r.length;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[a]))return!1;for(var a=r.length;a--!==0;){var i=r[a];if(!(i==="_owner"&&e.$$typeof)&&!qt(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}function s3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(r){return P.string(r)||P.array(r)||P.plainObject(r)})}function n3(e,t,r){return Yv(e,t)?[e,t].every(P.array)?!e.some(_g(r))&&t.some(_g(r)):[e,t].every(P.plainObject)?!Object.entries(e).some(Ng(r))&&Object.entries(t).some(Ng(r)):t===r:!1}function wg(e,t,r){var n=r.actual,a=r.key,i=r.previous,o=r.type,l=Hr(e,a),c=Hr(t,a),d=[l,c].every(P.number)&&(o==="increased"?l<c:l>c);return P.undefined(n)||(d=d&&c===n),P.undefined(i)||(d=d&&l===i),d}function jg(e,t,r){var n=r.key,a=r.type,i=r.value,o=Hr(e,n),l=Hr(t,n),c=a==="added"?o:l,d=a==="added"?l:o;if(!P.nullOrUndefined(i)){if(P.defined(c)){if(P.array(c)||P.plainObject(c))return n3(c,d,i)}else return qt(d,i);return!1}return[o,l].every(P.array)?!d.every($f(c)):[o,l].every(P.plainObject)?a3(Object.keys(c),Object.keys(d)):![o,l].every(function(u){return P.primitive(u)&&P.defined(u)})&&(a==="added"?!P.defined(o)&&P.defined(l):P.defined(o)&&!P.defined(l))}function kg(e,t,r){var n=r===void 0?{}:r,a=n.key,i=Hr(e,a),o=Hr(t,a);if(!Yv(i,o))throw new TypeError("Inputs have different types");if(!s3(i,o))throw new TypeError("Inputs don't have length");return[i,o].every(P.plainObject)&&(i=Object.keys(i),o=Object.keys(o)),[i,o]}function Ng(e){return function(t){var r=t[0],n=t[1];return P.array(e)?qt(e,n)||e.some(function(a){return qt(a,n)||P.array(n)&&$f(n)(a)}):P.plainObject(e)&&e[r]?!!e[r]&&qt(e[r],n):qt(e,n)}}function a3(e,t){return t.some(function(r){return!e.includes(r)})}function _g(e){return function(t){return P.array(e)?e.some(function(r){return qt(r,t)||P.array(t)&&$f(t)(r)}):qt(e,t)}}function ti(e,t){return P.array(e)?e.some(function(r){return qt(r,t)}):qt(e,t)}function $f(e){return function(t){return e.some(function(r){return qt(r,t)})}}function Yv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(P.array)||e.every(P.number)||e.every(P.plainObject)||e.every(P.string)}function Hr(e,t){if(P.plainObject(e)||P.array(e)){if(P.string(t)){var r=t.split(".");return r.reduce(function(n,a){return n&&n[a]},e)}return P.number(t)?e[t]:e}return e}function i3(e,t){if([e,t].some(P.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(h){return P.plainObject(h)||P.array(h)}))throw new Error("Expected plain objects or array");var r=function(h,f){try{return jg(e,t,{key:h,type:"added",value:f})}catch{return!1}},n=function(h,f,m){try{var g=Hr(e,h),y=Hr(t,h),w=P.defined(f),b=P.defined(m);if(w||b){var x=b?ti(m,g):!ti(f,g),v=ti(f,y);return x&&v}return[g,y].every(P.array)||[g,y].every(P.plainObject)?!qt(g,y):g!==y}catch{return!1}},a=function(h,f,m){if(!P.defined(h))return!1;try{var g=Hr(e,h),y=Hr(t,h),w=P.defined(m);return ti(f,g)&&(w?ti(m,y):!w)}catch{return!1}},i=function(h,f){return P.defined(h)?n(h,f):!1},o=function(h,f,m){if(!P.defined(h))return!1;try{return wg(e,t,{key:h,actual:f,previous:m,type:"decreased"})}catch{return!1}},l=function(h){try{var f=kg(e,t,{key:h}),m=f[0],g=f[1];return!!m.length&&!g.length}catch{return!1}},c=function(h){try{var f=kg(e,t,{key:h}),m=f[0],g=f[1];return!m.length&&!!g.length}catch{return!1}},d=function(h,f,m){if(!P.defined(h))return!1;try{return wg(e,t,{key:h,actual:f,previous:m,type:"increased"})}catch{return!1}},u=function(h,f){try{return jg(e,t,{key:h,type:"removed",value:f})}catch{return!1}};return{added:r,changed:n,changedFrom:a,changedTo:i,decreased:o,emptied:l,filled:c,increased:d,removed:u}}function Sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(r),!0).forEach(function(n){Tt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xv(n.key),n)}}function yo(e,t,r){return t&&o3(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tt(e,t,r){return t=Xv(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oh(e,t)}function ec(e){return ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ec(e)}function oh(e,t){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oh(e,t)}function l3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c3(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Qv(e,t){if(e==null)return{};var r=c3(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d3(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}function wo(e){var t=l3();return function(){var n=ec(e),a;if(t){var i=ec(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return d3(this,a)}}function u3(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xv(e){var t=u3(e,"string");return typeof t=="symbol"?t:String(t)}var h3={flip:{padding:20},preventOverflow:{padding:10}},f3="The typeValidator argument must be a function with the signature function(props, propName, componentName).",m3="The error message is optional, but must be a string if provided.";function p3(e,t,r,n){return typeof e=="boolean"?e:typeof e=="function"?e(t,r,n):e?!!e:!1}function x3(e,t){return Object.hasOwnProperty.call(e,t)}function g3(e,t,r,n){return new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(r,"`."))}function b3(e,t){if(typeof e!="function")throw new TypeError(f3);if(t&&typeof t!="string")throw new TypeError(m3)}function Eg(e,t,r){return b3(e,r),function(n,a,i){for(var o=arguments.length,l=new Array(o>3?o-3:0),c=3;c<o;c++)l[c-3]=arguments[c];return p3(t,n,a,i)?x3(n,a)?e.apply(void 0,[n,a,i].concat(l)):g3(n,a,i):e.apply(void 0,[n,a,i].concat(l))}}var Pe={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},ri=bl.createPortal!==void 0;function Br(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Pd(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function Zo(e){var t=e.title,r=e.data,n=e.warn,a=n===void 0?!1:n,i=e.debug,o=i===void 0?!1:i,l=a?console.warn||console.error:console.log;o&&t&&r&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(r)?r.forEach(function(c){P.plainObject(c)&&c.key?l.apply(console,[c.key,c.value]):l.apply(console,[c])}):l.apply(console,[r]),console.groupEnd())}function y3(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(t,r,n)}function v3(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(t,r,n)}function w3(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a;a=function(o){r(o),v3(e,t,a)},y3(e,t,a,n)}function Tg(){}var Zv=function(e){vo(r,e);var t=wo(r);function r(){return bo(this,r),t.apply(this,arguments)}return yo(r,[{key:"componentDidMount",value:function(){Br()&&(this.node||this.appendNode(),ri||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Br()&&(ri||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Br()||!this.node||(ri||bl.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var a=this.props,i=a.id,o=a.zIndex;this.node||(this.node=document.createElement("div"),i&&(this.node.id=i),o&&(this.node.style.zIndex=o),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Br())return null;var a=this.props,i=a.children,o=a.setRef;if(this.node||this.appendNode(),ri)return bl.createPortal(i,this.node);var l=bl.unstable_renderSubtreeIntoContainer(this,i.length>1?se.createElement("div",null,i):i[0],this.node);return o(l),null}},{key:"renderReact16",value:function(){var a=this.props,i=a.hasChildren,o=a.placement,l=a.target;return i?this.renderPortal():l||o==="center"?this.renderPortal():null}},{key:"render",value:function(){return ri?this.renderReact16():null}}]),r}(se.Component);Tt(Zv,"propTypes",{children:F.oneOfType([F.element,F.array]),hasChildren:F.bool,id:F.oneOfType([F.string,F.number]),placement:F.string,setRef:F.func.isRequired,target:F.oneOfType([F.object,F.string]),zIndex:F.number});var ew=function(e){vo(r,e);var t=wo(r);function r(){return bo(this,r),t.apply(this,arguments)}return yo(r,[{key:"parentStyle",get:function(){var a=this.props,i=a.placement,o=a.styles,l=o.arrow.length,c={pointerEvents:"none",position:"absolute",width:"100%"};return i.startsWith("top")?(c.bottom=0,c.left=0,c.right=0,c.height=l):i.startsWith("bottom")?(c.left=0,c.right=0,c.top=0,c.height=l):i.startsWith("left")?(c.right=0,c.top=0,c.bottom=0):i.startsWith("right")&&(c.left=0,c.top=0),c}},{key:"render",value:function(){var a=this.props,i=a.placement,o=a.setArrowRef,l=a.styles,c=l.arrow,d=c.color,u=c.display,h=c.length,f=c.margin,m=c.position,g=c.spread,y={display:u,position:m},w,b=g,x=h;return i.startsWith("top")?(w="0,0 ".concat(b/2,",").concat(x," ").concat(b,",0"),y.bottom=0,y.marginLeft=f,y.marginRight=f):i.startsWith("bottom")?(w="".concat(b,",").concat(x," ").concat(b/2,",0 0,").concat(x),y.top=0,y.marginLeft=f,y.marginRight=f):i.startsWith("left")?(x=g,b=h,w="0,0 ".concat(b,",").concat(x/2," 0,").concat(x),y.right=0,y.marginTop=f,y.marginBottom=f):i.startsWith("right")&&(x=g,b=h,w="".concat(b,",").concat(x," ").concat(b,",0 0,").concat(x/2),y.left=0,y.marginTop=f,y.marginBottom=f),se.createElement("div",{className:"__floater__arrow",style:this.parentStyle},se.createElement("span",{ref:o,style:y},se.createElement("svg",{width:b,height:x,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},se.createElement("polygon",{points:w,fill:d}))))}}]),r}(se.Component);Tt(ew,"propTypes",{placement:F.string.isRequired,setArrowRef:F.func.isRequired,styles:F.object.isRequired});var j3=["color","height","width"];function tw(e){var t=e.handleClick,r=e.styles,n=r.color,a=r.height,i=r.width,o=Qv(r,j3);return se.createElement("button",{"aria-label":"close",onClick:t,style:o,type:"button"},se.createElement("svg",{width:"".concat(i,"px"),height:"".concat(a,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},se.createElement("g",null,se.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}tw.propTypes={handleClick:F.func.isRequired,styles:F.object.isRequired};function rw(e){var t=e.content,r=e.footer,n=e.handleClick,a=e.open,i=e.positionWrapper,o=e.showCloseButton,l=e.title,c=e.styles,d={content:se.isValidElement(t)?t:se.createElement("div",{className:"__floater__content",style:c.content},t)};return l&&(d.title=se.isValidElement(l)?l:se.createElement("div",{className:"__floater__title",style:c.title},l)),r&&(d.footer=se.isValidElement(r)?r:se.createElement("div",{className:"__floater__footer",style:c.footer},r)),(o||i)&&!P.boolean(a)&&(d.close=se.createElement(tw,{styles:c.close,handleClick:n})),se.createElement("div",{className:"__floater__container",style:c.container},d.close,d.title,d.content,d.footer)}rw.propTypes={content:F.node.isRequired,footer:F.node,handleClick:F.func.isRequired,open:F.bool,positionWrapper:F.bool.isRequired,showCloseButton:F.bool.isRequired,styles:F.object.isRequired,title:F.node};var sw=function(e){vo(r,e);var t=wo(r);function r(){return bo(this,r),t.apply(this,arguments)}return yo(r,[{key:"style",get:function(){var a=this.props,i=a.disableAnimation,o=a.component,l=a.placement,c=a.hideArrow,d=a.status,u=a.styles,h=u.arrow.length,f=u.floater,m=u.floaterCentered,g=u.floaterClosing,y=u.floaterOpening,w=u.floaterWithAnimation,b=u.floaterWithComponent,x={};return c||(l.startsWith("top")?x.padding="0 0 ".concat(h,"px"):l.startsWith("bottom")?x.padding="".concat(h,"px 0 0"):l.startsWith("left")?x.padding="0 ".concat(h,"px 0 0"):l.startsWith("right")&&(x.padding="0 0 0 ".concat(h,"px"))),[Pe.OPENING,Pe.OPEN].indexOf(d)!==-1&&(x=Ye(Ye({},x),y)),d===Pe.CLOSING&&(x=Ye(Ye({},x),g)),d===Pe.OPEN&&!i&&(x=Ye(Ye({},x),w)),l==="center"&&(x=Ye(Ye({},x),m)),o&&(x=Ye(Ye({},x),b)),Ye(Ye({},f),x)}},{key:"render",value:function(){var a=this.props,i=a.component,o=a.handleClick,l=a.hideArrow,c=a.setFloaterRef,d=a.status,u={},h=["__floater"];return i?se.isValidElement(i)?u.content=se.cloneElement(i,{closeFn:o}):u.content=i({closeFn:o}):u.content=se.createElement(rw,this.props),d===Pe.OPEN&&h.push("__floater__open"),l||(u.arrow=se.createElement(ew,this.props)),se.createElement("div",{ref:c,className:h.join(" "),style:this.style},se.createElement("div",{className:"__floater__body"},u.content,u.arrow))}}]),r}(se.Component);Tt(sw,"propTypes",{component:F.oneOfType([F.func,F.element]),content:F.node,disableAnimation:F.bool.isRequired,footer:F.node,handleClick:F.func.isRequired,hideArrow:F.bool.isRequired,open:F.bool,placement:F.string.isRequired,positionWrapper:F.bool.isRequired,setArrowRef:F.func.isRequired,setFloaterRef:F.func.isRequired,showCloseButton:F.bool,status:F.string.isRequired,styles:F.object.isRequired,title:F.node});var nw=function(e){vo(r,e);var t=wo(r);function r(){return bo(this,r),t.apply(this,arguments)}return yo(r,[{key:"render",value:function(){var a=this.props,i=a.children,o=a.handleClick,l=a.handleMouseEnter,c=a.handleMouseLeave,d=a.setChildRef,u=a.setWrapperRef,h=a.style,f=a.styles,m;if(i)if(se.Children.count(i)===1)if(!se.isValidElement(i))m=se.createElement("span",null,i);else{var g=P.function(i.type)?"innerRef":"ref";m=se.cloneElement(se.Children.only(i),Tt({},g,d))}else m=i;return m?se.createElement("span",{ref:u,style:Ye(Ye({},f),h),onClick:o,onMouseEnter:l,onMouseLeave:c},m):null}}]),r}(se.Component);Tt(nw,"propTypes",{children:F.node,handleClick:F.func.isRequired,handleMouseEnter:F.func.isRequired,handleMouseLeave:F.func.isRequired,setChildRef:F.func.isRequired,setWrapperRef:F.func.isRequired,style:F.object,styles:F.object.isRequired});var k3={zIndex:100};function N3(e){var t=Cr(k3,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}var _3=["arrow","flip","offset"],S3=["position","top","right","bottom","left"],Ff=function(e){vo(r,e);var t=wo(r);function r(n){var a;return bo(this,r),a=t.call(this,n),Tt(Qr(a),"setArrowRef",function(i){a.arrowRef=i}),Tt(Qr(a),"setChildRef",function(i){a.childRef=i}),Tt(Qr(a),"setFloaterRef",function(i){a.floaterRef=i}),Tt(Qr(a),"setWrapperRef",function(i){a.wrapperRef=i}),Tt(Qr(a),"handleTransitionEnd",function(){var i=a.state.status,o=a.props.callback;a.wrapperPopper&&a.wrapperPopper.instance.update(),a.setState({status:i===Pe.OPENING?Pe.OPEN:Pe.IDLE},function(){var l=a.state.status;o(l===Pe.OPEN?"open":"close",a.props)})}),Tt(Qr(a),"handleClick",function(){var i=a.props,o=i.event,l=i.open;if(!P.boolean(l)){var c=a.state,d=c.positionWrapper,u=c.status;(a.event==="click"||a.event==="hover"&&d)&&(Zo({title:"click",data:[{event:o,status:u===Pe.OPEN?"closing":"opening"}],debug:a.debug}),a.toggle())}}),Tt(Qr(a),"handleMouseEnter",function(){var i=a.props,o=i.event,l=i.open;if(!(P.boolean(l)||Pd())){var c=a.state.status;a.event==="hover"&&c===Pe.IDLE&&(Zo({title:"mouseEnter",data:[{key:"originalEvent",value:o}],debug:a.debug}),clearTimeout(a.eventDelayTimeout),a.toggle())}}),Tt(Qr(a),"handleMouseLeave",function(){var i=a.props,o=i.event,l=i.eventDelay,c=i.open;if(!(P.boolean(c)||Pd())){var d=a.state,u=d.status,h=d.positionWrapper;a.event==="hover"&&(Zo({title:"mouseLeave",data:[{key:"originalEvent",value:o}],debug:a.debug}),l?[Pe.OPENING,Pe.OPEN].indexOf(u)!==-1&&!h&&!a.eventDelayTimeout&&(a.eventDelayTimeout=setTimeout(function(){delete a.eventDelayTimeout,a.toggle()},l*1e3)):a.toggle(Pe.IDLE))}}),a.state={currentPlacement:n.placement,needsUpdate:!1,positionWrapper:n.wrapperOptions.position&&!!n.target,status:Pe.INIT,statusWrapper:Pe.INIT},a._isMounted=!1,a.hasMounted=!1,Br()&&window.addEventListener("load",function(){a.popper&&a.popper.instance.update(),a.wrapperPopper&&a.wrapperPopper.instance.update()}),a}return yo(r,[{key:"componentDidMount",value:function(){if(Br()){var a=this.state.positionWrapper,i=this.props,o=i.children,l=i.open,c=i.target;this._isMounted=!0,Zo({title:"init",data:{hasChildren:!!o,hasTarget:!!c,isControlled:P.boolean(l),positionWrapper:a,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!o&&c&&P.boolean(l)}}},{key:"componentDidUpdate",value:function(a,i){if(Br()){var o=this.props,l=o.autoOpen,c=o.open,d=o.target,u=o.wrapperOptions,h=i3(i,this.state),f=h.changedFrom,m=h.changed;if(a.open!==c){var g;P.boolean(c)&&(g=c?Pe.OPENING:Pe.CLOSING),this.toggle(g)}(a.wrapperOptions.position!==u.position||a.target!==d)&&this.changeWrapperPosition(this.props),m("status",Pe.IDLE)&&c?this.toggle(Pe.OPEN):f("status",Pe.INIT,Pe.IDLE)&&l&&this.toggle(Pe.OPEN),this.popper&&m("status",Pe.OPENING)&&this.popper.instance.update(),this.floaterRef&&(m("status",Pe.OPENING)||m("status",Pe.CLOSING))&&w3(this.floaterRef,"transitionend",this.handleTransitionEnd),m("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Br()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,o=this.state.positionWrapper,l=this.props,c=l.disableFlip,d=l.getPopper,u=l.hideArrow,h=l.offset,f=l.placement,m=l.wrapperOptions,g=f==="top"||f==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(f==="center")this.setState({status:Pe.IDLE});else if(i&&this.floaterRef){var y=this.options,w=y.arrow,b=y.flip,x=y.offset,v=Qv(y,_3);new to(i,this.floaterRef,{placement:f,modifiers:Ye({arrow:Ye({enabled:!u,element:this.arrowRef},w),flip:Ye({enabled:!c,behavior:g},b),offset:Ye({offset:"0, ".concat(h,"px")},x)},v),onCreate:function(k){var E;if(a.popper=k,!((E=a.floaterRef)!==null&&E!==void 0&&E.isConnected)){a.setState({needsUpdate:!0});return}d(k,"floater"),a._isMounted&&a.setState({currentPlacement:k.placement,status:Pe.IDLE}),f!==k.placement&&setTimeout(function(){k.instance.update()},1)},onUpdate:function(k){a.popper=k;var E=a.state.currentPlacement;a._isMounted&&k.placement!==E&&a.setState({currentPlacement:k.placement})}})}if(o){var j=P.undefined(m.offset)?0:m.offset;new to(this.target,this.wrapperRef,{placement:m.placement||f,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(j,"px")},flip:{enabled:!1}},onCreate:function(k){a.wrapperPopper=k,a._isMounted&&a.setState({statusWrapper:Pe.IDLE}),d(k,"wrapper"),f!==k.placement&&setTimeout(function(){k.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var a=this;this.floaterRefInterval=setInterval(function(){var i;(i=a.floaterRef)!==null&&i!==void 0&&i.isConnected&&(clearInterval(a.floaterRefInterval),a.setState({needsUpdate:!1}),a.initPopper())},50)}},{key:"changeWrapperPosition",value:function(a){var i=a.target,o=a.wrapperOptions;this.setState({positionWrapper:o.position&&!!i})}},{key:"toggle",value:function(a){var i=this.state.status,o=i===Pe.OPEN?Pe.CLOSING:Pe.OPENING;P.undefined(a)||(o=a),this.setState({status:o})}},{key:"debug",get:function(){var a=this.props.debug;return a||Br()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var a=this.props,i=a.disableHoverToClick,o=a.event;return o==="hover"&&Pd()&&!i?"click":o}},{key:"options",get:function(){var a=this.props.options;return Cr(h3,a||{})}},{key:"styles",get:function(){var a=this,i=this.state,o=i.status,l=i.positionWrapper,c=i.statusWrapper,d=this.props.styles,u=Cr(N3(d),d);if(l){var h;[Pe.IDLE].indexOf(o)===-1||[Pe.IDLE].indexOf(c)===-1?h=u.wrapperPosition:h=this.wrapperPopper.styles,u.wrapper=Ye(Ye({},u.wrapper),h)}if(this.target){var f=window.getComputedStyle(this.target);this.wrapperStyles?u.wrapper=Ye(Ye({},u.wrapper),this.wrapperStyles):["relative","static"].indexOf(f.position)===-1&&(this.wrapperStyles={},l||(S3.forEach(function(m){a.wrapperStyles[m]=f[m]}),u.wrapper=Ye(Ye({},u.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return u}},{key:"target",get:function(){if(!Br())return null;var a=this.props.target;return a?P.domElement(a)?a:document.querySelector(a):this.childRef||this.wrapperRef}},{key:"render",value:function(){var a=this.state,i=a.currentPlacement,o=a.positionWrapper,l=a.status,c=this.props,d=c.children,u=c.component,h=c.content,f=c.disableAnimation,m=c.footer,g=c.hideArrow,y=c.id,w=c.open,b=c.showCloseButton,x=c.style,v=c.target,j=c.title,N=se.createElement(nw,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:x,styles:this.styles.wrapper},d),k={};return o?k.wrapperInPortal=N:k.wrapperAsChildren=N,se.createElement("span",null,se.createElement(Zv,{hasChildren:!!d,id:y,placement:i,setRef:this.setFloaterRef,target:v,zIndex:this.styles.options.zIndex},se.createElement(sw,{component:u,content:h,disableAnimation:f,footer:m,handleClick:this.handleClick,hideArrow:g||i==="center",open:w,placement:i,positionWrapper:o,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:b,status:l,styles:this.styles,title:j}),k.wrapperInPortal),k.wrapperAsChildren)}}]),r}(se.Component);Tt(Ff,"propTypes",{autoOpen:F.bool,callback:F.func,children:F.node,component:Eg(F.oneOfType([F.func,F.element]),function(e){return!e.content}),content:Eg(F.node,function(e){return!e.component}),debug:F.bool,disableAnimation:F.bool,disableFlip:F.bool,disableHoverToClick:F.bool,event:F.oneOf(["hover","click"]),eventDelay:F.number,footer:F.node,getPopper:F.func,hideArrow:F.bool,id:F.oneOfType([F.string,F.number]),offset:F.number,open:F.bool,options:F.object,placement:F.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:F.bool,style:F.object,styles:F.object,target:F.oneOfType([F.object,F.string]),title:F.node,wrapperOptions:F.shape({offset:F.number,placement:F.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:F.bool})});Tt(Ff,"defaultProps",{autoOpen:!1,callback:Tg,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:Tg,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var E3=Object.defineProperty,T3=(e,t,r)=>t in e?E3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Q=(e,t,r)=>T3(e,typeof t!="symbol"?t+"":t,r),Me={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Tr={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},pe={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Ne={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function _s(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function aw(e){return e?e.getBoundingClientRect():null}function C3(e=!1){const{body:t,documentElement:r}=document;if(!t||!r)return 0;if(e){const n=[t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight].sort((i,o)=>i-o),a=Math.floor(n.length/2);return n.length%2===0?(n[a-1]+n[a])/2:n[a]}return Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}function ns(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function P3(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function ro(e,t,r){if(!e)return ln();const n=Cv(e);if(n){if(n.isSameNode(ln()))return r?document:ln();if(!(n.scrollHeight>n.offsetHeight)&&!t)return n.style.overflow="initial",ln()}return n}function Pc(e,t){if(!e)return!1;const r=ro(e,t);return r?!r.isSameNode(ln()):!1}function R3(e){return e.offsetParent!==document.body}function Ea(e,t="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:r}=e,n=P3(e);return r==="BODY"||r==="HTML"?!1:n&&n.position===t?!0:e.parentNode?Ea(e.parentNode,t):!1}function I3(e){var t;if(!e)return!1;let r=e;for(;r&&r!==document.body;){if(r instanceof HTMLElement){const{display:n,visibility:a}=getComputedStyle(r);if(n==="none"||a==="hidden")return!1}r=(t=r.parentElement)!=null?t:null}return!0}function A3(e,t,r){var n,a,i;const o=aw(e),l=ro(e,r),c=Pc(e,r),d=Ea(e);let u=0,h=(n=o==null?void 0:o.top)!=null?n:0;if(c&&d){const f=(a=e==null?void 0:e.offsetTop)!=null?a:0,m=(i=l==null?void 0:l.scrollTop)!=null?i:0;h=f-m}else l instanceof HTMLElement&&(u=l.scrollTop,!c&&!Ea(e)&&(h+=u),l.isSameNode(ln())||(h+=ln().scrollTop));return Math.floor(h-t)}function O3(e,t,r){var n;if(!e)return 0;const{offsetTop:a=0,scrollTop:i=0}=(n=Cv(e))!=null?n:{};let o=e.getBoundingClientRect().top+i;a&&(Pc(e,r)||R3(e))&&(o-=a);const l=Math.floor(o-t);return l<0?0:l}function ln(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function L3(e,t){const{duration:r,element:n}=t;return new Promise((a,i)=>{const{scrollTop:o}=n,l=e>o?e-o:o-e;MP.top(n,e,{duration:l<100?50:r},c=>c&&c.message!=="Element already at target scroll position"?i(c):a())})}var si=hn.createPortal!==void 0;function iw(e=navigator.userAgent){let t=e;return typeof window>"u"?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":window.opera||e.includes(" OPR/")?t="opera":typeof window.InstallTrigger<"u"?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function yl(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function zr(e,t={}){const{defaultValue:r,step:n,steps:a}=t;let i=hg(e);if(i)(i.includes("{step}")||i.includes("{steps}"))&&n&&a&&(i=i.replace("{step}",n.toString()).replace("{steps}",a.toString()));else if(p.isValidElement(e)&&!Object.values(e.props).length&&yl(e.type)==="function"){const o=e.type({});i=zr(o,t)}else i=hg(r);return i}function U3(e,t){return!J.plainObject(e)||!J.array(t)?!1:Object.keys(e).every(r=>t.includes(r))}function D3(e){const t=/^#?([\da-f])([\da-f])([\da-f])$/i,r=e.replace(t,(a,i,o,l)=>i+i+o+o+l+l),n=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(r);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function Cg(e){return e.disableBeacon||e.placement==="center"}function Pg(){return!["chrome","safari","firefox","opera"].includes(iw())}function kn({data:e,debug:t=!1,title:r,warn:n=!1}){const a=n?console.warn||console.error:console.log;t&&(r&&e?(console.groupCollapsed(`%creact-joyride: ${r}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(i=>{J.plainObject(i)&&i.key?a.apply(console,[i.key,i.value]):a.apply(console,[i])}):a.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function M3(e){return Object.keys(e)}function ow(e,...t){if(!J.plainObject(e))throw new TypeError("Expected an object");const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&(t.includes(n)||(r[n]=e[n]));return r}function $3(e,...t){if(!J.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&t.includes(n)&&(r[n]=e[n]);return r}function lh(e,t,r){const n=i=>i.replace("{step}",String(t)).replace("{steps}",String(r));if(yl(e)==="string")return n(e);if(!p.isValidElement(e))return e;const{children:a}=e.props;if(yl(a)==="string"&&a.includes("{step}"))return p.cloneElement(e,{children:n(a)});if(Array.isArray(a))return p.cloneElement(e,{children:a.map(i=>typeof i=="string"?n(i):lh(i,t,r))});if(yl(e.type)==="function"&&!Object.values(e.props).length){const i=e.type({});return lh(i,t,r)}return e}function F3(e){const{isFirstStep:t,lifecycle:r,previousLifecycle:n,scrollToFirstStep:a,step:i,target:o}=e;return!i.disableScrolling&&(!t||a||r===pe.TOOLTIP)&&i.placement!=="center"&&(!i.isFixed||!Ea(o))&&n!==r&&[pe.BEACON,pe.TOOLTIP].includes(r)}var B3={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},lw={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},z3={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:lw,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},W3={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},q3={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},ni={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},Rg={borderRadius:4,position:"absolute"};function H3(e,t){var r,n,a,i,o;const{floaterProps:l,styles:c}=e,d=Cr((r=t.floaterProps)!=null?r:{},l??{}),u=Cr(c??{},(n=t.styles)!=null?n:{}),h=Cr(q3,u.options||{}),f=t.placement==="center"||t.disableBeacon;let{width:m}=h;window.innerWidth>480&&(m=380),"width"in h&&(m=typeof h.width=="number"&&window.innerWidth<h.width?window.innerWidth-30:h.width);const g={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:h.zIndex},y={beacon:{...ni,display:f?"none":"inline-block",height:h.beaconSize,position:"relative",width:h.beaconSize,zIndex:h.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:h.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${D3(h.primaryColor).join(",")}, 0.2)`,border:`2px solid ${h.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:h.backgroundColor,borderRadius:5,boxSizing:"border-box",color:h.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:m},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...ni,backgroundColor:h.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...ni,color:h.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...ni,color:h.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...ni,color:h.textColor,fontSize:14},overlay:{...g,backgroundColor:h.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...g},overlayLegacyCenter:{...g,backgroundColor:h.overlayColor},spotlight:{...Rg,backgroundColor:"gray"},spotlightLegacy:{...Rg,boxShadow:`0 0 0 9999px ${h.overlayColor}, ${h.spotlightShadow}`},floaterStyles:{arrow:{color:(o=(i=(a=d==null?void 0:d.styles)==null?void 0:a.arrow)==null?void 0:i.color)!=null?o:h.arrowColor},options:{zIndex:h.zIndex+100}},options:h};return Cr(y,u)}function G3(e){return $3(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function $n(e,t){var r,n,a,i,o,l;const c=t??{},d=Cr.all([z3,G3(e),c],{isMergeableObject:J.plainObject}),u=H3(e,d),h=Pc(ns(d.target),d.disableScrollParentFix),f=Cr.all([B3,(r=e.floaterProps)!=null?r:{},(n=d.floaterProps)!=null?n:{}]);return f.offset=d.offset,f.styles=Cr((a=f.styles)!=null?a:{},u.floaterStyles),f.offset+=(o=(i=e.spotlightPadding)!=null?i:d.spotlightPadding)!=null?o:0,d.placementBeacon&&f.wrapperOptions&&(f.wrapperOptions.placement=d.placementBeacon),h&&f.options.preventOverflow&&(f.options.preventOverflow.boundariesElement="window"),{...d,locale:Cr.all([lw,(l=e.locale)!=null?l:{},d.locale||{}]),floaterProps:f,styles:ow(u,"floaterStyles")}}function cw(e,t=!1){return J.plainObject(e)?e.target?!0:(kn({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(kn({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function Ig(e,t=!1){return J.array(e)?e.every(r=>cw(r,t)):(kn({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var dw={action:"init",controlled:!1,index:0,lifecycle:pe.INIT,origin:null,size:0,status:Ne.IDLE},Ag=M3(ow(dw,"controlled","size")),V3=class{constructor(e){Q(this,"beaconPopper"),Q(this,"tooltipPopper"),Q(this,"data",new Map),Q(this,"listener"),Q(this,"store",new Map),Q(this,"addListener",a=>{this.listener=a}),Q(this,"setSteps",a=>{const{size:i,status:o}=this.getState(),l={size:a.length,status:o};this.data.set("steps",a),o===Ne.WAITING&&!i&&a.length&&(l.status=Ne.RUNNING),this.setState(l)}),Q(this,"getPopper",a=>a==="beacon"?this.beaconPopper:this.tooltipPopper),Q(this,"setPopper",(a,i)=>{a==="beacon"?this.beaconPopper=i:this.tooltipPopper=i}),Q(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),Q(this,"close",(a=null)=>{const{index:i,status:o}=this.getState();o===Ne.RUNNING&&this.setState({...this.getNextState({action:Me.CLOSE,index:i+1,origin:a})})}),Q(this,"go",a=>{const{controlled:i,status:o}=this.getState();if(i||o!==Ne.RUNNING)return;const l=this.getSteps()[a];this.setState({...this.getNextState({action:Me.GO,index:a}),status:l?o:Ne.FINISHED})}),Q(this,"info",()=>this.getState()),Q(this,"next",()=>{const{index:a,status:i}=this.getState();i===Ne.RUNNING&&this.setState(this.getNextState({action:Me.NEXT,index:a+1}))}),Q(this,"open",()=>{const{status:a}=this.getState();a===Ne.RUNNING&&this.setState({...this.getNextState({action:Me.UPDATE,lifecycle:pe.TOOLTIP})})}),Q(this,"prev",()=>{const{index:a,status:i}=this.getState();i===Ne.RUNNING&&this.setState({...this.getNextState({action:Me.PREV,index:a-1})})}),Q(this,"reset",(a=!1)=>{const{controlled:i}=this.getState();i||this.setState({...this.getNextState({action:Me.RESET,index:0}),status:a?Ne.RUNNING:Ne.READY})}),Q(this,"skip",()=>{const{status:a}=this.getState();a===Ne.RUNNING&&this.setState({action:Me.SKIP,lifecycle:pe.INIT,status:Ne.SKIPPED})}),Q(this,"start",a=>{const{index:i,size:o}=this.getState();this.setState({...this.getNextState({action:Me.START,index:J.number(a)?a:i},!0),status:o?Ne.RUNNING:Ne.WAITING})}),Q(this,"stop",(a=!1)=>{const{index:i,status:o}=this.getState();[Ne.FINISHED,Ne.SKIPPED].includes(o)||this.setState({...this.getNextState({action:Me.STOP,index:i+(a?1:0)}),status:Ne.PAUSED})}),Q(this,"update",a=>{var i,o;if(!U3(a,Ag))throw new Error(`State is not valid. Valid keys: ${Ag.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...a,action:(i=a.action)!=null?i:Me.UPDATE,origin:(o=a.origin)!=null?o:null},!0)})});const{continuous:t=!1,stepIndex:r,steps:n=[]}=e??{};this.setState({action:Me.INIT,controlled:J.number(r),continuous:t,index:J.number(r)?r:0,lifecycle:pe.INIT,origin:null,status:n.length?Ne.READY:Ne.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(n)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...dw}}getNextState(e,t=!1){var r,n,a,i,o;const{action:l,controlled:c,index:d,size:u,status:h}=this.getState(),f=J.number(e.index)?e.index:d,m=c&&!t?d:Math.min(Math.max(f,0),u);return{action:(r=e.action)!=null?r:l,controlled:c,index:m,lifecycle:(n=e.lifecycle)!=null?n:pe.INIT,origin:(a=e.origin)!=null?a:null,size:(i=e.size)!=null?i:u,status:m===u?Ne.FINISHED:(o=e.status)!=null?o:h}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){const t=JSON.stringify(e),r=JSON.stringify(this.getState());return t!==r}setState(e,t=!1){const r=this.getState(),{action:n,index:a,lifecycle:i,origin:o=null,size:l,status:c}={...r,...e};this.store.set("action",n),this.store.set("index",a),this.store.set("lifecycle",i),this.store.set("origin",o),this.store.set("size",l),this.store.set("status",c),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function K3(e){return new V3(e)}function J3({styles:e}){return p.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var Y3=J3,Q3=class extends p.Component{constructor(){super(...arguments),Q(this,"isActive",!1),Q(this,"resizeTimeout"),Q(this,"scrollTimeout"),Q(this,"scrollParent"),Q(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),Q(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:r}=this.props,n=[pe.INIT,pe.BEACON,pe.COMPLETE,pe.ERROR];return t||(e?n.includes(r):r!==pe.TOOLTIP)}),Q(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:r,left:n,position:a,top:i,width:o}=this.spotlightStyles,l=a==="fixed"?e.clientY:e.pageY,c=a==="fixed"?e.clientX:e.pageX,d=l>=i&&l<=i+r,h=c>=n&&c<=n+o&&d;h!==t&&this.updateState({mouseOverSpotlight:h})}),Q(this,"handleScroll",()=>{const{target:e}=this.props,t=ns(e);if(this.scrollParent!==document){const{isScrolling:r}=this.state;r||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else Ea(t,"sticky")&&this.updateState({})}),Q(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:r=!1,target:n}=this.props,a=ns(n);this.scrollParent=ro(a??document.body,r,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:r,lifecycle:n,spotlightClicks:a,target:i}=this.props,{changed:o}=Ql(e,this.props);if(o("target")||o("disableScrollParentFix")){const l=ns(i);this.scrollParent=ro(l??document.body,r,!0)}o("lifecycle",pe.TOOLTIP)&&((t=this.scrollParent)==null||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:l}=this.state;l||this.updateState({showSpotlight:!0})},100)),(o("spotlightClicks")||o("disableOverlay")||o("lifecycle"))&&(a&&n===pe.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):n!==pe.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:r,styles:n}=this.props;let a=n.overlay;return Pg()&&(a=r==="center"?n.overlayLegacyCenter:n.overlayLegacy),{cursor:t?"default":"pointer",height:C3(),pointerEvents:e?"none":"auto",...a}}get spotlightStyles(){var e,t,r;const{showSpotlight:n}=this.state,{disableScrollParentFix:a=!1,spotlightClicks:i,spotlightPadding:o=0,styles:l,target:c}=this.props,d=ns(c),u=aw(d),h=Ea(d),f=A3(d,o,a);return{...Pg()?l.spotlightLegacy:l.spotlight,height:Math.round(((e=u==null?void 0:u.height)!=null?e:0)+o*2),left:Math.round(((t=u==null?void 0:u.left)!=null?t:0)-o),opacity:n?1:0,pointerEvents:i?"none":"auto",position:h?"fixed":"absolute",top:f,transition:"opacity 0.2s",width:Math.round(((r=u==null?void 0:u.width)!=null?r:0)+o*2)}}updateState(e){this.isActive&&this.setState(t=>({...t,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:r}=this.props,{hideSpotlight:n,overlayStyles:a,spotlightStyles:i}=this;if(n())return null;let o=r!=="center"&&e&&p.createElement(Y3,{styles:i});if(iw()==="safari"){const{mixBlendMode:l,zIndex:c,...d}=a;o=p.createElement("div",{style:{...d}},o),delete a.backgroundColor}return p.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:a},o)}},X3=class extends p.Component{constructor(){super(...arguments),Q(this,"node",null)}componentDidMount(){const{id:e}=this.props;_s()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),si||this.renderReact15())}componentDidUpdate(){_s()&&(si||this.renderReact15())}componentWillUnmount(){!_s()||!this.node||(si||hn.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!_s())return;const{children:e}=this.props;this.node&&hn.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!_s()||!si)return null;const{children:e}=this.props;return this.node?hn.createPortal(e,this.node):null}render(){return si?this.renderReact16():null}},Z3=class{constructor(e,t){if(Q(this,"element"),Q(this,"options"),Q(this,"canBeTabbed",r=>{const{tabIndex:n}=r;return n===null||n<0?!1:this.canHaveFocus(r)}),Q(this,"canHaveFocus",r=>{const n=/input|select|textarea|button|object/,a=r.nodeName.toLowerCase();return(n.test(a)&&!r.getAttribute("disabled")||a==="a"&&!!r.getAttribute("href"))&&this.isVisible(r)}),Q(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),Q(this,"handleKeyDown",r=>{const{code:n="Tab"}=this.options;r.code===n&&this.interceptTab(r)}),Q(this,"interceptTab",r=>{r.preventDefault();const n=this.findValidTabElements(),{shiftKey:a}=r;if(!n.length)return;let i=document.activeElement?n.indexOf(document.activeElement):0;i===-1||!a&&i+1===n.length?i=0:a&&i===0?i=n.length-1:i+=a?-1:1,n[i].focus()}),Q(this,"isHidden",r=>{const n=r.offsetWidth<=0&&r.offsetHeight<=0,a=window.getComputedStyle(r);return n&&!r.innerHTML?!0:n&&a.getPropertyValue("overflow")!=="visible"||a.getPropertyValue("display")==="none"}),Q(this,"isVisible",r=>{let n=r;for(;n;)if(n instanceof HTMLElement){if(n===document.body)break;if(this.isHidden(n))return!1;n=n.parentNode}return!0}),Q(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),Q(this,"checkFocus",r=>{document.activeElement!==r&&(r.focus(),window.requestAnimationFrame(()=>this.checkFocus(r)))}),Q(this,"setFocus",()=>{const{selector:r}=this.options;if(!r)return;const n=this.element.querySelector(r);n&&window.requestAnimationFrame(()=>this.checkFocus(n))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},eI=class extends p.Component{constructor(e){if(super(e),Q(this,"beacon",null),Q(this,"setBeaconRef",a=>{this.beacon=a}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.id="joyride-beacon-animation",e.nonce&&r.setAttribute("nonce",e.nonce),r.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),t.appendChild(r)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{J.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e!=null&&e.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:r,isLastStep:n,locale:a,onClickOrHover:i,size:o,step:l,styles:c}=this.props,d=zr(a.open),u={"aria-label":d,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:d};let h;if(e){const f=e;h=p.createElement(f,{continuous:t,index:r,isLastStep:n,size:o,step:l,...u})}else h=p.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button",...u},p.createElement("span",{style:c.beaconInner}),p.createElement("span",{style:c.beaconOuter}));return h}};function tI({styles:e,...t}){const{color:r,height:n,width:a,...i}=e;return se.createElement("button",{style:i,type:"button",...t},se.createElement("svg",{height:typeof n=="number"?`${n}px`:n,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof a=="number"?`${a}px`:a,xmlns:"http://www.w3.org/2000/svg"},se.createElement("g",null,se.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}var rI=tI;function sI(e){const{backProps:t,closeProps:r,index:n,isLastStep:a,primaryProps:i,skipProps:o,step:l,tooltipProps:c}=e,{content:d,hideBackButton:u,hideCloseButton:h,hideFooter:f,showSkipButton:m,styles:g,title:y}=l,w={};return w.primary=p.createElement("button",{"data-test-id":"button-primary",style:g.buttonNext,type:"button",...i}),m&&!a&&(w.skip=p.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:g.buttonSkip,type:"button",...o})),!u&&n>0&&(w.back=p.createElement("button",{"data-test-id":"button-back",style:g.buttonBack,type:"button",...t})),w.close=!h&&p.createElement(rI,{"data-test-id":"button-close",styles:g.buttonClose,...r}),p.createElement("div",{key:"JoyrideTooltip","aria-label":zr(y??d),className:"react-joyride__tooltip",style:g.tooltip,...c},p.createElement("div",{style:g.tooltipContainer},y&&p.createElement("h1",{"aria-label":zr(y),style:g.tooltipTitle},y),p.createElement("div",{style:g.tooltipContent},d)),!f&&p.createElement("div",{style:g.tooltipFooter},p.createElement("div",{style:g.tooltipFooterSpacer},w.skip),w.back,w.primary),w.close)}var nI=sI,aI=class extends p.Component{constructor(){super(...arguments),Q(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),Q(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),Q(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:r}=this.props;if(!t){r.close("button_primary");return}r.next()}),Q(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),Q(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:r,setTooltipRef:n,size:a,step:i}=this.props,{back:o,close:l,last:c,next:d,nextLabelWithProgress:u,skip:h}=i.locale,f=zr(o),m=zr(l),g=zr(c),y=zr(d),w=zr(h);let b=l,x=m;if(e){if(b=d,x=y,i.showProgress&&!r){const v=zr(u,{step:t+1,steps:a});b=lh(u,t+1,a),x=v}r&&(b=c,x=g)}return{backProps:{"aria-label":f,children:o,"data-action":"back",onClick:this.handleClickBack,role:"button",title:f},closeProps:{"aria-label":m,children:l,"data-action":"close",onClick:this.handleClickClose,role:"button",title:m},primaryProps:{"aria-label":x,children:b,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:x},skipProps:{"aria-label":w,children:h,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:w},tooltipProps:{"aria-modal":!0,ref:n,role:"alertdialog"}}})}render(){const{continuous:e,index:t,isLastStep:r,setTooltipRef:n,size:a,step:i}=this.props,{beaconComponent:o,tooltipComponent:l,...c}=i;let d;if(l){const u={...this.getElementsProps(),continuous:e,index:t,isLastStep:r,size:a,step:c,setTooltipRef:n},h=l;d=p.createElement(h,{...u})}else d=p.createElement(nI,{...this.getElementsProps(),continuous:e,index:t,isLastStep:r,size:a,step:i});return d}},iI=class extends p.Component{constructor(){super(...arguments),Q(this,"scope",null),Q(this,"tooltip",null),Q(this,"handleClickHoverBeacon",e=>{const{step:t,store:r}=this.props;e.type==="mouseenter"&&t.event!=="hover"||r.update({lifecycle:pe.TOOLTIP})}),Q(this,"setTooltipRef",e=>{this.tooltip=e}),Q(this,"setPopper",(e,t)=>{var r;const{action:n,lifecycle:a,step:i,store:o}=this.props;t==="wrapper"?o.setPopper("beacon",e):o.setPopper("tooltip",e),o.getPopper("beacon")&&(o.getPopper("tooltip")||i.placement==="center")&&a===pe.INIT&&o.update({action:n,lifecycle:pe.READY}),(r=i.floaterProps)!=null&&r.getPopper&&i.floaterProps.getPopper(e,t)}),Q(this,"renderTooltip",e=>{const{continuous:t,helpers:r,index:n,size:a,step:i}=this.props;return p.createElement(aI,{continuous:t,helpers:r,index:n,isLastStep:n+1===a,setTooltipRef:this.setTooltipRef,size:a,step:i,...e})})}componentDidMount(){const{debug:e,index:t}=this.props;kn({title:`step:${t}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:r,callback:n,continuous:a,controlled:i,debug:o,helpers:l,index:c,lifecycle:d,shouldScroll:u,status:h,step:f,store:m}=this.props,{changed:g,changedFrom:y}=Ql(e,this.props),w=l.info(),b=a&&r!==Me.CLOSE&&(c>0||r===Me.PREV),x=g("action")||g("index")||g("lifecycle")||g("status"),v=y("lifecycle",[pe.TOOLTIP,pe.INIT],pe.INIT),j=g("action",[Me.NEXT,Me.PREV,Me.SKIP,Me.CLOSE]),N=i&&c===e.index;if(j&&(v||N)&&n({...w,index:e.index,lifecycle:pe.COMPLETE,step:e.step,type:Tr.STEP_AFTER}),f.placement==="center"&&h===Ne.RUNNING&&g("index")&&r!==Me.START&&d===pe.INIT&&m.update({lifecycle:pe.READY}),x){const k=ns(f.target),E=!!k;E&&I3(k)?(y("status",Ne.READY,Ne.RUNNING)||y("lifecycle",pe.INIT,pe.READY))&&n({...w,step:f,type:Tr.STEP_BEFORE}):(console.warn(E?"Target not visible":"Target not mounted",f),n({...w,type:Tr.TARGET_NOT_FOUND,step:f}),i||m.update({index:c+(r===Me.PREV?-1:1)}))}y("lifecycle",pe.INIT,pe.READY)&&m.update({lifecycle:Cg(f)||b?pe.TOOLTIP:pe.BEACON}),g("index")&&kn({title:`step:${d}`,data:[{key:"props",value:this.props}],debug:o}),g("lifecycle",pe.BEACON)&&n({...w,step:f,type:Tr.BEACON}),g("lifecycle",pe.TOOLTIP)&&(n({...w,step:f,type:Tr.TOOLTIP}),u&&this.tooltip&&(this.scope=new Z3(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),y("lifecycle",[pe.TOOLTIP,pe.INIT],pe.INIT)&&((t=this.scope)==null||t.removeScope(),m.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return Cg(t)||e===pe.TOOLTIP}render(){const{continuous:e,debug:t,index:r,nonce:n,shouldScroll:a,size:i,step:o}=this.props,l=ns(o.target);return!cw(o)||!J.domElement(l)?null:p.createElement("div",{key:`JoyrideStep-${r}`,className:"react-joyride__step"},p.createElement(Ff,{...o.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:`react-joyride-step-${r}`,open:this.open,placement:o.placement,target:o.target},p.createElement(eI,{beaconComponent:o.beaconComponent,continuous:e,index:r,isLastStep:r+1===i,locale:o.locale,nonce:n,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:a,size:i,step:o,styles:o.styles})))}},uw=class extends p.Component{constructor(e){super(e),Q(this,"helpers"),Q(this,"store"),Q(this,"callback",o=>{const{callback:l}=this.props;J.function(l)&&l(o)}),Q(this,"handleKeyboard",o=>{const{index:l,lifecycle:c}=this.state,{steps:d}=this.props,u=d[l];c===pe.TOOLTIP&&o.code==="Escape"&&u&&!u.disableCloseOnEsc&&this.store.close("keyboard")}),Q(this,"handleClickOverlay",()=>{const{index:o}=this.state,{steps:l}=this.props;$n(this.props,l[o]).disableOverlayClose||this.helpers.close("overlay")}),Q(this,"syncState",o=>{this.setState(o)});const{debug:t,getHelpers:r,run:n=!0,stepIndex:a}=e;this.store=K3({...e,controlled:n&&J.number(a)}),this.helpers=this.store.getHelpers();const{addListener:i}=this.store;kn({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),i(this.syncState),r&&r(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!_s())return;const{debug:e,disableCloseOnEsc:t,run:r,steps:n}=this.props,{start:a}=this.store;Ig(n,e)&&r&&a(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!_s())return;const{action:r,controlled:n,index:a,status:i}=this.state,{debug:o,run:l,stepIndex:c,steps:d}=this.props,{stepIndex:u,steps:h}=e,{reset:f,setSteps:m,start:g,stop:y,update:w}=this.store,{changed:b}=Ql(e,this.props),{changed:x,changedFrom:v}=Ql(t,this.state),j=$n(this.props,d[a]),N=!Lt(h,d),k=J.number(c)&&b("stepIndex"),E=ns(j.target);if(N&&(Ig(d,o)?m(d):console.warn("Steps are not valid",d)),b("run")&&(l?g(c):y()),k){let C=J.number(u)&&u<c?Me.NEXT:Me.PREV;r===Me.STOP&&(C=Me.START),[Ne.FINISHED,Ne.SKIPPED].includes(i)||w({action:r===Me.CLOSE?Me.CLOSE:C,index:c,lifecycle:pe.INIT})}!n&&i===Ne.RUNNING&&a===0&&!E&&(this.store.update({index:a+1}),this.callback({...this.state,type:Tr.TARGET_NOT_FOUND,step:j}));const S={...this.state,index:a,step:j};if(x("action",[Me.NEXT,Me.PREV,Me.SKIP,Me.CLOSE])&&x("status",Ne.PAUSED)){const C=$n(this.props,d[t.index]);this.callback({...S,index:t.index,lifecycle:pe.COMPLETE,step:C,type:Tr.STEP_AFTER})}if(x("status",[Ne.FINISHED,Ne.SKIPPED])){const C=$n(this.props,d[t.index]);n||this.callback({...S,index:t.index,lifecycle:pe.COMPLETE,step:C,type:Tr.STEP_AFTER}),this.callback({...S,type:Tr.TOUR_END,step:C,index:t.index}),f()}else v("status",[Ne.IDLE,Ne.READY],Ne.RUNNING)?this.callback({...S,type:Tr.TOUR_START}):(x("status")||x("action",Me.RESET))&&this.callback({...S,type:Tr.TOUR_STATUS});this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:r,status:n}=this.state,{debug:a,disableScrollParentFix:i=!1,scrollDuration:o,scrollOffset:l=20,scrollToFirstStep:c=!1,steps:d}=this.props,u=$n(this.props,d[t]),h=ns(u.target),f=F3({isFirstStep:t===0,lifecycle:r,previousLifecycle:e.lifecycle,scrollToFirstStep:c,step:u,target:h});if(n===Ne.RUNNING&&f){const m=Pc(h,i),g=ro(h,i);let y=Math.floor(O3(h,l,i))||0;kn({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:r},{key:"status",value:n}],debug:a});const w=this.store.getPopper("beacon"),b=this.store.getPopper("tooltip");if(r===pe.BEACON&&w){const{offsets:x,placement:v}=w;!["bottom"].includes(v)&&!m&&(y=Math.floor(x.popper.top-l))}else if(r===pe.TOOLTIP&&b){const{flipped:x,offsets:v,placement:j}=b;["top","right","left"].includes(j)&&!x&&!m?y=Math.floor(v.popper.top-l):y-=u.spotlightPadding}y=y>=0?y:0,n===Ne.RUNNING&&L3(y,{element:g,duration:o}).then(()=>{setTimeout(()=>{var x;(x=this.store.getPopper("tooltip"))==null||x.instance.update()},10)})}}render(){if(!_s())return null;const{index:e,lifecycle:t,status:r}=this.state,{continuous:n=!1,debug:a=!1,nonce:i,scrollToFirstStep:o=!1,steps:l}=this.props,c=r===Ne.RUNNING,d={};if(c&&l[e]){const u=$n(this.props,l[e]);d.step=p.createElement(iI,{...this.state,callback:this.callback,continuous:n,debug:a,helpers:this.helpers,nonce:i,shouldScroll:!u.disableScrolling&&(e!==0||o),step:u,store:this.store}),d.overlay=p.createElement(X3,{id:"react-joyride-portal"},p.createElement(Q3,{...u,continuous:n,debug:a,lifecycle:t,onClickOverlay:this.handleClickOverlay}))}return p.createElement("div",{className:"react-joyride"},d.step,d.overlay)}};Q(uw,"defaultProps",W3);var oI=uw;function lI(){const e=lr(),[t,r]=p.useState(!1);p.useEffect(()=>{},[]),p.useEffect(()=>{if(e.pathname!=="/practice")return;localStorage.getItem("jsp_practice_tour_done_v1")||r(!0)},[e.pathname]);const n=i=>{const{status:o}=i;[Ne.FINISHED,Ne.SKIPPED].includes(o)&&(r(!1),localStorage.setItem("jsp_practice_tour_done_v1","1"))},a=[{target:'[data-tour="voice-select"]',content:s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Choose your voice"}),s.jsx("p",{className:"text-sm",children:"Pick a voice and optionally enable autoplay."})]}),disableBeacon:!0},{target:'[data-tour="mic-button"]',content:s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Answer out loud"}),s.jsx("p",{className:"text-sm",children:"Tap the mic to record. You can retry as many times as you want."})]})},{target:'[data-tour="guidance"]',content:s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Get instant feedback"}),s.jsx("p",{className:"text-sm",children:"We'll rewrite your answer and show what to improve."})]}),placement:"top"},{target:'[data-tour="free-banner"]',content:s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-bold text-lg mb-2",children:"Free questions"}),s.jsx("p",{className:"text-sm",children:"You can try a few questions free each day."})]})}];return t?s.jsx(oI,{steps:a,run:t,continuous:!0,showSkipButton:!0,showProgress:!0,callback:n,styles:{options:{zIndex:1e4,primaryColor:"#2563eb",backgroundColor:"#ffffff",arrowColor:"#ffffff",textColor:"#1e293b",overlayColor:"rgba(0, 0, 0, 0.6)"},buttonNext:{backgroundColor:"#2563eb",fontSize:"14px",padding:"8px 16px",fontWeight:"bold",borderRadius:"6px"},buttonBack:{color:"#64748b",marginRight:10},buttonSkip:{color:"#64748b",fontSize:"14px"},tooltip:{borderRadius:"12px",padding:"12px"},tooltipContainer:{textAlign:"left"}},floaterProps:{disableAnimation:!0}}):null}const el=new Map;async function ch({text:e,voiceId:t="DEFAULT",speed:r=1}){if(!e||!e.trim())return{url:null,error:{status:400,message:"No text provided",isProRequired:!1}};let n=typeof r=="number"?r:1;n<.7&&(n=.7),n>1.3&&(n=1.3);const a=`${e.trim()}::${t}::${n}`;if(el.has(a)){const i=el.get(a);if(i&&typeof i=="string")return{url:i,error:null}}try{let i="en-US",o="female";const l=(t||"us_female_emma").toLowerCase();(l.startsWith("uk")||l.includes("gb"))&&(i="en-GB"),l.includes("male")&&!l.includes("female")&&(o="male");let c="emma";const d=l.split("_");d.length>0&&(c=d[d.length-1]),l.includes("emma")?c="emma":l.includes("ava")?c="ava":l.includes("jake")?c="jake":l.includes("noah")?c="noah":l.includes("amelia")?c="amelia":l.includes("sophie")?c="sophie":l.includes("oliver")?c="oliver":l.includes("harry")&&(c="harry");const u={text:e.trim(),locale:i,voiceName:o,voiceVariant:c,speakingRate:n};console.log("TTS payload (/api/tts)",u);const h=await Te("/api/tts",{method:"POST",headers:{"Content-Type":"application/json",Accept:"audio/mpeg"},body:JSON.stringify(u),parseJson:!1});if(!h.ok){let y=`Audio generation failed (${h.status})`;try{const w=await h.json();w.error&&(y=w.error)}catch{const b=await h.text().catch(()=>"");b&&(y+=`: ${b.slice(0,200)}`)}return{url:null,contentType:null,error:{status:h.status,message:y,isProRequired:!1}}}const f=h.headers.get("content-type")||"",m=f.startsWith("audio/")||f.includes("audio/")||f==="application/octet-stream";if(f.includes("application/json")||f.includes("json"))try{const y=await h.json();return y.audioUrl?(el.set(a,y.audioUrl),{url:y.audioUrl,contentType:"audio/mpeg",error:null}):{url:null,contentType:f,error:{status:500,message:`JSON response missing audioUrl field. Keys: ${Object.keys(y).join(", ")}`,isProRequired:!1}}}catch(y){return{url:null,contentType:f,error:{status:500,message:`Failed to parse JSON response: ${y.message}`,isProRequired:!1}}}if(m){const y=await h.blob();if(y.size===0)return{url:null,contentType:f,error:{status:500,message:"Received empty audio blob",isProRequired:!1}};const w=y.type||"audio/mpeg",b=new Blob([y],{type:w}),x=URL.createObjectURL(b);return el.set(a,x),{url:x,contentType:w,error:null}}else{let y="";try{y=await h.text()}catch{y="[Could not read response text]"}const w=y.slice(0,200);return{url:null,contentType:f,error:{status:500,message:`Invalid Content-Type: ${f}. Body: ${w}`,isProRequired:!1}}}}catch(i){return i instanceof nt?{url:null,error:{status:i.status||500,message:i.message||"Audio generation failed",isProRequired:!1}}:{url:null,error:{status:500,message:(i==null?void 0:i.message)||"Unknown error occurred",isProRequired:!1}}}}function cI(e,t="DEFAULT",r=1){return new Promise((n,a)=>{if(!window.speechSynthesis){console.warn("Browser does not support SpeechSynthesis"),n(!1);return}window.speechSynthesis.cancel();const i=new SpeechSynthesisUtterance(e);i.rate=r;const o=window.speechSynthesis.getVoices();let l=null;const c=(t||"").toLowerCase(),d=c.includes("uk")||c.includes("gb"),u=c.includes("male")&&!c.includes("female"),h=d?"en-GB":"en-US",f=u?["male","david","daniel"]:["female","samantha","zira","google"];l=o.find(m=>m.lang.includes(h)&&f.some(g=>m.name.toLowerCase().includes(g))),l||(l=o.find(m=>m.lang.includes(h))),l||(l=o.find(m=>m.lang.includes("en"))),l&&(i.voice=l),i.onend=()=>{n(!0)},i.onerror=m=>{console.error("SpeechSynthesis error:",m),n(!1)},window.speechSynthesis.speak(i)})}function Rd(e,t="DEFAULT",r=1){return window.speechSynthesis?(cI(e,t,r).catch(n=>console.error("Fallback error",n)),!0):!1}const dI="/assets/her-CAKjKhkY.png",Id=e=>{if(!e)return"";let t=e.trim();t=t.replace(/^["']|["']$/g,"");const r=["i'm trying to be a","i am trying to be a","i want to be a","preparing for","looking for","i'm a","i am a"],n=t.toLowerCase();for(const a of r)if(n.startsWith(a)){t=t.slice(a.length).trim();break}return t.charAt(0).toUpperCase()+t.slice(1)};function uI({onComplete:e}){console.count("[WIZARD] render");const{user:t,updateUser:r}=Rt(),[n,a]=p.useState(0),[i,o]=p.useState(!1),[l,c]=p.useState(null),d=p.useRef(new Audio),[u,h]=p.useState(!1),[f,m]=p.useState(!1);p.useEffect(()=>(console.log("[WIZARD] mounted"),()=>console.log("[WIZARD] unmounted")),[]);const[g,y]=p.useState(!1),[w,b]=p.useState(!1),[x,v]=p.useState({display_name:"",job_title:"",seniority:"Mid",focus_areas:[],industry:"",difficulty:"Normal",tts_speed_pref:"normal"}),[j,N]=p.useState(null),[k,E]=p.useState("speak"),[S,L]=p.useState(0),[C,W]=p.useState(""),ue=[{type:"mic_setup",title:"Mic Setup",question:"Hi! To get started, please turn on your microphone so you can answer out loud.",optional:!0},{type:"field",title:"Name",question:"What should I call you?",field:"display_name",optional:!1,inputType:"text"},{type:"field",title:"Job Role",question:"Nice to meet you. What job role are you preparing for?",field:"job_title",optional:!1,inputType:"text"},{type:"field",title:"Seniority",question:"Got it. And what seniority level is this role?",field:"seniority",optional:!1,inputType:"select"},{type:"field",title:"Focus",question:"What specific areas do you want to improve?",field:"focus_areas",optional:!1,inputType:"multi-select"},{type:"field",title:"Industry",question:"Which industry is this role in?",field:"industry",optional:!0,inputType:"select"},{type:"field",title:"Difficulty",question:"What difficulty level do you want?",field:"difficulty",optional:!1,inputType:"select"},{type:"field",title:"Speed",question:"Finally, how fast should I speak during our sessions?",field:"tts_speed_pref",optional:!0,inputType:"select"}];p.useEffect(()=>{(async()=>{if(t)try{const{data:D,error:Z}=await Le.from("profiles").select("*").eq("id",t.id).single();D&&!Z&&v(z=>({...z,display_name:D.display_name||z.display_name,job_title:D.job_title||z.job_title,seniority:D.seniority||z.seniority,focus_areas:D.focus_areas||z.focus_areas,industry:D.industry||z.industry,difficulty:D.difficulty||z.difficulty,tts_speed_pref:D.tts_speed_pref||z.tts_speed_pref}))}catch(D){console.error("Error loading profile:",D)}else{const D=localStorage.getItem("jsp_onboarding_v1");if(D)try{const Z=JSON.parse(D);v(z=>({...z,...Z}))}catch(Z){console.error("Parse error",Z)}}})()},[t]),p.useEffect(()=>{const I=d.current,D=()=>h(!0),Z=()=>h(!1),z=()=>h(!1);return I.addEventListener("play",D),I.addEventListener("ended",Z),I.addEventListener("pause",z),()=>{Ee(),I.removeEventListener("play",D),I.removeEventListener("ended",Z),I.removeEventListener("pause",z)}},[]);const Ee=()=>{const I=d.current;I.paused||(I.pause(),I.currentTime=0),h(!1)},je=p.useRef({step:-1,text:null}),xe=p.useRef(null),Re=p.useRef(null),U=async(I=!1)=>{const D=ue[n].question;if(!I&&je.current.step===n&&je.current.text===D){console.log("[ONBOARDING] Skipping replay - already played for this step");return}Ee(),xe.current&&I&&(URL.revokeObjectURL(xe.current),xe.current=null);try{je.current={step:n,text:D},Re.current=D,console.log("[ONBOARDING] Fetching TTS for:",D.substring(0,50));const{url:Z}=await ch({text:D,speed:1});if(Z){console.log("[ONBOARDING] TTS URL received:",Z.substring(0,100)),xe.current&&xe.current!==Z&&URL.revokeObjectURL(xe.current),xe.current=Z,d.current.src=Z,d.current.muted=!1,d.current.volume=1,console.log("[ONBOARDING] Audio element configured - muted:",d.current.muted,"volume:",d.current.volume),d.current.onended=()=>{console.log("[ONBOARDING] Audio playback ended"),h(!1)},d.current.onerror=z=>{console.error("[ONBOARDING] Audio playback error:",z),h(!1)};try{console.log("[ONBOARDING] Attempting to play audio...");const z=d.current.play();z!==void 0&&(await z,console.log("[ONBOARDING]  Audio playing successfully!"),h(!0),m(!1))}catch(z){console.warn("[ONBOARDING]  Autoplay blocked:",z.name,z.message),h(!1),m(!0)}}else console.error("[ONBOARDING] No TTS URL returned from fetchTtsBlobUrl")}catch(Z){console.error("[ONBOARDING] Prompt TTS error:",Z)}};p.useEffect(()=>()=>{xe.current&&(URL.revokeObjectURL(xe.current),xe.current=null)},[]);const G=I=>{I.preventDefault(),console.log("[ONBOARDING] Repeat question clicked"),Ee(),xe.current&&d.current?(console.log("[ONBOARDING] Replaying existing audio URL"),d.current.src=xe.current,d.current.muted=!1,d.current.volume=1,console.log("[ONBOARDING] Audio configured for replay - muted:",d.current.muted,"volume:",d.current.volume),d.current.play().then(()=>{console.log("[ONBOARDING]  Replay successful!"),h(!0),m(!1)}).catch(D=>{console.error("[ONBOARDING]  Repeat playback error:",D),Re.current&&(console.log("[ONBOARDING] Regenerating audio..."),U(!0))})):Re.current?(console.log("[ONBOARDING] No cached audio, regenerating..."),U(!0)):console.error("[ONBOARDING] No audio URL or text available for replay")},$=I=>new Promise(D=>setTimeout(D,I)),O=async I=>{try{Ee(),d!=null&&d.current&&(d.current.pause(),d.current.currentTime=0)}catch(D){console.warn("TTS cleanup error:",D)}await $(2e3),I()};p.useEffect(()=>{N(null),L(0);const I=ue[n];(I==null?void 0:I.field)==="job_title"||(I==null?void 0:I.field)==="display_name"?E("type"):E(g&&!w?"speak":"type"),U(!1)},[n,g,w]);const T=()=>{const I=ue[n];if(I.type==="field"&&j&&!x[I.field]){let D=j;I.field==="job_title"&&(D=Id(D)),H(I.field,D)}Ee(),n<ue.length-1?a(D=>D+1):q()},q=async()=>{o(!0),Ee();const I={...x};if(I.job_title&&(I.job_title=Id(I.job_title)),t)try{const{error:D}=await Le.from("profiles").update({display_name:I.display_name,job_title:I.job_title,seniority:I.seniority,focus_areas:I.focus_areas,industry:I.industry,difficulty:I.difficulty,tts_speed_pref:I.tts_speed_pref,onboarding_complete:!0}).eq("id",t.id);if(D)throw D;r({...t,...I,onboarding_complete:!0})}catch(D){console.error("Profile save error",D),c("Failed to save profile. Please try again."),o(!1);return}else localStorage.setItem("jsp_onboarding_v1",JSON.stringify(I));try{const D=[];for(let Z=0;Z<localStorage.length;Z++){const z=localStorage.key(Z);z&&(z.startsWith("jobspeak_free_improve_usage")||z.startsWith("speaking_attempts_")||z.startsWith("jsp_usage_"))&&D.push(z)}D.forEach(Z=>{localStorage.removeItem(Z),console.log("[Onboarding] Cleared guest usage key:",Z)})}catch(D){console.error("Error clearing guest usage keys:",D)}localStorage.setItem("jsp_onboarding_complete_v1","1"),o(!1),e&&e()},H=(I,D)=>{v(Z=>({...Z,[I]:D}))},he=p.memo(({currentStep:I,playing:D,onRepeat:Z,steps:z,autoplayBlocked:X})=>{p.useEffect(()=>{},[]);const B=z[I].question;return s.jsxs("div",{className:"flex gap-4 items-start w-full mb-6 animate-fade-in",children:[s.jsxs("div",{className:"flex-shrink-0 relative",children:[s.jsx("img",{src:dI,alt:"Assistant",className:"size-16 rounded-full border-2 border-slate-300 dark:border-slate-600 shadow-lg object-cover object-center",style:{objectPosition:"center center"},onError:be=>{be.target.onerror=null,be.target.style.display="none"}}),s.jsx("div",{className:"size-16 rounded-full bg-primary/10 flex items-center justify-center border border-primary/20 absolute inset-0 -z-10",children:s.jsx("span",{className:"material-symbols-outlined text-primary text-2xl",children:"face"})}),D&&s.jsxs("div",{className:"absolute -right-1 -bottom-1 flex gap-0.5 bg-white dark:bg-slate-800 rounded-full px-1 py-0.5 border border-slate-100 dark:border-slate-700 shadow-sm z-10",children:[s.jsx("span",{className:"size-1 bg-primary rounded-full animate-bounce delay-0"}),s.jsx("span",{className:"size-1 bg-primary rounded-full animate-bounce delay-[150ms]"}),s.jsx("span",{className:"size-1 bg-primary rounded-full animate-bounce delay-[300ms]"})]})]}),s.jsxs("div",{className:"flex flex-col items-start max-w-[85%]",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-2xl rounded-tl-sm px-5 py-3 text-sm md:text-base text-slate-800 dark:text-slate-100 shadow-sm leading-relaxed",children:B}),X&&!D&&s.jsxs("button",{onClick:Z,className:"flex items-center gap-2 mt-3 px-4 py-2.5 bg-primary hover:bg-primary-hover text-white font-bold rounded-lg shadow-md transition-all animate-pulse",children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"volume_up"}),"Tap to play audio"]}),(!X||D)&&s.jsxs("button",{onClick:Z,className:"flex items-center gap-1.5 mt-2 text-xs font-semibold text-primary hover:text-primary-hover transition-colors ml-1",children:[s.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"replay"}),"Repeat question"]})]})]})},(I,D)=>I.currentStep===D.currentStep),ee=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center w-full animate-fade-in py-8",children:[s.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-full p-6 mb-6",children:s.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-400 dark:text-slate-500",children:"mic"})}),s.jsx("button",{onClick:()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(()=>{y(!0),b(!1),T()}).catch(I=>{console.error("Mic denied",I),b(!0),y(!1)})},className:"w-full max-w-xs py-3 bg-primary hover:bg-primary-hover text-white font-bold rounded-xl shadow-lg shadow-primary/20 transition-all mb-4",children:"Enable mic"}),w&&s.jsx("p",{className:"text-red-500 text-sm mb-4",children:"Microphone access denied."}),s.jsx("button",{onClick:()=>{b(!0),T()},className:"text-slate-400 hover:text-slate-600 text-sm font-medium",children:"Skip for now (Type only)"}),w&&s.jsx("p",{className:"text-xs text-slate-400 mt-4 max-w-xs text-center",children:"You can still practice by typing your answers."})]}),ne=I=>j?s.jsxs("div",{className:"flex flex-col items-center justify-center py-6 w-full animate-fade-in bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[s.jsx("div",{className:"size-10 rounded-full bg-green-100 flex items-center justify-center mb-3",children:s.jsx("span",{className:"material-symbols-outlined text-green-600",children:"check"})}),s.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-1",children:"Got it!"}),s.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Moving to next step..."}),s.jsx("button",{onClick:()=>{N(null),L(0)},className:"px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-300 font-semibold hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors text-sm",children:"Redo"})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-4 w-full animate-fade-in",children:[s.jsx(fo,{onTranscript:async D=>{N(D);try{const{url:Z}=await ch({text:"Okay, got it.",speed:1});Z&&new Audio(Z).play().catch(X=>console.log("TTS autoplay blocked",X))}catch(Z){console.error("Confirmation TTS error",Z)}O(()=>{let Z=D;I==="job_title"&&(Z=Id(Z)),H(I,Z),a(z=>z+1)})},renderButton:({startRecording:D,stopRecording:Z,recording:z,transcribing:X,error:B=null,permissionDenied:be})=>s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("button",{type:"button",onClick:z?Z:D,disabled:X,className:`group relative flex items-center justify-center size-16 rounded-full shadow-lg transition-all duration-200 ease-out transform hover:scale-105 active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed
                                      ${z?"animate-pulse bg-red-600 hover:bg-red-700 shadow-red-600/30 ring-2 ring-red-600/50 shadow-[0_0_0_4px_rgba(220,38,38,0.2)]":"bg-primary hover:bg-primary-hover shadow-primary/30"}`,children:s.jsx("span",{className:"material-symbols-outlined text-white text-3xl group-hover:animate-pulse",children:z?"stop":"mic"})}),be&&s.jsx("p",{className:"text-xs text-red-500 font-medium bg-red-50 px-2 py-1 rounded",children:'Microphone denied. Switch to "Type" mode.'}),z&&s.jsx("p",{className:"text-xs text-red-500 font-bold animate-pulse",children:"Listening..."}),X&&s.jsx("p",{className:"text-xs text-slate-500 font-medium animate-pulse",children:"Processing..."}),B&&!be&&s.jsx("p",{className:"text-xs text-red-500",children:B})]})}),s.jsx("p",{className:"text-xs text-slate-400 mt-4 text-center",children:"Tap to speak your answer"})]}),Oe=()=>{const I=ue[n];if(I.type==="mic_setup")return ee();if(I.inputType==="text"){const D=g&&!w;return s.jsxs("div",{className:"w-full",children:[D&&I.field!=="job_title"&&I.field!=="display_name"&&s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-1 rounded-full flex gap-1 border border-slate-200 dark:border-slate-700",children:[s.jsx("button",{onClick:()=>E("speak"),className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all ${k==="speak"?"bg-white dark:bg-slate-700 shadow-sm text-primary":"text-slate-500 hover:text-slate-700"}`,children:"Speak"}),s.jsx("button",{onClick:()=>E("type"),className:`px-4 py-1.5 rounded-full text-xs font-bold transition-all ${k==="type"?"bg-white dark:bg-slate-700 shadow-sm text-primary":"text-slate-500 hover:text-slate-700"}`,children:"Type"})]})}),I.field==="job_title"&&s.jsx("p",{className:"text-xs text-slate-500 text-center mb-4",children:"Type the exact job title you're applying for."}),s.jsx("div",{className:"min-h-[160px] flex items-center justify-center",children:k==="speak"&&D&&I.field!=="job_title"?ne(I.field):s.jsx("div",{className:"w-full animate-fade-in",children:s.jsx("input",{type:"text",placeholder:`Type your ${I.title.toLowerCase()}...`,className:"w-full p-3 text-base border-b-2 border-slate-200 dark:border-slate-700 bg-transparent focus:border-primary focus:outline-none transition-colors text-center text-slate-800 dark:text-white",value:x[I.field],onChange:Z=>H(I.field,Z.target.value),autoFocus:!0,onKeyDown:Z=>{Z.key==="Enter"&&T()}})})})]})}if(I.inputType==="select"||I.inputType==="multi-select"){let D=[];I.field==="seniority"&&(D=["Intern","Entry","Mid","Senior","Manager","Exec","Other"]),I.field==="industry"&&(D=["Tech","Health","Finance","Consulting","Retail","Other"]),I.field==="difficulty"&&(D=["Easy","Normal","Hard"]),I.field==="tts_speed_pref"&&(D=["slow","normal","fast"]),I.field==="focus_areas"&&(D=["Behavioral","Technical","Clarity","Confidence","Leadership","STAR","Mixed / All"]);const Z=I.inputType==="multi-select";return s.jsxs("div",{className:"w-full animate-fade-in",children:[s.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:D.map(z=>{const X=Z?x[I.field].includes(z)||z==="Mixed / All"&&x[I.field].includes("mixed"):x[I.field]===z;return s.jsx("button",{onClick:()=>{if(Z){let B=[...x[I.field]];z==="Mixed / All"?B=["mixed"]:(B=B.filter(be=>be!=="mixed"),B.includes(z)?B=B.filter(be=>be!==z):B.push(z)),H(I.field,B)}else H(I.field,z)},className:`px-4 py-2.5 rounded-lg text-sm font-semibold border transition-all ${X?"bg-slate-800 text-white border-slate-800 dark:bg-white dark:text-slate-900 shadow-md transform scale-105":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:z},z)})}),(I.field==="industry"||I.field==="seniority")&&x[I.field]==="Other"&&s.jsxs("div",{className:"mt-4 animate-in zoom-in-95",children:[s.jsx("input",{type:"text",placeholder:`Type your ${I.field}...`,className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-center focus:ring-2 focus:ring-primary focus:border-transparent outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-white",autoFocus:!0,value:C,onChange:z=>{W(z.target.value)},onKeyDown:z=>{z.key==="Enter"&&C.trim()&&(H(I.field,C.trim()),W(""),T())},onBlur:()=>{C.trim()&&(H(I.field,C.trim()),W(""))}}),s.jsxs("p",{className:"text-xs text-slate-500 mt-2 text-center",children:["Type your custom ",I.field," and press Enter or Next"]})]}),(I.field==="industry"||I.field==="seniority")&&x[I.field]&&x[I.field]!=="Other"&&!["Tech","Health","Finance","Consulting","Retail","Intern","Entry","Mid","Senior","Manager","Exec"].includes(x[I.field])&&s.jsxs("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-center",children:[s.jsxs("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200",children:["Custom ",I.field,": ",x[I.field]]}),s.jsx("button",{onClick:()=>{H(I.field,"Other"),W("")},className:"text-xs text-green-600 dark:text-green-400 hover:underline mt-1",children:"Change"})]})]})}},ge=ue[n],ie=p.useMemo(()=>s.jsx(he,{currentStep:n,playing:u,onRepeat:G,steps:ue,autoplayBlocked:f}),[n,u,f]),bt=p.useMemo(()=>Oe(),[n,x,k,j,C,g,w]);return hn.createPortal(s.jsx("div",{className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 font-display",onClick:I=>I.stopPropagation(),children:s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-3xl shadow-2xl flex flex-col overflow-hidden max-h-[90vh] pointer-events-auto",style:{animation:"none",transition:"none"},children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-surface-dark z-10",children:[s.jsx("span",{className:"text-xs font-bold tracking-wider text-slate-400 uppercase",children:ge.type==="mic_setup"?"Setup":`Step ${n} of ${ue.length-1}`}),ge.optional&&s.jsx("button",{onClick:T,className:"text-xs font-semibold text-slate-400 hover:text-slate-600 uppercase tracking-wide",children:"Skip"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 flex flex-col items-center",style:{animation:"none",transition:"none"},children:[ie,bt]}),s.jsxs("div",{className:"p-6 pt-2",children:[ge.type!=="mic_setup"&&!(k==="speak"&&!j&&ge.inputType==="text")&&s.jsx("button",{onClick:T,disabled:!ge.optional&&!x[ge.field]&&ge.field!=="focus_areas",className:"w-full py-4 rounded-xl bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold text-base shadow-lg hover:shadow-xl hover:scale-[1.02] transform transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:n===ue.length-1?i?"Finishing...":"Finish Onboarding":"Next"}),n>0&&s.jsx("button",{onClick:()=>a(I=>I-1),className:"w-full mt-4 text-xs font-medium text-slate-400 hover:text-slate-600",children:"Back"})]})]})}),document.body)}const hI=p.memo(uI);function fI({onComplete:e}){const{user:t}=Rt(),[r,n]=p.useState(!1),a=["TikTok","Instagram","YouTube","Discord","Twitter / X","Facebook","LinkedIn","Google/Search","Friend/Referral","Other"],i=o=>{r||(n(!0),e(),localStorage.setItem("jsp_heard_about_value",o),localStorage.setItem("jsp_heard_about_answered","true"),console.log("[ReferralSurvey] Saved to localStorage:",o),t?Le.from("profiles").update({heard_about_us:o}).eq("id",t.id).then(({error:l})=>{l?console.warn("[ReferralSurvey] DB update failed (non-blocking):",l):console.log("[ReferralSurvey] Saved to DB:",o)}).catch(l=>{console.warn("[ReferralSurvey] DB error (non-blocking):",l)}).finally(()=>{n(!1)}):n(!1))};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsx("div",{className:"bg-white dark:bg-[#1A222C] w-full max-w-sm rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-800 animate-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-center text-slate-900 dark:text-white mb-6",children:"Quick question  how did you hear about us?"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.map(o=>s.jsx("button",{onClick:()=>i(o),disabled:r,className:"px-3 py-3 text-sm font-medium rounded-xl bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 transition-colors border border-transparent hover:border-slate-200 dark:hover:border-slate-600",children:o},o))}),s.jsx("button",{onClick:()=>i("skipped"),disabled:r,className:"w-full mt-6 py-3 text-sm text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 font-medium transition-colors",children:"Skip"})]})})})}async function hw({activityType:e,context:t={}}){try{const r=Te("/api/activity/start",{method:"POST",body:{activityType:e,context:t}});typeof window<"u"&&r.then(()=>{window.__JSP_DEBUG__||(window.__JSP_DEBUG__={}),window.__JSP_DEBUG__.lastActivityStatus="success",window.__JSP_DEBUG__.lastActivityTime=Date.now(),console.debug("[Activity] Tracked success:",e)}).catch(()=>{window.__JSP_DEBUG__||(window.__JSP_DEBUG__={}),window.__JSP_DEBUG__.lastActivityStatus="error",window.__JSP_DEBUG__.lastActivityTime=Date.now()}),await r}catch(r){console.debug("[Activity Tracking] Silent error:",r.message),typeof window<"u"&&(window.__JSP_DEBUG__||(window.__JSP_DEBUG__={}),window.__JSP_DEBUG__.lastActivityStatus="error",window.__JSP_DEBUG__.lastActivityTime=Date.now())}}function Rc(){const e="jsp_tab_id";let t=sessionStorage.getItem(e);return t||(t=`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem(e,t)),t}function fw(e){const t=Rc(),r=new Date().toISOString().split("T")[0],n=`jsp_activity_${e}_${t}_${r}`;return sessionStorage.getItem(n)==="true"}function mw(e){const t=Rc(),r=new Date().toISOString().split("T")[0],n=`jsp_activity_${e}_${t}_${r}`;sessionStorage.setItem(n,"true")}const Og=e=>Array.isArray(e)?e:e?[e]:[];function mI(){var qf;const e=De(),{user:t}=Rt(),[r,n]=p.useState(()=>new URLSearchParams(window.location.search).get("skipOnboarding")==="1"?(console.log("[Onboarding] Skipped via URL parameters"),!0):!!localStorage.getItem("jsp_onboarding_complete_v1")),[a,i]=p.useState(!1),[o,l]=p.useState(!0);p.useEffect(()=>{(async()=>{l(!0);const fe=new URLSearchParams(window.location.search),oe=fe.get("debug")==="1",Je=fe.get("skipOnboarding")==="1";if(oe&&Je){console.log("[Tutorial] Skipped via URL parameters"),i(!0),l(!1);return}if(t)try{const{data:Ie,error:It}=await Le.from("profiles").select("has_seen_practice_onboarding").eq("id",t.id).single();i(Ie&&!It?!!Ie.has_seen_practice_onboarding:!1)}catch(Ie){console.error("[Tutorial] Profile fetch error:",Ie),i(!1)}else i(!!localStorage.getItem("practice_onboarding_seen"));l(!1)})()},[t]);const c=async()=>{if(t)try{await Le.from("profiles").update({has_seen_practice_onboarding:!0}).eq("id",t.id),console.log("[Tutorial] Marked as seen in database for user:",t.id)}catch(_){console.error("[Tutorial] Failed to update profile:",_)}else localStorage.setItem("practice_onboarding_seen","true"),console.log("[Tutorial] Marked as seen in localStorage for guest");i(!0)},[d,u]=p.useState(null),{text:h,setText:f,result:m,loading:g,error:y,setError:w,isTranscribing:b,setIsTranscribing:x,isRecording:v,setIsRecording:j,showUpgradeModal:N,setShowUpgradeModal:k,setPaywallSource:E,setServerUnavailable:S,freeImproveUsage:L,usage:C,currentQuestion:W,isPro:_e,improvedAnswerText:ue,handleImproveAnswer:Ee,handleTryAnotherQuestion:je,fetchFreeAttempts:xe,lastApiStatus:Re,lastApiTimestamp:U}=pP({profileContext:d}),G=(W==null?void 0:W.question)??(W==null?void 0:W.prompt)??"",$=()=>{jw(),je()},O=(_="")=>_.replace(/<[^>]*>/g,""),T=(_,fe)=>{const oe=_||"";if(!oe||!oe.trim())return"";const Ie=(Array.isArray(fe)?fe:[]).map($e=>($e==null?void 0:$e.word)||($e==null?void 0:$e.term)||($e==null?void 0:$e.vocab)).filter($e=>typeof $e=="string"&&$e.length>0).map($e=>$e.toLowerCase());if(Ie.length>0){const $e=oe.toLowerCase();Ie.forEach(No=>{$e.includes(No)||console.warn(`[Vocabulary Fix] Word "${No}" not found in clearer rewrite.`)})}if(oe.includes("<u>")||Ie.length===0)return oe;const It=$e=>$e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),cr=new RegExp(`\\b(${Ie.map(It).join("|")})\\b`,"gi");return oe.replace(cr,$e=>`<u>${$e}</u>`)},[q,H]=p.useState(!1),[he,ee]=p.useState(!1),[ne,Oe]=p.useState(!1),[ge,ie]=p.useState(!1),[bt,I]=p.useState(!1),[D,Z]=p.useState(!1),[z,X]=p.useState(!1),[B,be]=p.useState({mode:"server",message:""}),[at,A]=p.useState(!1),[ae,R]=p.useState(!1),[Y,me]=p.useState(!1),[ye,it]=p.useState({lastApiStatus:null,lastApiTimestamp:null,referralModalTriggered:!1,referralModalTimestamp:null,paywallOpened:!1,paywallTimestamp:null}),[Jt,Ke]=p.useState(0);p.useEffect(()=>{const fe=new URLSearchParams(window.location.search).get("debug")==="1";me(fe),fe&&console.log("[Debug Panel] Debug mode enabled")},[]),p.useEffect(()=>{if(!Y)return;const _=setInterval(()=>{Ke(fe=>fe+1)},5e3);return()=>clearInterval(_)},[Y]),p.useEffect(()=>{N&&(ee(!0),Y&&it(_=>({..._,paywallOpened:!0,paywallTimestamp:new Date().toISOString()})))},[N,Y]),p.useEffect(()=>{if(D){const _=setTimeout(()=>Z(!1),4e3);return()=>clearTimeout(_)}},[D]),p.useEffect(()=>{if(z){const _=setTimeout(()=>X(!1),3e3);return()=>clearTimeout(_)}},[z]),p.useEffect(()=>{if(!("speechSynthesis"in window))return;const _=window.speechSynthesis;_.getVoices();const fe=()=>_.getVoices();return _.onvoiceschanged=fe,()=>{_.onvoiceschanged=null}},[]);const re=!r,br=p.useCallback(()=>{n(!0)},[]),ke=p.useRef(null),ot=p.useRef(null),_t=p.useRef(0),[jo,Rn]=p.useState(null),[$t,Ft]=p.useState(!1),[Yt,Vs]=p.useState(1),Qt=p.useRef(null);p.useRef(null);const Kr=p.useRef(null),Ks=p.useRef(0),[Bf,zf]=p.useState(null),[ko,yr]=p.useState(!1),[za,gw]=p.useState(()=>localStorage.getItem("tts_question_autoplay")==="true"),[Ur,Wf]=p.useState(()=>{const _=localStorage.getItem("tts_question_speed");return _?Number(_):1}),[Dr,bw]=p.useState(()=>{let _=localStorage.getItem("tts_question_voiceId");const fe={nova:"us_female_emma",onyx:"us_male_jake",shimmer:"us_female_ava",echo:"uk_male_oliver",fable:"uk_female_amelia",ash:"uk_male_harry",us_female_nova:"us_female_emma",us_male_onyx:"us_male_jake",us_female_shimmer:"us_female_ava",uk_male_echo:"uk_male_oliver",uk_female_fable:"uk_female_amelia",uk_male_ash:"uk_male_harry"};return _&&fe[_]&&(_=fe[_],localStorage.setItem("tts_question_voiceId",_)),_||"us_female_emma"}),[Ic,yw]=p.useState(!1),vw=p.useMemo(()=>[{id:"us_female_emma",label:"US Female  Emma"},{id:"us_female_ava",label:"US Female  Ava"},{id:"us_male_jake",label:"US Male  Jake"},{id:"uk_female_amelia",label:"UK Female  Amelia"},{id:"uk_male_oliver",label:"UK Male  Oliver"},{id:"uk_male_harry",label:"UK Male  Harry"}],[]),ww=p.useMemo(()=>[{value:.7,label:"0.70"},{value:.75,label:"0.75"},{value:1,label:"1.0"},{value:1.25,label:"1.25"},{value:1.5,label:"1.5"}],[]);p.useEffect(()=>{localStorage.setItem("tts_question_autoplay",String(za))},[za]),p.useEffect(()=>{localStorage.setItem("tts_question_speed",String(Ur))},[Ur]),p.useEffect(()=>{localStorage.setItem("tts_question_voiceId",Dr)},[Dr]),p.useEffect(()=>()=>{Kr.current&&URL.revokeObjectURL(Kr.current),ot.current&&URL.revokeObjectURL(ot.current)},[]),p.useEffect(()=>{ke.current&&(ke.current.playbackRate=Yt)},[Yt]),p.useEffect(()=>{Qt.current&&(Qt.current.playbackRate=Ur)},[Ur]),p.useEffect(()=>{G&&Dr&&(Kr.current&&(URL.revokeObjectURL(Kr.current),Kr.current=null),zf(null),yr(!1),za&&Ac({forceRegenerate:!0}))},[Dr]);const jw=p.useCallback(()=>{Qt.current&&(Qt.current.pause(),Qt.current.currentTime=0),yr(!1),ke.current&&(ke.current.pause(),ke.current.currentTime=0),Ft(!1)},[]);p.useEffect(()=>{if(za&&G&&!v&&!b){const _=setTimeout(()=>{Ac({forceRegenerate:!0})},300);return()=>clearTimeout(_)}},[G]),p.useEffect(()=>{(async()=>{let fe={};try{const oe=localStorage.getItem("jsp_onboarding_v1");oe&&(fe={...JSON.parse(oe)})}catch(oe){console.error("Error parsing local context",oe)}if(t)try{const{data:oe,error:Je}=await Le.from("profiles").select("*").eq("id",t.id).single();oe&&!Je&&(fe={...fe,...oe})}catch(oe){console.error("Profile fetch error",oe)}if(u(fe),fe.tts_speed_pref){const Je={slow:.75,normal:1,fast:1.25}[fe.tts_speed_pref]||1;Vs(Je),Wf(Je)}})()},[t,r]),p.useEffect(()=>{const fe=new URLSearchParams(window.location.search).get("skipOnboarding")==="1";(r||fe)&&(fw("practice")||(hw({activityType:"practice",context:{source:"PracticeSpeakingPage",questionCount:1,tabId:Rc(),skippedOnboarding:fe}}),mw("practice")))},[r]),p.useEffect(()=>{m&&(m.clearerRewriteAudioUrl?(Rn(m.clearerRewriteAudioUrl),ot.current=m.clearerRewriteAudioUrl,ke.current&&(ke.current.src=m.clearerRewriteAudioUrl,ke.current.playbackRate=Yt)):(Rn(null),ot.current=null))},[m]),p.useEffect(()=>{var fe;if(m&&!m.error&&(m.improved||m.clearerRewrite||m.analysis)){if(t&&d){const oe=d.heard_about_us,Je=oe==null||oe==="";console.log("[Referral Modal] Logged-in check:",{heardAboutUs:oe,isNull:Je,userId:(fe=t.id)==null?void 0:fe.substring(0,8)}),Je?(console.log("[Referral Modal] Triggering modal (logged-in, DB NULL)"),A(!0),Y&&it(Ie=>({...Ie,referralModalTriggered:!0,referralModalTimestamp:new Date().toISOString()}))):console.log("[Referral Modal] Already answered in DB:",oe)}else if(!t){const oe=localStorage.getItem("jsp_heard_about_answered");console.log("[Referral Modal] Guest check:",{guestAnswered:oe||"null"}),oe!=="true"?(console.log("[Referral Modal] Triggering modal (guest, not answered)"),A(!0),Y&&it(Je=>({...Je,referralModalTriggered:!0,referralModalTimestamp:new Date().toISOString()}))):console.log("[Referral Modal] Guest already answered")}}},[t,m,d,Y]);const Ac=p.useCallback(async(_={})=>{var It;const{forceRegenerate:fe=!1}=_,oe=++Ks.current;if(Bf&&!fe){if(ko)(It=Qt.current)==null||It.pause(),window.speechSynthesis.cancel(),yr(!1);else try{Qt.current&&(Qt.current.playbackRate=Ur,await Qt.current.play(),oe===Ks.current&&yr(!0))}catch(cr){console.error("Resume error",cr),oe===Ks.current&&yr(!1)}return}const Je=G||"Tell me about yourself";If(),be({mode:"server",message:"Generating voice..."});const Ie=await Ni({text:Je,voiceId:Dr,speed:Ur});if(oe===Ks.current){if(Ie.ok&&(Ie.audioBase64||Ie.audioUrl))try{const cr=Ie.audioUrl||`data:audio/mp3;base64,${Ie.audioBase64}`,$e=Qt.current;if(!$e)return;Kr.current&&Kr.current!==cr&&URL.revokeObjectURL(Kr.current),Kr.current=cr,zf(cr),$e.src=cr,$e.playbackRate=Ur,await $e.play(),oe===Ks.current&&(yr(!0),be({mode:"server",message:""}));return}catch(cr){console.warn("Server playback failed, falling back",cr)}oe===Ks.current&&(be({mode:"browser",message:"Using browser voice"}),yr(!0),await ra({text:Je,rate:Ur}),oe===Ks.current&&(yr(!1),be({mode:"server",message:""})))}},[G,Dr,Ur,Bf,ko]),kw=p.useCallback(async()=>{var Je;const _=++_t.current,fe=O(ue);if(!fe)return;if(jo){if($t)(Je=ke.current)==null||Je.pause(),window.speechSynthesis.cancel(),Ft(!1);else try{ke.current&&(ke.current.playbackRate=Yt,await ke.current.play(),_===_t.current&&Ft(!0))}catch(Ie){console.error("Guidance resume error",Ie),_===_t.current&&Ft(!1)}return}be({mode:"server",message:"Generating voice..."});const oe=await Ni({text:fe,voiceId:Dr,speed:Yt});if(_===_t.current){if(oe.ok&&(oe.audioBase64||oe.audioUrl))try{const Ie=oe.audioUrl||`data:audio/mp3;base64,${oe.audioBase64}`,It=ke.current;if(!It)return;ot.current&&ot.current!==Ie&&URL.revokeObjectURL(ot.current),ot.current=Ie,Rn(Ie),It.src=Ie,It.playbackRate=Yt,await It.play(),_===_t.current&&(Ft(!0),be({mode:"server",message:""}));return}catch(Ie){console.warn("Guidance playback failed, falling back",Ie)}_===_t.current&&(be({mode:"browser",message:"Using browser voice"}),Ft(!0),await ra({text:fe,rate:Yt}),_===_t.current&&(Ft(!1),be({mode:"server",message:""})))}},[ue,Dr,Yt,jo,$t]),Nw=p.useCallback(()=>{f(""),w(""),H(!1),ke.current&&(ke.current.pause(),ke.current.currentTime=0),ot.current&&(URL.revokeObjectURL(ot.current),ot.current=null),Rn(null),Ft(!1)},[f,w]);return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-text-main dark:text-white antialiased transition-colors duration-200",children:[Y&&s.jsxs("div",{className:"fixed top-4 right-4 z-[10000] bg-black/90 text-white p-4 rounded-lg shadow-xl font-mono text-xs max-w-md border border-yellow-500",children:[s.jsx("div",{className:"font-bold text-yellow-400 mb-2",children:" DEBUG PANEL"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"User State:"})," ",t?`Logged-in (${(qf=t.id)==null?void 0:qf.substring(0,8)}...)`:"Guest"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Fix My Answer Attempts:"})," ",L.count," / ",L.limit]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Last API Status:"})," ",Re||"N/A"," ",U&&`(${new Date(U).toLocaleTimeString()})`]}),s.jsxs("div",{className:"border-t border-gray-700 pt-2 mt-2",children:[s.jsx("div",{className:"text-yellow-400 font-bold mb-1",children:"Referral State:"}),s.jsxs("div",{className:"pl-2 space-y-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"localStorage jsp_heard_about_answered:"})," ",localStorage.getItem("jsp_heard_about_answered")||"null"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"localStorage jsp_heard_about_value:"})," ",localStorage.getItem("jsp_heard_about_value")||"null"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"profile heard_about_us:"})," ",(d==null?void 0:d.heard_about_us)||"null"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Referral modal triggered:"})," ",ye.referralModalTriggered?"YES":"NO"," ",ye.referralModalTimestamp&&`(${new Date(ye.referralModalTimestamp).toLocaleTimeString()})`]})]})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-2 mt-2",children:[s.jsx("div",{className:"text-yellow-400 font-bold mb-1",children:"Paywall State:"}),s.jsx("div",{className:"pl-2",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Paywall opened:"})," ",ye.paywallOpened?"YES":"NO"," ",ye.paywallTimestamp&&`(${new Date(ye.paywallTimestamp).toLocaleTimeString()})`]})})]})]})]}),at&&s.jsx(fI,{onComplete:()=>{A(!1),localStorage.setItem("jsp_referral_done","true"),R(!0),setTimeout(()=>R(!1),3e3)}}),he&&s.jsx(Nv,{onClose:()=>{ee(!1),k(!1)},onNotNow:()=>{ee(!1),k(!1)}}),re&&s.jsx(hI,{onComplete:br}),!re&&!o&&!a&&s.jsx(lI,{onComplete:c,onClose:c}),s.jsx(Ue,{}),s.jsxs("main",{className:"flex-grow flex flex-col items-center justify-start py-8 px-4 md:px-6 pb-20",children:[s.jsxs("div",{className:"w-full max-w-[900px] flex flex-col gap-8",children:[s.jsxs("div",{className:"text-center space-y-2 pt-4",children:[s.jsx("h1",{className:"text-text-main dark:text-white text-3xl md:text-4xl font-black leading-tight tracking-tight",children:"Practice Speaking"}),s.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-base md:text-lg font-light",children:"Take your time. Practice is private and judgment-free."})]}),s.jsxs("div",{className:"w-full bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"relative w-full bg-cover bg-center flex flex-col min-h-[400px] md:min-h-[450px]",style:{backgroundImage:"linear-gradient(135deg, rgba(19, 109, 236, 0.8) 0%, rgba(16, 24, 34, 0.9) 100%), url('https://lh3.googleusercontent.com/aida-public/AB6AXuDuBe5ft9h7R5hRXjmGP00v19h7Hyg6FG-sBHO3a_wHZOqYyb1mwpub1Eh1XZ9AfTAiJ2Qfcs13PRgmLHiHZ9hDBzJTjWq8BNHbW6Mv2ZvrBKxT1yxaRAGW-cDTv-lzifrxJX68MCE0K9CAhcmPBKzxYuBhuzlDKewC7hVWviiKjqeBXaI9wC9d7NRJI6C26vmZ0yvqw_QX7D3bIoQIwixlQIeRWtOpGFgxI-E9kHlks3YCZ9Bufn_5yr66WTiOMharmAjYlI5iEkI9')"},children:[s.jsx("div",{className:"flex-1 flex items-center justify-center p-6 md:p-8",children:s.jsxs("div",{className:"max-w-3xl w-full text-center",children:[s.jsx("h3",{className:"text-white text-2xl md:text-3xl lg:text-4xl font-bold leading-snug drop-shadow-md",children:G}),(W==null?void 0:W.hint)&&s.jsx("p",{className:"text-white/90 text-sm md:text-base mt-4 font-medium",children:W.hint})]})}),s.jsx("div",{className:"relative z-10 w-full bg-black/20 backdrop-blur-sm border-t border-white/10 p-4 md:p-5",children:s.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:Ac,className:"inline-flex items-center justify-center size-9 rounded-lg bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white transition-all",title:ko?"Pause":"Play question",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:ko?"pause":"play_arrow"})}),s.jsxs("label",{className:"inline-flex items-center gap-1.5 text-white/90 text-xs cursor-pointer select-none",children:[s.jsx("input",{type:"checkbox",checked:za,onChange:_=>gw(_.target.checked),className:"size-3.5 rounded border-white/30 bg-white/20 checked:bg-primary focus:ring-2 focus:ring-white/50"}),s.jsx("span",{children:"Autoplay"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("select",{value:String(Ur),onChange:_=>Wf(Number(_.target.value)),className:"h-8 rounded-lg border border-white/30 bg-white/20 backdrop-blur-sm text-white text-xs px-2 focus:outline-none focus:ring-2 focus:ring-white/50 min-w-[70px]",children:ww.map(_=>s.jsx("option",{value:String(_.value),style:{background:"#1e293b",color:"white"},children:_.label},_.value))}),s.jsx("select",{"data-tour":"voice-select",value:Dr,onChange:_=>bw(_.target.value),className:"h-8 rounded-lg border border-white/30 bg-white/20 backdrop-blur-sm text-white text-xs px-2 focus:outline-none focus:ring-2 focus:ring-white/50 min-w-[140px]",children:vw.map(_=>s.jsx("option",{value:_.id,style:{background:"#1e293b",color:"white"},children:_.label},_.id))}),(B==null?void 0:B.mode)==="browser"&&(B==null?void 0:B.message)&&s.jsx("div",{className:"text-xs text-white/80 px-2 py-1 bg-white/10 rounded",children:B.message})]}),s.jsxs("button",{type:"button","data-tour":"next-question",onClick:$,className:"inline-flex items-center gap-1 px-4 py-2 rounded-lg bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white text-sm font-bold transition-all border border-white/30 shadow-sm",children:[s.jsx("span",{children:"Next question"}),s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]})})]}),s.jsx("audio",{ref:Qt,onEnded:()=>yr(!1),onPause:()=>yr(!1),onPlay:()=>yr(!0),style:{display:"none"}})]}),s.jsxs("div",{className:"p-6 md:p-10 flex flex-col items-center justify-center gap-6 bg-surface-light dark:bg-surface-dark",children:[q?s.jsxs(s.Fragment,{children:[s.jsx("textarea",{value:h,onChange:_=>f(_.target.value),placeholder:"Type your answer here...",className:"w-full min-h-[120px] border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg px-4 py-3 text-sm text-text-main dark:text-white placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary disabled:opacity-60 disabled:cursor-not-allowed transition-all leading-relaxed resize-none"}),s.jsxs("button",{type:"button",onClick:()=>H(!1),className:"flex items-center gap-2 text-text-secondary dark:text-gray-400 hover:text-text-main dark:hover:text-white transition-colors text-sm font-medium",children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"mic"}),s.jsx("span",{children:"Record voice instead"})]})]}):s.jsxs(s.Fragment,{children:[v&&s.jsxs("div",{className:"h-12 w-full max-w-sm flex items-center justify-center gap-1 relative",children:[s.jsx("div",{className:"w-1 h-2 bg-primary rounded-full animate-pulse"}),s.jsx("div",{className:"w-1 h-4 bg-primary rounded-full animate-pulse delay-75"}),s.jsx("div",{className:"w-1 h-3 bg-primary rounded-full animate-pulse delay-100"}),s.jsx("div",{className:"w-1 h-6 bg-primary rounded-full animate-pulse delay-150"}),s.jsx("div",{className:"w-1 h-3 bg-primary rounded-full animate-pulse delay-100"}),s.jsx("div",{className:"w-1 h-4 bg-primary rounded-full animate-pulse delay-75"}),s.jsx("div",{className:"w-1 h-2 bg-primary rounded-full animate-pulse"}),s.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-700 absolute"})]}),s.jsx(fo,{onTranscript:_=>{f(_)},onStateChange:({recording:_,transcribing:fe})=>{j(_),x(fe)},onUpgradeNeeded:_=>{E(_||"mic"),k(!0),ee(!0)},onAttemptsRefresh:()=>xe(),renderButton:({startRecording:_,stopRecording:fe,recording:oe,transcribing:Je,error:Ie,permissionDenied:It})=>s.jsxs(s.Fragment,{children:[s.jsxs("button",{type:"button","data-tour":"mic-button",onClick:oe?fe:_,disabled:Je,className:`group relative flex items-center justify-center size-20 rounded-full shadow-lg transition-all duration-200 ease-out transform hover:scale-105 active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed
                            ${oe?"animate-pulse bg-red-600 hover:bg-red-700 shadow-red-600/30 ring-2 ring-red-600/50 shadow-[0_0_0_6px_rgba(220,38,38,0.3)]":"bg-primary hover:bg-primary-hover shadow-primary/30"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-white text-4xl group-hover:animate-pulse",children:oe?"stop":"mic"}),s.jsx("span",{className:"absolute -bottom-8 text-sm font-semibold text-text-secondary dark:text-gray-400 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:oe?"Stop Recording":"Record Voice"})]}),It&&s.jsx("p",{className:"text-xs text-primary mt-2",children:"Microphone permission denied"})]})}),s.jsx("div",{className:"flex items-center gap-6 mt-2",children:s.jsxs("button",{type:"button",onClick:()=>H(!0),className:"flex items-center gap-2 text-text-secondary dark:text-gray-400 hover:text-text-main dark:hover:text-white transition-colors text-sm font-medium",children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"keyboard"}),s.jsx("span",{children:"Type answer instead"})]})}),b&&s.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mt-3 animate-pulse",children:"Transcribing please wait"})]}),s.jsx("p",{className:"text-text-secondary dark:text-gray-500 text-xs font-normal text-center max-w-xs mt-2",children:"There's no rush. You can record again if you want."}),h&&s.jsx("form",{onSubmit:async _=>{_.preventDefault();try{await Ee()}catch(fe){console.error("[PracticeSpeakingPage] Error in handleImproveAnswer:",fe),setLoading(!1),fe.isFixUnavailable||fe.message==="FIX_UNAVAILABLE"?(I(!0),w("")):w(fe.message||"Something went wrong. Please try again.")}},className:"w-full",children:s.jsx("button",{type:"submit",disabled:g||b||!h.trim(),className:"w-full px-6 py-3 rounded-lg bg-primary hover:bg-primary-hover text-white font-bold text-sm shadow-md shadow-primary/20 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:g?"Improving...":" Fix my answer"})}),y&&s.jsx(fn,{message:y,onRetry:y.includes("temporarily unavailable")?()=>{w(""),S(!1),Ee()}:void 0})]})]}),s.jsxs("div",{className:"w-full max-w-[900px]",children:[g?s.jsx("div",{className:"w-full flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):m&&!m.error?(()=>{var Gf,Vf,Kf,Jf,Yf,Qf,Xf,Zf,em,tm,rm,sm,nm,am,im,om,lm;const _=(m==null?void 0:m.analysis)??(m==null?void 0:m.guidance)??m??{},fe=["fuck","shit","bitch","asshole","damn","crap","bastard","dick","pussy","cock","slut"],oe=Fe=>{if(!Fe)return!1;const vr=Fe.toLowerCase();return fe.some(Mr=>new RegExp(`\\b${Mr}\\b`,"i").test(vr))},Je=((Vf=(Gf=m==null?void 0:m.metadata)==null?void 0:Gf.professionalism)==null?void 0:Vf.flagged)||oe(h),Ie=(_==null?void 0:_.score)??null,It=(_==null?void 0:_.whatWorked)??(_==null?void 0:_.strengths)??[],cr=(_==null?void 0:_.improvements)??(_==null?void 0:_.improveNext)??((Kf=_==null?void 0:_.feedback)==null?void 0:Kf.improvements)??((Jf=_==null?void 0:_.feedback)==null?void 0:Jf.weaknesses)??((Yf=_==null?void 0:_.summary)==null?void 0:Yf.improvements)??(m==null?void 0:m.improvements)??[],$e=(_==null?void 0:_.interpretation)??(_==null?void 0:_.hiringManagerHeard)??(_==null?void 0:_.hmHeard)??((Qf=_==null?void 0:_.feedback)==null?void 0:Qf.interpretation)??((Xf=_==null?void 0:_.feedback)==null?void 0:Xf.whatHiringManagerHeard)??((Zf=_==null?void 0:_.summary)==null?void 0:Zf.interpretation)??(m==null?void 0:m.interpretation)??"",No=(_==null?void 0:_.vocabulary)??(_==null?void 0:_.vocab)??((em=_==null?void 0:_.feedback)==null?void 0:em.vocabulary)??((tm=_==null?void 0:_.feedback)==null?void 0:tm.vocab)??((rm=_==null?void 0:_.summary)==null?void 0:rm.vocabulary)??(m==null?void 0:m.vocabulary)??[],Hf=Fe=>{const vr=Og(Fe);return vr.length>0&&typeof vr[0]=="string"?vr:typeof Fe=="string"?Fe.split(/\n/).map(Mr=>Mr.replace(/^[-]\s*/,"").trim()).filter(Boolean):[]};let _o=Hf(It);const Oc=Hf(cr);Je&&(_o=["You responded quickly under pressure."]);const So=Og(No).slice(0,2),Eo=(_==null?void 0:_.clearerRewrite)??(_==null?void 0:_.improved)??(_==null?void 0:_.improvedAnswer)??(_==null?void 0:_.rewrite)??(_==null?void 0:_.betterAnswer)??((sm=_==null?void 0:_.feedback)==null?void 0:sm.clearerRewrite)??((nm=_==null?void 0:_.feedback)==null?void 0:nm.rewrite)??((am=_==null?void 0:_.summary)==null?void 0:am.rewrite)??(m==null?void 0:m.clearerRewrite)??(m==null?void 0:m.improved)??"";return(_==null?void 0:_.clearerRewriteAudioUrl)??((im=_==null?void 0:_.clearerRewrite)==null?void 0:im.audioUrl)??(_==null?void 0:_.audioUrl)??((om=_==null?void 0:_.feedback)==null?void 0:om.clearerRewriteAudioUrl)??((lm=_==null?void 0:_.feedback)==null?void 0:lm.audioUrl)??(m==null?void 0:m.clearerRewriteAudioUrl)??(m==null||m.audioUrl),console.log("[PRACTICE] Extracted feedback:",{score:Ie,whatWorked:_o.length,improveNext:Oc.length,hiringManagerHeard:$e?"present":"missing",vocabulary:So.length,improvedAnswerText:Eo?"present":"missing"}),s.jsxs("div",{className:"w-full flex flex-col gap-6 animate-fade-in",children:[Je&&s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-4 flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-amber-600 dark:text-amber-500 mt-0.5",children:"warning"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-bold text-amber-800 dark:text-amber-400",children:"Professionalism Alert"}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"We rewrote this professionally because the original contained unprofessional language."})]})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-800 p-0 shadow-sm overflow-hidden",children:[s.jsxs("button",{onClick:()=>yw(!Ic),className:"w-full flex items-center justify-between p-6 bg-slate-50/50 hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"YOUR ANSWER (TRANSCRIPT)"}),s.jsx("span",{className:`material-symbols-outlined text-slate-400 transition-transform duration-200 ${Ic?"rotate-180":""}`,children:"expand_more"})]}),Ic&&s.jsx("div",{className:"p-6 pt-0 border-t border-slate-100 dark:border-slate-800",children:s.jsx("p",{className:"text-text-main dark:text-gray-300 leading-relaxed text-sm md:text-base mt-4 break-words [overflow-wrap:anywhere]",children:h})})]}),typeof Ie=="number"&&s.jsx("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:s.jsxs("div",{className:"flex items-center gap-4 p-6",children:[s.jsx("div",{className:"relative size-16 flex items-center justify-center rounded-full border-4 border-primary/20 text-primary font-bold text-xl",children:Ie}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-text-main dark:text-white",children:"Okay, let's look at this."}),s.jsxs("p",{className:"text-sm text-text-secondary dark:text-gray-400",children:["Score: ",Ie,"/100"]})]})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/10 rounded-xl p-6 border border-green-100 dark:border-green-900/30",children:[s.jsxs("h4",{className:"font-bold text-green-800 dark:text-green-400 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"What you did well"]}),_o.length>0?s.jsx("ul",{className:"space-y-3",children:_o.map((Fe,vr)=>s.jsxs("li",{className:"text-sm text-text-main dark:text-gray-300 flex gap-2 items-start break-words [overflow-wrap:anywhere]",children:[s.jsx("span",{className:"text-green-500 mt-0.5 flex-shrink-0",children:""}),s.jsx("span",{children:Fe})]},vr))}):s.jsx("p",{className:"text-sm text-slate-500 italic",children:"This feedback will appear once analysis completes."})]}),s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 rounded-xl p-6 border border-amber-100 dark:border-amber-900/30",children:[s.jsxs("h4",{className:"font-bold text-amber-800 dark:text-amber-400 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"lightbulb"}),"Tips for next time"]}),Oc.length>0?s.jsx("ul",{className:"space-y-3",children:Oc.map((Fe,vr)=>s.jsxs("li",{className:"text-sm text-text-main dark:text-gray-300 flex gap-2 items-start break-words [overflow-wrap:anywhere]",children:[s.jsx("span",{className:"text-amber-500 mt-0.5 flex-shrink-0",children:""}),s.jsx("span",{children:Fe})]},vr))}):s.jsx("p",{className:"text-sm text-slate-500 italic",children:"This feedback will appear once analysis completes."})]})]}),s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/10 rounded-xl p-6 border border-purple-100 dark:border-purple-900/30",children:[s.jsxs("h4",{className:"font-bold text-purple-800 dark:text-purple-400 mb-2 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"psychology"}),"How you came across"]}),s.jsxs("p",{className:"text-purple-900 dark:text-purple-200 italic text-sm leading-relaxed",children:['"',$e?$e.replace(/seems junior/gi,"signals early-career level"):"This feedback will appear once analysis completes.",'"']})]}),So.length>0&&s.jsxs("div",{className:"w-full bg-slate-50 dark:bg-slate-800/50 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[s.jsxs("h4",{className:"font-bold text-slate-700 dark:text-slate-300 mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"book_2"}),"Vocabulary to level up your answer"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:So.slice(0,2).map((Fe,vr)=>{const Mr=Fe.word??Fe.term??Fe.vocab??"",cm=O(Fe.definition??Fe.meaning??""),dm=O(Fe.usage??Fe.example??Fe.sentence??""),um=Fe.partOfSpeech??Fe.pos??"",hm=Fe.ipa??Fe.phonetic??"";return!Mr||!cm?null:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm text-left h-full flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[s.jsx("h5",{className:"font-bold text-xl dark:text-white text-left text-slate-900",children:Mr}),um&&s.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400 italic",children:["(",um.toLowerCase(),")"]})]}),hm&&s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-sm font-mono text-slate-500 dark:text-slate-400",children:hm}),s.jsxs("button",{type:"button",onClick:async _w=>{if(_w.stopPropagation(),!!Mr)try{const Jr=await Ni({text:Mr,voiceId:Dr,speed:1});if(Jr.ok&&(Jr.audioBase64||Jr.audioUrl)){const Wa=new Audio;Jr.audioUrl?Wa.src=Jr.audioUrl:Jr.audioBase64&&(Wa.src=`data:audio/mp3;base64,${Jr.audioBase64}`),await Wa.play()}else await ra({text:Mr,rate:1})}catch(Jr){console.error("Vocab play error",Jr);try{await ra({text:Mr,rate:1})}catch(Wa){console.error("Browser TTS fallback failed",Wa)}}},className:"inline-flex items-center gap-1.5 px-2 py-1 rounded bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 text-[10px] font-bold uppercase transition-colors tracking-wide",title:"Play US pronunciation",children:[s.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"volume_up"}),"US"]})]}),s.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300 leading-snug",children:[s.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"Definition:"})," ",cm]}),dm&&s.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 italic",children:[s.jsx("span",{className:"font-medium not-italic text-slate-500",children:"Example:"}),' "',dm,'"']})]},vr)})})]}),s.jsxs("div",{className:"w-full bg-blue-50 dark:bg-blue-900/10 rounded-xl border border-blue-100 dark:border-blue-900/30 p-6 shadow-sm",children:[s.jsxs("h4",{className:"font-bold text-blue-800 dark:text-blue-400 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"}),"Here's a clearer way to say this:"]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-text-main dark:text-white leading-tight",children:W.question}),d&&(d.job_title||d.industry||d.seniority)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"person"}),s.jsxs("span",{children:["Personalized for:",d.job_title&&s.jsxs("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:[" ",d.job_title]}),d.industry&&s.jsxs(s.Fragment,{children:["  ",d.industry]}),d.seniority&&s.jsxs(s.Fragment,{children:["  ",d.seniority]})]})]}),W.hint&&s.jsxs("p",{className:"text-sm text-text-secondary dark:text-gray-400 italic",children:[" ",W.hint]})]}),Eo?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-text-main dark:text-gray-200 leading-relaxed mb-4 break-words [overflow-wrap:anywhere]",dangerouslySetInnerHTML:{__html:T(Eo,So)}}),s.jsxs("div",{className:"mt-4 flex items-center gap-3 flex-wrap",children:[s.jsxs("button",{type:"button",disabled:!Eo,onClick:kw,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white dark:bg-blue-900/40 hover:bg-blue-100 dark:hover:bg-blue-900/60 border border-blue-200 dark:border-blue-800/50 text-blue-700 dark:text-blue-300 text-sm font-medium transition-all shadow-sm flex-shrink-0 disabled:opacity-50",children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:$t?"pause":"play_arrow"}),s.jsx("span",{children:$t?"Pause":"Play audio"})]}),s.jsxs("select",{value:Yt,onChange:Fe=>Vs(parseFloat(Fe.target.value)),onClick:Fe=>Fe.stopPropagation(),className:"h-[34px] rounded-lg border border-blue-200 dark:border-blue-800/50 bg-white dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 text-sm px-2 focus:outline-none focus:ring-2 focus:ring-blue-500/50 cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/60 transition-colors",children:[s.jsx("option",{value:.8,children:"0.8"}),s.jsx("option",{value:1,children:"1.0"}),s.jsx("option",{value:1.2,children:"1.2"}),s.jsx("option",{value:1.5,children:"1.5"})]})]})]}):s.jsx("p",{className:"text-sm text-slate-500 italic mt-4",children:"This feedback will appear once analysis completes."}),s.jsx("audio",{ref:ke,onPlay:()=>Ft(!0),onPause:()=>Ft(!1),onEnded:()=>Ft(!1),onError:Fe=>{console.error("Guidance audio error",Fe),Ft(!1)},style:{display:"none"}})]}),s.jsxs("div",{className:"w-full flex flex-col sm:flex-row gap-3 mt-6",children:[s.jsxs("button",{type:"button",onClick:Nw,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 font-semibold rounded-lg border-2 border-slate-200 dark:border-slate-700 transition-all shadow-sm",children:[s.jsx("span",{className:"material-symbols-outlined",children:"refresh"}),s.jsx("span",{children:"Practice Again"})]}),s.jsxs("button",{type:"button",onClick:$,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-primary hover:bg-primary-hover text-white font-semibold rounded-lg transition-all shadow-md",children:[s.jsx("span",{children:"Next Question"}),s.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})]})]})})():m!=null&&m.error?s.jsx(fn,{title:"Something went wrong",message:m.error}):s.jsx("div",{"data-tour":"guidance",className:"w-full bg-white dark:bg-surface-dark rounded-xl border border-slate-200 dark:border-slate-800 p-6 md:p-8 shadow-sm opacity-60",children:s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-primary",children:s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"school"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-bold text-text-main dark:text-white",children:"Guidance"}),s.jsx("p",{className:"text-text-secondary dark:text-gray-400 text-sm mt-1",children:"Submit an answer to see detailed feedback."})]})]})}),s.jsx("div",{className:"w-full max-w-lg mx-auto mt-6",children:s.jsx(kv,{})}),!_e&&s.jsxs("div",{"data-tour":"free-banner",className:"w-full max-w-lg mx-auto mt-2 p-4 bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-200 dark:border-slate-800 flex gap-4 items-start",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 mt-0.5",children:"info"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-text-secondary dark:text-slate-400 leading-relaxed",children:C.used>=C.limit?s.jsxs(s.Fragment,{children:["You've used all ",s.jsx("span",{className:"font-medium text-text-main dark:text-slate-200",children:C.limit===1/0?"":C.limit})," free practice questions for today. You can continue tomorrow or upgrade for unlimited practice."]}):s.jsxs(s.Fragment,{children:["You've used ",s.jsxs("span",{className:"font-medium text-text-main dark:text-slate-200",children:[Math.min(C.used,C.limit)," of ",C.limit===1/0?"":C.limit]})," free practice questions for today. You can continue tomorrow or upgrade for unlimited practice."]})}),s.jsx("a",{className:"inline-block mt-2 text-sm font-semibold text-primary hover:underline",href:"#",onClick:_=>{_.preventDefault(),e("/pricing")},children:"View upgrade options"})]})]})]}),s.jsx("footer",{className:"py-6 text-center",children:s.jsxs("p",{className:"text-slate-400 dark:text-slate-600 text-sm flex items-center justify-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-lg",children:"lock"}),"Practice is private. You're here to learn, not perform."]})})]}),ge&&s.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-lg px-4 py-3 shadow-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400",children:"notifications"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200",children:"Notifications coming soon"})}),s.jsx("button",{onClick:()=>ie(!1),className:"ml-auto text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:""})]})}),z&&s.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-50 bg-blue-600 text-white px-4 py-2 rounded-full shadow-lg text-sm font-medium animate-in fade-in slide-in-from-bottom-4",children:"Using browser voice fallback."}),D&&s.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-[100] bg-rose-50 dark:bg-rose-900/30 border border-rose-200 dark:border-rose-800 rounded-lg px-4 py-3 shadow-lg animate-in fade-in slide-in-from-top-5 duration-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-rose-600 dark:text-rose-400",children:"volume_off"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-rose-900 dark:text-rose-200",children:"Audio unavailable right now"})}),s.jsx("button",{onClick:()=>Z(!1),className:"ml-auto text-rose-600 dark:text-rose-400 hover:text-rose-800 dark:hover:text-rose-200",children:""})]})}),ae&&s.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-[100] bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg px-4 py-3 shadow-lg animate-in fade-in slide-in-from-top-5 duration-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400",children:"check_circle"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-green-900 dark:text-green-200",children:"Thanks  saved."}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-0.5",children:t?"Saved to your account":"Saved on this device"})]})]})})]})}function pw(){const e=De();return s.jsx("div",{style:{minHeight:"100vh",display:"grid",placeItems:"center",padding:24},children:s.jsxs("div",{style:{maxWidth:520,width:"100%",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:42,marginBottom:12},children:""}),s.jsx("h1",{style:{fontSize:24,fontWeight:700,marginBottom:8},children:"Create a free account to start your mock interview"}),s.jsx("p",{style:{opacity:.8,marginBottom:24},children:"Mock interviews are available after signup. It only takes a moment."}),s.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center",flexWrap:"wrap"},children:[s.jsx("button",{onClick:()=>e("/signup"),style:{padding:"12px 18px",borderRadius:10,border:"none",cursor:"pointer",fontWeight:600},children:"Create Free Account"}),s.jsx("button",{onClick:()=>e("/signin"),style:{padding:"12px 18px",borderRadius:10,border:"1px solid rgba(0,0,0,0.15)",background:"transparent",cursor:"pointer",fontWeight:600},children:"Sign In"})]}),s.jsx("div",{style:{marginTop:18,fontSize:13,opacity:.7},children:"Free users get 1 mock interview. Upgrade anytime for unlimited."})]})})}function pI(){const e=De(),[t]=Xy(),{isPro:r}=ps(),[n,a]=p.useState(!1),[i,o]=p.useState(!1),[l,c]=p.useState(null),[d,u]=p.useState(!0);p.useEffect(()=>{t.get("type")==="long"&&(alert("Long interview coming soon."),e("/mock-interview",{replace:!0}))},[t,e]),p.useEffect(()=>{(async()=>{var m;try{const g="https://jobspeak-backend-production.up.railway.app",{data:y}=await Le.auth.getSession(),w=(m=y==null?void 0:y.session)==null?void 0:m.access_token,b=await fetch(`${g}/api/mock-interview/limit-status`,{method:"GET",credentials:"include",headers:w?{Authorization:`Bearer ${w}`}:void 0});if(b.ok){const x=await b.json();c(x)}}catch(g){console.error("[MOCK] Limit check failed:",g)}finally{u(!1)}})()},[]);const h=()=>{if(l){if(!l.canStartMock){alert("Your free mock interview is complete. Upgrade for unlimited practice."),e("/pricing");return}e("/mock-interview/session?type=short")}};return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen flex flex-col",children:[s.jsx(Ue,{}),!d&&(l!=null&&l.isGuest)?s.jsx(pw,{}):s.jsxs("main",{className:"flex-1 w-full max-w-[960px] mx-auto px-4 sm:px-6 lg:px-8 py-12 flex flex-col gap-12",children:[s.jsxs("div",{className:"text-center flex flex-col items-center gap-4",children:[s.jsx("div",{className:"size-16 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"video_call"})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 dark:text-white tracking-tight",children:"Mock Interview"}),s.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl",children:"Simulate a real interview and receive an overall hiring recommendation."})]}),s.jsx("div",{className:"max-w-md mx-auto w-full",children:s.jsx("div",{className:"bg-white dark:bg-[#1A222C] rounded-xl border-t-4 border-t-blue-500 border border-slate-200 dark:border-slate-800 shadow-lg overflow-hidden flex flex-col",children:s.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-bold uppercase tracking-wider rounded-full",children:"Quick Check"})}),s.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"timer"}),"Short Mock Interview"]}),s.jsxs("div",{className:"space-y-4 mb-6 flex-1",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 mt-0.5",children:"schedule"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:"~810 minutes"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Estimated duration"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 mt-0.5",children:"format_list_bulleted"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:"5 questions"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Core behavioral & Role-specific fundamentals"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 mt-0.5",children:"verified"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:"Readiness Check"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Best for first-time users"})]})]})]}),l!=null&&l.canStartMock&&!(l!=null&&l.isGuest)?s.jsx("button",{onClick:h,disabled:n||d,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-primary hover:bg-blue-700 text-white font-bold rounded-lg transition-colors shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:n||d?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin material-symbols-outlined",children:"progress_activity"}),"Checking..."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Start Short Mock Interview"}),s.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})}):s.jsxs("button",{onClick:()=>e(l!=null&&l.isGuest?"/signup":"/pricing"),disabled:d,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg transition-colors shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"material-symbols-outlined",children:"workspace_premium"}),s.jsx("span",{children:d?"Checking...":l!=null&&l.isGuest?"Create Free Account to Start":"Upgrade for Unlimited Mocks"})]}),s.jsx("p",{className:"text-xs text-center text-slate-500 dark:text-slate-400 mt-3",children:d?"Checking eligibility...":l!=null&&l.isGuest?"Sign up to get 1 free mock interview":l!=null&&l.canStartMock?"Includes one complimentary mock interview.":"Free trial used. Upgrade for unlimited practice."})]})})})]}),i&&s.jsx(Nv,{onClose:()=>o(!1),source:"mock_interview"})]})}const xI="/assets/SarahJ-W9OLmy4F.png";function gI(){const[e]=Xy(),t=De(),{user:r}=Rt(),n=e.get("type")||"short",[a,i]=p.useState({loading:!0,canStartMock:!1,reason:null,isGuest:!1});p.useEffect(()=>{n==="long"&&(alert("Long interview coming soon."),t("/mock-interview/session?type=short",{replace:!0}))},[n,t]),p.useEffect(()=>{let R=!1;return(async()=>{var Y;try{const me="https://jobspeak-backend-production.up.railway.app",{data:ye}=await Le.auth.getSession(),it=(Y=ye==null?void 0:ye.session)==null?void 0:Y.access_token,Jt=await fetch(`${me}/api/mock-interview/limit-status`,{method:"GET",credentials:"include",headers:it?{Authorization:`Bearer ${it}`}:void 0}),Ke=await Jt.json().catch(()=>({}));R||(Jt.ok?i({loading:!1,...Ke}):i({loading:!1,canStartMock:!1,reason:"ERROR"}))}catch{R||i({loading:!1,canStartMock:!1,reason:"ERROR"})}})(),()=>{R=!0}},[]);const[o,l]=p.useState(0),[c,d]=p.useState(""),[u,h]=p.useState(!1),[f,m]=p.useState(0),[g,y]=p.useState(null),[w,b]=p.useState(""),[x,v]=p.useState("voice"),[j,N]=p.useState(n==="short"?600:1500),k=p.useRef(null),E=p.useRef(null),S=p.useRef(null),L=p.useRef([]),C=p.useRef(null),W=p.useRef(new Audio),[_e,ue]=p.useState(()=>{const R=localStorage.getItem("mock_question_speed");return R?Number(R):1}),[Ee,je]=p.useState([]),[xe,Re]=p.useState(!0),[U,G]=p.useState(null),[$,O]=p.useState(null),[T,q]=p.useState(!1),[H,he]=p.useState(!1),[ee,ne]=p.useState(!1),Oe=p.useRef(null),ge=p.useRef(new Set),ie=(R,Y)=>{d(R),y(Y),b(R)},bt=Ee.length,I=n==="short"?"SHORT SESSION":"LONG SESSION",D=Ee[o];p.useEffect(()=>{if(a.loading||(!a.canStartMock&&a.reason,!a.canStartMock&&!a.isGuest))return;(async()=>{Re(!0),G(null);try{const me=await fetch(`https://jobspeak-backend-production.up.railway.app/api/mock-interview/questions?type=${n}`);if(!me.ok)throw new Error(`Failed to fetch questions (${me.status})`);const ye=await me.json();if(!ye.questions||!Array.isArray(ye.questions)||ye.questions.length===0)throw new Error("No questions returned from API");je(ye.questions),typeof window<"u"&&typeof window.gtag=="function"&&window.gtag("event","mock_interview_start");const it=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;sessionStorage.setItem("jsp_mock_session_id",it),localStorage.removeItem("jsp_mock_session_id"),O(it),Oe.current=it,console.log(`[MOCK] Loaded ${ye.questions.length} ${n} questions, sessionId: ${it}`),fw("mock_interview")||(hw({activityType:"mock_interview",context:{type:n||"unknown",source:"MockInterviewSession",questionCount:n==="long"?5:2,tabId:Rc()}}),mw("mock_interview"))}catch(Y){console.error("[MOCK] Question fetch failed:",Y),G(Y.message)}finally{Re(!1)}})()},[n,a.loading,a.canStartMock,a.reason,a.isGuest]),p.useEffect(()=>(k.current=setInterval(()=>{N(R=>R<=0?(clearInterval(k.current),0):R-1)},1e3),()=>clearInterval(k.current)),[]),p.useEffect(()=>(u?E.current=setInterval(()=>{m(R=>R+1)},1e3):clearInterval(E.current),()=>clearInterval(E.current)),[u]),p.useEffect(()=>{j===0&&(console.log("[MOCK] Timer hit 0, checking for answer"),u&&X(),(x==="type"&&w.trim()||x==="voice"&&g)&&at())},[j]),p.useEffect(()=>{j===0&&Ee.length>0&&$&&(console.log("[MOCK] Overall interview timer expired, finalizing"),(async()=>{(x==="type"&&w.trim()||x==="voice"&&g)&&(console.log("[MOCK] Auto-submitting current answer before finalize"),u&&X(),await be());const me=$||sessionStorage.getItem("jsp_mock_session_id")||localStorage.getItem("jsp_mock_session_id");console.log(`[MOCK] Overall timer expired. Navigating to summary: /mock-interview/summary/${me}`),t(`/mock-interview/summary/${me}`)})())},[j,Ee.length,$,x,w,g,u]);const Z=R=>{const Y=Math.floor(R/60),me=R%60;return`${String(Y).padStart(2,"0")}:${String(me).padStart(2,"0")} `},z=async()=>{try{const R=await navigator.mediaDevices.getUserMedia({audio:!0});C.current=R;const Y=new MediaRecorder(R);S.current=Y,L.current=[],Y.ondataavailable=me=>{me.data.size>0&&L.current.push(me.data)},Y.onstop=()=>{const me=new Blob(L.current,{type:"audio/webm"});y(me),C.current&&C.current.getTracks().forEach(ye=>ye.stop())},Y.start(),h(!0)}catch(R){console.error("[MOCK] Mic access failed:",R),alert("Microphone access denied. Please enable microphone permissions.")}},X=()=>{S.current&&S.current.state!=="inactive"&&(S.current.stop(),h(!1))},B=()=>{ee||(u&&X(),m(0),y(null),b(""),d(""),z())},be=async()=>{var me;if(!(x==="type"&&w.trim())&&!(x==="voice"&&g))return!1;console.log("SUBMIT PAYLOAD",{sessionId:Oe.current||$||sessionStorage.getItem("jsp_mock_session_id"),questionId:D.id||`q${o+1}`,type:n,hasAudio:!!g,hasTranscript:!!w}),q(!0);try{let ye;const it=Oe.current||$||sessionStorage.getItem("jsp_mock_session_id");if(!it)return console.error("[MOCK] CRITICAL: Missing sessionId during submit. Aborting."),alert("Session Error: Could not verify session ID. Please restart the interview."),q(!1),!1;const Jt=`${it}_${D.id||`q${o+1}`}`;if(ge.current.has(Jt))return console.log("[MOCK] Question already submitted, skipping duplicate submission"),q(!1),!0;const{data:Ke}=await Le.auth.getSession(),re=(me=Ke==null?void 0:Ke.session)==null?void 0:me.access_token;if(x==="type"){const ke={sessionId:it,questionId:D.id||`q${o+1}`,questionText:D.text,answer:w,type:n};console.log("[MOCK] Sending JSON payload:",ke),ye=await fetch("https://jobspeak-backend-production.up.railway.app/api/mock-interview/answer",{method:"POST",headers:{"Content-Type":"application/json",...re?{Authorization:`Bearer ${re}`}:{}},body:JSON.stringify(ke),credentials:"include"})}else{const ke=w||c||"";if(!ke.trim())return console.error("[MOCK] Voice submission blocked: no transcript available"),alert("Please wait for transcription to complete before submitting."),q(!1),!1;const ot=new FormData;ot.append("session_id",it),ot.append("question_id",D.id||`q${o+1}`),ot.append("questionText",D.text),ot.append("type",n),ot.append("answer_text",ke),ot.append("audioFile",g,"answer.webm"),console.log("[MOCK] Sending audio via FormData with transcript:",ke.substring(0,50)+"..."),ye=await fetch("https://jobspeak-backend-production.up.railway.app/api/mock-interview/answer",{method:"POST",headers:{...re?{Authorization:`Bearer ${re}`}:{}},body:ot,credentials:"include"})}if(!ye.ok){const ke=await ye.text();if(console.error("[MOCK] Backend error response:",ke),ke.includes("AUTH_REQUIRED")||ye.status===401)return alert("Please sign in to submit your answers."),t("/signin"),!1;if(ke.includes("FREE_LIMIT_REACHED")||ke.includes("Upgrade"))return alert("Your free mock interview is complete. Upgrade to continue."),t("/pricing"),!1;throw new Error(`Submission failed: ${ye.status} - ${ke}`)}const br=await ye.json();return console.log("[MOCK] Answer submitted successfully:",br),br.status==="FREE_LIMIT_REACHED"?(console.log("[MOCK] Free limit reached, redirecting to pricing"),alert("Your free mock interview is complete. Upgrade to continue practicing."),t("/pricing"),!1):(ge.current.add(Jt),!0)}catch(ye){return console.error("[MOCK] Answer submission failed:",ye),alert("Failed to submit answer. Please try again."),!1}finally{q(!1)}},at=async()=>{const R=x==="type"&&w.trim(),Y=x==="voice"&&g;if(!R&&!Y){alert("Please record or type your answer before submitting.");return}u&&X(),console.log("[MOCK] Submitting answer to backend:",{sessionId:$,inputMode:x,hasTypedAnswer:R,hasAudioAnswer:Y}),await be()&&(o<bt-1?(l(ye=>ye+1),m(0),y(null),b(""),v("voice")):(console.log(`[MOCK] Session Complete. Navigating to summary: /mock-interview/summary/${$}`),t(`/mock-interview/summary/${$}`)))},A=async()=>{if(D!=null&&D.text)try{const Y=await fetch("https://jobspeak-backend-production.up.railway.app/voice/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:D.text,voice:"alloy"})});if(Y.ok){const me=await Y.blob(),ye=URL.createObjectURL(me);W.current.src=ye,W.current.playbackRate=_e,W.current.play()}}catch(R){console.error("[MOCK] TTS failed:",R)}};if(p.useEffect(()=>(D&&A(),()=>{try{W.current&&(W.current.pause(),W.current.src="",W.current.load())}catch(R){console.warn("[MOCK] Audio cleanup warning:",R)}}),[o,D]),p.useEffect(()=>()=>{try{k.current&&clearInterval(k.current),E.current&&clearInterval(E.current),S.current&&S.current.state!=="inactive"&&S.current.stop(),C.current&&C.current.getTracks().forEach(R=>R.stop()),W.current&&(W.current.pause(),W.current.src="")}catch(R){console.warn("[MOCK] Component cleanup warning:",R)}},[]),a.loading)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"material-symbols-outlined animate-spin text-4xl text-primary mb-4",children:"progress_activity"}),s.jsx("p",{className:"text-slate-600 font-medium",children:"Checking eligibility..."})]})});if(a.reason==="AUTH_REQUIRED"||a.isGuest)return s.jsx(pw,{});if(a.canStartMock===!1)return s.jsx(wi,{to:"/pricing",replace:!0});const ae=(o+1)/bt*100;return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-1 w-full max-w-[1024px] mx-auto px-4 sm:px-6 lg:px-8 py-6 flex flex-col gap-6",children:[xe&&s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary mb-4"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading interview questions..."})]})}),U&&!xe&&s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-[#1A222C] rounded-xl border border-red-200 dark:border-red-900/30 p-8 text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-red-500 text-5xl mb-4",children:"error"}),s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Unable to Load Questions"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:U}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-primary hover:bg-blue-700 text-white font-bold rounded-lg transition-colors",children:"Retry"})]})}),!xe&&!U&&Ee.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-4 items-start md:items-center justify-between bg-white dark:bg-[#1A222C] p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-start",children:[s.jsxs("div",{className:"flex items-center gap-2 px-2.5 py-1 bg-primary/10 rounded-lg shrink-0",children:[s.jsx("span",{className:"material-symbols-outlined text-primary text-[18px]",children:"bolt"}),s.jsx("span",{className:"text-primary text-xs font-bold uppercase tracking-wide",children:I})]}),s.jsx("div",{className:"hidden md:block h-6 w-px bg-slate-200 dark:bg-slate-700"}),s.jsxs("div",{className:"flex flex-col gap-1 w-full max-w-[200px]",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs font-medium text-slate-600 dark:text-slate-400 gap-3",children:[s.jsxs("span",{children:["Question ",o+1," of ",bt]}),s.jsx("span",{className:"text-slate-500 dark:text-slate-500",children:""}),s.jsxs("span",{children:[Math.round(ae),"%"]})]}),s.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${ae}% `}})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-end border-t md:border-t-0 border-slate-100 dark:border-slate-800 pt-3 md:pt-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-600 dark:text-slate-400",children:"timer"}),s.jsxs("span",{className:"font-mono font-medium text-slate-900 dark:text-white",children:[Z(j)," remaining"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400 rounded-lg border border-amber-100 dark:border-amber-900/30",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"warning"}),s.jsx("span",{className:"text-xs font-semibold uppercase",children:"Evaluation Mode"})]})]})]}),s.jsxs("div",{className:"w-full bg-white dark:bg-[#1A222C] rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden flex flex-col md:flex-row min-h-[400px]",children:[s.jsxs("div",{className:"w-full md:w-[280px] bg-slate-50 dark:bg-[#111921] border-b md:border-b-0 md:border-r border-slate-200 dark:border-slate-800 p-6 flex flex-row md:flex-col items-center md:items-start gap-4 shrink-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:xI,alt:"Sarah Jenkins",className:"size-16 md:size-24 rounded-full border-2 border-white dark:border-slate-800 shadow-sm object-cover object-center",style:{objectPosition:"center center"},onError:R=>{R.target.onerror=null,R.target.style.display="none",R.target.nextElementSibling.style.display="flex"}}),s.jsx("div",{className:"size-16 md:size-24 rounded-full bg-slate-300 dark:bg-slate-700 border-2 border-white dark:border-slate-800 shadow-sm items-center justify-center absolute inset-0 hidden",children:s.jsx("span",{className:"material-symbols-outlined text-slate-500 text-4xl",children:"person"})}),s.jsx("div",{className:"absolute bottom-0 right-0 md:bottom-1 md:right-1 size-4 bg-green-500 border-2 border-white dark:border-[#111921] rounded-full"})]}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("h3",{className:"text-base md:text-lg font-bold text-slate-900 dark:text-white leading-tight",children:"Sarah Jenkins"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Hiring Manager"}),s.jsxs("div",{className:"mt-3 md:mt-6 flex items-center gap-2 px-2 py-1 bg-white dark:bg-[#1A222C] border border-slate-200 dark:border-slate-700 rounded text-xs text-slate-600 dark:text-slate-400",children:[s.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"lock"}),s.jsx("span",{children:"Voice: Default"})]})]})]}),s.jsxs("div",{className:"flex-1 p-6 md:p-10 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[s.jsx("span",{className:"px-2.5 py-1 rounded bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs font-bold uppercase tracking-wider",children:D.category}),s.jsxs("span",{className:"px-2.5 py-1 rounded bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:["Difficulty: ",D.difficulty]})]}),s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white leading-tight md:leading-snug",children:['"',D.text,'"']}),s.jsxs("div",{className:"mt-4 flex items-center gap-3 flex-wrap",children:[s.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 text-sm font-medium transition-colors",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"volume_up"}),"Repeat Question"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Speed:"}),s.jsx("div",{className:"flex gap-1",children:[.75,1,1.25].map(R=>s.jsxs("button",{onClick:()=>{ue(R),localStorage.setItem("mock_question_speed",String(R))},className:`px-2.5 py-1 rounded text-xs font-medium transition-colors ${_e===R?"bg-primary text-white":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[R,""]},R))})]})]})]}),s.jsxs("div",{className:"mt-8 p-4 bg-blue-50/50 dark:bg-blue-900/10 rounded-lg border border-blue-100 dark:border-blue-900/30 flex gap-3 items-start",children:[s.jsx("span",{className:"material-symbols-outlined text-primary mt-0.5",children:"lightbulb"}),s.jsxs("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:[s.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"Hint:"})," ",D.hint]})]})]})]}),s.jsxs("div",{className:"w-full bg-white dark:bg-[#1A222C] rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 flex flex-col items-center gap-6",children:[x==="voice"?s.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[s.jsx(fo,{onTranscript:ie,onStateChange:({recording:R,transcribing:Y})=>{h(R),ne(Y)},renderButton:({startRecording:R,stopRecording:Y,recording:me,transcribing:ye})=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-4xl md:text-5xl font-mono font-bold text-slate-900 dark:text-white tabular-nums tracking-tight",children:Z(f)}),me&&s.jsxs("span",{className:"text-xs font-medium text-red-500 flex items-center gap-1 animate-pulse",children:[s.jsx("span",{className:"size-2 rounded-full bg-red-500"})," Recording"]}),ye&&s.jsxs("span",{className:"text-xs font-medium text-primary flex items-center gap-1",children:[s.jsx("div",{className:"size-3 border-2 border-primary/30 border-t-primary rounded-full animate-spin"}),"Transcribing..."]}),s.jsxs("div",{className:"relative group",children:[s.jsx("button",{onClick:me?Y:R,disabled:ye,className:`relative z-10 size-20 md:size-24 ${me?"bg-red-500 hover:bg-red-600":"bg-primary hover:bg-blue-700"} active:scale-95 transition-all rounded-full flex items-center justify-center shadow-lg hover:shadow-xl cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed`,children:s.jsx("span",{className:"material-symbols-outlined text-white text-[40px] md:text-[48px]",children:me?"stop":"mic"})}),me&&s.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500 opacity-20 animate-ping"})]})]})}),(w||ee)&&s.jsxs("div",{className:"w-full max-w-2xl mt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Your Answer"}),ee&&s.jsxs("span",{className:"text-xs text-primary flex items-center gap-1",children:[s.jsx("div",{className:"size-3 border-2 border-primary/30 border-t-primary rounded-full animate-spin"}),"Transcribing..."]})]}),s.jsx("div",{className:"w-full p-4 min-h-[100px] border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-800/50 text-slate-900 dark:text-white text-sm leading-relaxed",children:w||s.jsx("span",{className:"text-slate-400 italic",children:"Your transcribed text will appear here..."})})]}),(g||w)&&s.jsxs("button",{onClick:B,disabled:ee,className:"text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-primary dark:hover:text-primary flex items-center gap-1 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"refresh"}),"Re-record"]}),s.jsx("button",{onClick:()=>v("type"),className:"text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-primary dark:hover:text-primary underline decoration-dotted underline-offset-4 transition-colors",children:"Type answer instead"})]}):s.jsxs("div",{className:"w-full flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Type Your Answer"}),s.jsxs("button",{onClick:()=>v("voice"),className:"text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-primary dark:hover:text-primary flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"mic"}),"Switch to voice"]})]}),s.jsx("textarea",{value:w,onChange:R=>{b(R.target.value),he(!0)},placeholder:"Type your answer here...",className:"w-full min-h-[200px] p-4 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary focus:border-transparent outline-none resize-y",autoFocus:!0})]}),s.jsx("div",{className:"w-full flex justify-center gap-4 mt-4 pt-6 border-t border-slate-100 dark:border-slate-800",children:s.jsx("button",{onClick:at,disabled:!w.trim()&&!g||T||ee,className:"w-full md:w-auto px-6 py-2.5 rounded-lg text-sm font-bold text-white bg-primary hover:bg-blue-700 transition-colors shadow-sm hover:shadow flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:T?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"size-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:["Submit Answer",s.jsx("span",{className:"material-symbols-outlined text-[18px] group-hover:translate-x-0.5 transition-transform",children:"arrow_forward"})]})})})]})]})]})]})}const bI=({onClose:e})=>s.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-[100] bg-rose-50 dark:bg-rose-900/30 border border-rose-200 dark:border-rose-800 rounded-lg px-4 py-3 shadow-lg animate-in fade-in slide-in-from-top-5 duration-200 pointer-events-auto",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-rose-600 dark:text-rose-400",children:"volume_off"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-rose-900 dark:text-rose-200",children:"Audio unavailable right now"})}),s.jsx("button",{onClick:e,className:"ml-auto text-rose-600 dark:text-rose-400 hover:text-rose-800 dark:hover:text-rose-200",children:""})]})});function yI({text:e,voiceId:t,playbackRate:r,label:n}){const a=p.useRef(new Audio),i=p.useRef(null),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState(!1);p.useEffect(()=>()=>{const y=a.current;y.pause(),y.currentTime=0,i.current&&(URL.revokeObjectURL(i.current),i.current=null)},[]),p.useEffect(()=>{a.current&&(a.current.playbackRate=r||1)},[r]),p.useEffect(()=>{if(u){const y=setTimeout(()=>h(!1),4e3);return()=>clearTimeout(y)}},[u]),p.useEffect(()=>{if(f){const y=setTimeout(()=>m(!1),3e3);return()=>clearTimeout(y)}},[f]);const g=async()=>{const y=a.current,w=e||"This is a test of the selected voice and speed.",b=r||1;if(c){y.pause(),y.currentTime=0,d(!1);return}h(!1),m(!1),l(!0),y.pause(),y.currentTime=0,i.current&&(URL.revokeObjectURL(i.current),i.current=null);try{const{url:x,error:v}=await ch({text:w,voiceId:t,speed:b});if(v||!x){console.error("[TTSSampleButton] TTS request failed:",v),l(!1),Rd(w,t,b)?m(!0):h(!0);return}i.current=x,y.src=x,y.playbackRate=b,y.onended=()=>{d(!1),i.current&&(URL.revokeObjectURL(i.current),i.current=null)},y.onerror=j=>{console.error("[TTSSampleButton] Audio playback error:",j),d(!1),l(!1),Rd(w,t,b)?m(!0):h(!0)},await y.play(),d(!0)}catch(x){console.error("[TTSSampleButton] Error:",x),l(!1),Rd(w,t,b)?m(!0):h(!0)}finally{l(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:g,disabled:o,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-surface-main dark:bg-surface-dark border border-slate-200 dark:border-slate-700 hover:border-primary/50 transition-colors group",children:[o?s.jsx("span",{className:"material-symbols-outlined text-[18px] animate-spin text-primary",children:"progress_activity"}):c?s.jsx("span",{className:"material-symbols-outlined text-[18px] text-primary animate-pulse",children:"volume_up"}):s.jsx("span",{className:"material-symbols-outlined text-[18px] text-slate-400 group-hover:text-primary",children:"play_arrow"}),s.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300 group-hover:text-primary",children:n||"Sample"})]}),u&&s.jsx(bI,{onClose:()=>h(!1)}),f&&s.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-[9999] bg-blue-600 text-white px-4 py-2 rounded-full shadow-lg text-sm font-medium animate-in fade-in slide-in-from-bottom-4 pointer-events-none",children:"Using browser voice fallback."})]})}function vI({text:e,label:t,voiceId:r,playbackRate:n,onPlay:a,isCurrentlyPlaying:i,onError:o}){const l=p.useRef(new Audio),c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),[h,f]=p.useState("IDLE"),[m,g]=p.useState(null);p.useEffect(()=>{!i&&h==="PLAYING"&&(l.current.pause(),f("IDLE"))},[i,h]),p.useEffect(()=>{const x=l.current,v=()=>{f("IDLE"),a(null)},j=N=>{console.error("Audio playback error:",N),f("ERROR"),a(null)};return x.addEventListener("ended",v),x.addEventListener("error",j),()=>{x.removeEventListener("ended",v),x.removeEventListener("error",j),x.pause(),d.current&&d.current.abort(),u.current&&clearTimeout(u.current),c.current&&URL.revokeObjectURL(c.current)}},[]),p.useEffect(()=>{l.current&&(l.current.playbackRate=n)},[n]);const[y,w]=p.useState({mode:"server",message:""});p.useEffect(()=>{!i&&h!=="PLAYING"&&w({mode:"server",message:""})},[i,h]);const b=async()=>{if(h==="PLAYING"){l.current.pause(),f("IDLE"),window.speechSynthesis.cancel(),a(null);return}if(h==="LOADING"){f("IDLE"),w({mode:"server",message:""});return}a(e),f("LOADING"),w({mode:"server",message:"Generating voice..."}),If();const x=await Ni({text:e,voiceId:r,speed:n});if(x.ok&&(x.audioBase64||x.audioUrl))try{const v=x.audioUrl||`data:audio/mp3;base64,${x.audioBase64}`;l.current.src=v,l.current.playbackRate=n,await l.current.play(),f("PLAYING"),w({mode:"server",message:""});return}catch(v){console.warn("Server playback failed, falling back",v)}else console.warn("Server TTS failed",x.error);w({mode:"browser",message:"Using browser voice"}),f("PLAYING"),await ra({text:e,rate:n}),f("IDLE"),w({mode:"server",message:""}),a(null)};return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:b,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${h==="ERROR"?"bg-red-100 text-red-600 hover:bg-red-200":"bg-primary hover:bg-blue-700 text-white"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:h==="LOADING"?"hourglass_empty":h==="PLAYING"?"pause":"play_arrow"}),h==="LOADING"?"Loading...":h==="PLAYING"?"Pause":t||"Play"]}),(y==null?void 0:y.mode)==="browser"&&(y==null?void 0:y.message)&&h==="PLAYING"&&s.jsx("div",{className:"text-xs text-slate-500 mt-1 opacity-80",children:y.message})]})}function wI({word:e,ipa:t,definition:r,example:n,pos:a,voiceId:i,onPlay:o,isCurrentlyPlaying:l,onError:c,onFallback:d}){const u=p.useRef(new Audio),[h,f]=p.useState(!1);p.useEffect(()=>{const g=u.current,y=()=>o(null);return g.addEventListener("ended",y),()=>{g.removeEventListener("ended",y),g.pause()}},[o]),p.useEffect(()=>{!l&&u.current&&u.current.pause()},[l]);const m=async()=>{if(l){u.current.pause(),o(null);return}if(h){f(!1);return}o(e),f(!0),If();try{const g=await Ni({text:e,voiceId:i,speed:1});if(g.ok&&(g.audioBase64||g.audioUrl))try{const y=g.audioUrl||`data:audio/mp3;base64,${g.audioBase64}`;u.current.src=y,await u.current.play(),f(!1);return}catch(y){console.error("[VOCAB] Audio play() failed:",y)}else console.warn("[VOCAB] Server TTS failed:",g.error)}catch(g){console.error("[VOCAB] Server TTS error:",g)}try{await ra({text:e,rate:1}),d&&d()}catch(g){console.error("[VOCAB] Browser TTS failed:",g),c&&c(g)}f(!1),o(null)};return s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[s.jsx("button",{onClick:m,className:"mt-1 flex-shrink-0 size-8 flex items-center justify-center bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 rounded-full transition-colors",title:"Play US pronunciation",children:s.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400 text-[18px]",children:h?"hourglass_empty":"volume_up"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-baseline gap-2 flex-wrap",children:[s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:e}),t&&s.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:t}),s.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded font-medium",children:"US"}),a&&s.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:["(",a,")"]})]}),r&&s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[s.jsx("span",{className:"font-semibold",children:"Definition:"})," ",r]}),n&&s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1 italic",children:['"',n,'"']})]})]})}function jI({text:e,wordsToUnderline:t}){if(!e||!t||t.length===0)return s.jsx("span",{children:e});const r=new Set,n=t.map(c=>`(${c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})(?=[\\s,;:.!?'"]|$)`).join("|"),a=new RegExp(n,"gi"),i=[];let o=0,l;for(;(l=a.exec(e))!==null;)r.add(l[0].toLowerCase().replace(/[^a-z]/g,"")),l.index>o&&i.push(s.jsx("span",{children:e.substring(o,l.index)},`text-${o}`)),i.push(s.jsx("span",{className:"underline decoration-2 decoration-primary font-semibold",children:l[0]},`underline-${l.index}`)),o=a.lastIndex;return o<e.length&&i.push(s.jsx("span",{children:e.substring(o)},`text-${o}`)),s.jsx(s.Fragment,{children:i})}function kI(){var je,xe,Re,U,G,$,O;const{id:e}=Vy(),t=De(),{user:r}=Rt(),[n,a]=p.useState(null),[i,o]=p.useState(!0),[l,c]=p.useState(null),[d,u]=p.useState(!0),[h,f]=p.useState("us_female_emma"),[m,g]=p.useState(1),[y,w]=p.useState(null),[b,x]=p.useState(!1),[v,j]=p.useState(!1);p.useEffect(()=>{if(b){const T=setTimeout(()=>x(!1),4e3);return()=>clearTimeout(T)}},[b]),p.useEffect(()=>{if(v){const T=setTimeout(()=>j(!1),3e3);return()=>clearTimeout(T)}},[v]);const N=[{id:"us_female_emma",label:"Emma (US Female)"},{id:"us_female_ava",label:"Ava (US Female)"},{id:"us_male_jake",label:"Jake (US Male)"},{id:"uk_female_amelia",label:"Amelia (UK Female)"},{id:"uk_male_oliver",label:"Oliver (UK Male)"},{id:"uk_male_harry",label:"Harry (UK Male)"}],k=async()=>{if(e){o(!0);try{const q=`/api/mock-interview/summary?sessionId=${encodeURIComponent(e)}&t=${Date.now()}`;console.log("[SUMMARY] Fetching from:",q);const H=await fetch(q,{method:"GET",credentials:"include",cache:"no-store"});if(!H.ok){const ge=await H.text().catch(()=>"");throw new Error(`Summary fetch failed ${H.status}: ${ge.slice(0,200)}`)}const he=await H.json();if(console.log("[SUMMARY] Raw API Response:",he),!he)throw new Error("No data returned");const ee=uP(he);console.log("[SUMMARY] Normalized Data:",ee);const ne=new Set,Oe=[{word:"leverage",ipa:"/lev.r.d/",pos:"verb",definition:"Use something to maximum advantage",example:"We can leverage our expertise to win this contract."},{word:"synergy",ipa:"/sn.r.di/",pos:"noun",definition:"Combined power greater than individual parts",example:"The synergy between our teams produced excellent results."},{word:"optimize",ipa:"/p.t.maz/",pos:"verb",definition:"Make as effective as possible",example:"We need to optimize our workflow for efficiency."},{word:"facilitate",ipa:"/fsl..tet/",pos:"verb",definition:"Make an action easier",example:"This tool will facilitate better communication."},{word:"implement",ipa:"/m.pl.ment/",pos:"verb",definition:"Put a plan into action",example:"We will implement the new strategy next quarter."},{word:"strategic",ipa:"/strti.dk/",pos:"adjective",definition:"Relating to long-term planning",example:"We made a strategic decision to expand."},{word:"initiative",ipa:"/n..tv/",pos:"noun",definition:"A new plan or action",example:"The team launched a new initiative to improve sales."},{word:"collaborate",ipa:"/klb..ret/",pos:"verb",definition:"Work jointly with others",example:"We collaborate with partners across the industry."}];ee.perQuestion=ee.perQuestion.map(ge=>{var I,D,Z;(I=ge.strongerExample)!=null&&I.text&&(ge.strongerExample.text=ge.strongerExample.text.replace(/<\/?u>/g,""));let ie=((D=ge.strongerExample)==null?void 0:D.vocab)||[],bt=((Z=ge.strongerExample)==null?void 0:Z.underlinedWords)||[];if(ie.length!==2||bt.length!==2){ie=[],bt=[];for(const z of Oe){if(ie.length>=2)break;ne.has(z.word.toLowerCase())||(ie.push({word:z.word,ipa:z.ipa,pos:z.pos,definition:z.definition,example:z.example,accent:"US",audioText:z.word}),bt.push(z.word),ne.add(z.word.toLowerCase()))}for(;ie.length<2;){const z=`term${ie.length+1}`;ie.push({word:z,ipa:"",pos:"noun",definition:"Professional terminology",example:`Example using ${z}.`,accent:"US",audioText:z}),bt.push(z)}}return ge.strongerExample||(ge.strongerExample={}),ge.strongerExample.vocab=ie,ge.strongerExample.underlinedWords=bt,ge}),ee.attemptCount>ee.totalQuestions&&console.error("[SUMMARY VALIDATION ERROR] attemptCount exceeds totalQuestions!",{sessionId:e,attemptCount:ee.attemptCount,totalQuestions:ee.totalQuestions,rawResponse:he,normalizedResponse:ee}),a(ee)}catch(T){console.error("[SUMMARY LOAD FAILED]",T),console.error("Stack trace:",T.stack),a({error:!0,message:(T==null?void 0:T.message)||"Could not load summary."})}finally{o(!1)}}};p.useEffect(()=>{k()},[e]),p.useEffect(()=>{if(!("speechSynthesis"in window))return;const T=window.speechSynthesis;T.getVoices();const q=()=>T.getVoices();return T.onvoiceschanged=q,()=>{T.onvoiceschanged=null}},[]),p.useEffect(()=>{(async()=>{var q;try{const H="",{data:he}=await Le.auth.getSession(),ee=(q=he==null?void 0:he.session)==null?void 0:q.access_token,ne=await fetch(`${H}/api/mock-interview/limit-status`,{method:"GET",credentials:"include",headers:ee?{Authorization:`Bearer ${ee}`}:void 0});if(ne.ok){const Oe=await ne.json();c(Oe)}}catch(H){console.error("[MOCK] Limit check failed:",H)}finally{u(!1)}})()},[]);const E=()=>{if(sessionStorage.removeItem("jsp_mock_session_id"),localStorage.removeItem("jsp_mock_session_id"),!!l){if(l.isGuest){t("/signup");return}l.blocked||!l.canStartMock||t("/mock-interview/session?type=short")}},S=()=>{t("/dashboard")};if(i)return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]});if(!n||n.error)return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-6 text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400 text-6xl mb-4",children:"analytics"}),s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Could not load summary. Please retry."}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:(n==null?void 0:n.message)||"We couldn't load the results for this session."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:k,className:"px-6 py-2 bg-primary hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Retry"}),s.jsx("button",{onClick:S,className:"px-6 py-2 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white rounded-lg font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Return to Dashboard"})]})]})]});const L=T=>{const q={not_recommended_yet:{title:"Not Recommended Yet",description:"Needs foundational improvement before being interview-ready",type:"default"},recommend_with_reservations:{title:"Potential, With Reservations",description:"Shows promise but needs clearer structure and outcomes",type:"recommend"},recommended:{title:"Recommended",description:"Demonstrates clear, confident, and effective interview responses",type:"strong"}};return q[T]||q.not_recommended_yet},C=T=>{switch(T){case"strong":return{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-900/30",text:"text-green-700 dark:text-green-400",icon:"thumb_up"};case"recommend":return{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-900/30",text:"text-blue-700 dark:text-blue-400",icon:"thumb_up"};default:return{bg:"bg-slate-50 dark:bg-slate-900/20",border:"border-slate-200 dark:border-slate-900/30",text:"text-slate-700 dark:text-slate-400",icon:"info"}}},W=T=>T<50?"Practice Recommended":T<75?"Nearly Ready":"Interview-Ready",_e=L(n.recommendation),ue=C(_e.type),Ee=new Set;return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-1 w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col gap-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Mock Interview Complete"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Here is your automated hiring recommendation based on your performance."})]}),s.jsxs("div",{className:`w-full ${ue.bg} border ${ue.border} rounded-xl p-6 flex flex-col md:flex-row items-center justify-between gap-4`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`size-12 rounded-full ${ue.bg} flex items-center justify-center ${ue.text}`,children:s.jsx("span",{className:"material-symbols-outlined text-[28px]",children:ue.icon})}),s.jsxs("div",{children:[s.jsx("p",{className:`text-xs font-bold ${ue.text} uppercase tracking-wide`,children:"Hiring Recommendation"}),s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:_e.title}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:_e.description})]})]}),s.jsx("div",{className:"text-right hidden md:block",children:s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:n.percentile})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm flex flex-col items-center text-center",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Overall Score"}),s.jsxs("div",{className:"text-4xl font-bold text-primary mb-1",children:[(n==null?void 0:n.overallScore)||0,s.jsx("span",{className:"text-xl text-slate-400 font-normal",children:"/100"})]}),s.jsx("div",{className:"flex gap-1 mt-2",children:[...Array(5)].map((T,q)=>s.jsx("div",{className:`h-1.5 w-8 rounded-full ${q<Math.floor(((n==null?void 0:n.overallScore)||0)/20)?"bg-primary":"bg-slate-200 dark:bg-slate-700"}`},q))}),s.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-3",children:["Interview Readiness: ",s.jsx("span",{className:"font-semibold",children:W((n==null?void 0:n.overallScore)||0)})]}),s.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:["Questions answered: ",s.jsxs("span",{className:"font-semibold",children:[(n==null?void 0:n.attemptCount)||0," out of ",(n==null?void 0:n.totalQuestions)||5]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm flex flex-col justify-between",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Strongest Area"}),s.jsx("span",{className:"material-symbols-outlined text-green-500",children:"trending_up"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:((je=n==null?void 0:n.strongestArea)==null?void 0:je.title)||((xe=n==null?void 0:n.strongestArea)==null?void 0:xe.label)||(typeof(n==null?void 0:n.strongestArea)=="string"?n.strongestArea:"N/A")}),s.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:((Re=n==null?void 0:n.strongestArea)==null?void 0:Re.description)||""})]})]}),s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm flex flex-col justify-between",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Biggest Risk"}),s.jsx("span",{className:"material-symbols-outlined text-amber-500",children:"warning"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:((U=n==null?void 0:n.biggestRisk)==null?void 0:U.title)||((G=n==null?void 0:n.biggestRisk)==null?void 0:G.label)||(typeof(n==null?void 0:n.biggestRisk)=="string"?n.biggestRisk:"N/A")}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:(($=n==null?void 0:n.biggestRisk)==null?void 0:$.description)||((O=n==null?void 0:n.biggestRisk)==null?void 0:O.detail)||"Your answers would benefit from clearer structure and more specific examples."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[s.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-green-500",children:"check_circle"}),"What you did well"]}),s.jsx("ul",{className:"space-y-3",children:Array.isArray(n==null?void 0:n.strengths)&&n.strengths.length>0?n.strengths.map((T,q)=>{const H=typeof T=="string"?T:T.title||T.label||JSON.stringify(T);return s.jsxs("li",{className:"flex gap-3 text-sm text-slate-600 dark:text-slate-400 break-words [overflow-wrap:anywhere]",children:[s.jsx("div",{className:"size-1.5 rounded-full bg-green-500 mt-2 shrink-0"}),s.jsx("span",{children:H})]},q)}):s.jsxs("li",{className:"flex gap-3 text-sm text-slate-600 dark:text-slate-400",children:[s.jsx("div",{className:"size-1.5 rounded-full bg-green-500 mt-2 shrink-0"}),s.jsx("span",{children:"You communicated your ideas clearly and stayed focused on the question, which helps interviewers quickly understand your thinking."})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[s.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-primary",children:"arrow_upward"}),"What to improve next"]}),s.jsx("ul",{className:"space-y-3",children:Array.isArray(n==null?void 0:n.improvements)&&n.improvements.length>0?n.improvements.map((T,q)=>{const H=typeof T=="string"?T:T.title||T.label||JSON.stringify(T);return s.jsxs("li",{className:"flex gap-3 text-sm text-slate-600 dark:text-slate-400 break-words [overflow-wrap:anywhere]",children:[s.jsx("div",{className:"size-1.5 rounded-full bg-primary mt-2 shrink-0"}),s.jsx("span",{children:H})]},q)}):s.jsxs("li",{className:"flex gap-3 text-sm text-slate-600 dark:text-slate-400",children:[s.jsx("div",{className:"size-1.5 rounded-full bg-primary mt-2 shrink-0"}),s.jsx("span",{children:"Focus more on outcomes. Adding specific numbers, timelines, or results will make your impact clearer and more credible to interviewers."})]})})]})]}),(n==null?void 0:n.hiringManagerHeard)&&s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm mt-6",children:[s.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"hearing"}),"What the Hiring Manager Likely Heard"]}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 break-words [overflow-wrap:anywhere]",children:n.hiringManagerHeard})]}),(n==null?void 0:n.perQuestion)&&n.perQuestion.length>0&&s.jsxs("div",{className:"mt-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Question-by-Question Breakdown"})}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-900/30 rounded-xl p-4 mb-6",children:[s.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"settings_voice"}),"Playback Settings"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Voice"}),s.jsx("select",{value:h,onChange:T=>f(T.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary",children:N.map(T=>s.jsx("option",{value:T.id,children:T.label},T.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Speed"}),s.jsx("div",{className:"flex gap-2",children:[.75,1,1.25,1.5].map(T=>s.jsxs("button",{onClick:()=>g(T),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${m===T?"bg-primary text-white":"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[T,"x"]},T))})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-900/30",children:s.jsx(yI,{text:"This is a test of the selected voice and speed. Use this to preview how the audio will sound.",voiceId:h,playbackRate:m})})]}),s.jsx("div",{className:"space-y-6",children:n.perQuestion.map((T,q)=>s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:"flex-shrink-0 size-10 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsxs("span",{className:"text-primary font-bold",children:["Q",q+1]})}),s.jsx("div",{className:"flex-1",children:s.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:T.questionText||`Question ${q+1}`})})]}),(()=>{var he,ee,ne;const H=T.yourAnswer||T.answer_text||T.answerText||"";return console.log("[ANSWER FIELD USED]",{qid:T.question_id||T.questionId||"unknown",yourAnswer:T.yourAnswer,answer_text:T.answer_text,answerText:T.answerText,strongerExample:(ne=(ee=(he=T.strongerExample)==null?void 0:he.text)==null?void 0:ee.slice)==null?void 0:ne.call(ee,0,60),finalDisplayed:H}),H.trim()?s.jsxs("div",{className:"mb-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Your Answer:"}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 italic",children:['"',H,'"']})]}):s.jsx("div",{className:"mb-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 italic",children:"(No answer recorded)"})})})(),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[T.whatWorked&&T.whatWorked.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400 mb-2 flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"check_circle"}),"What the hiring manager liked"]}),s.jsx("ul",{className:"space-y-1",children:T.whatWorked.map((H,he)=>s.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-400 flex gap-2",children:[s.jsx("span",{className:"text-green-500",children:""}),s.jsx("span",{children:H})]},he))})]}),T.improveNext&&T.improveNext.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-primary mb-2 flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"arrow_upward"}),"What to improve next"]}),s.jsx("ul",{className:"space-y-1",children:T.improveNext.map((H,he)=>s.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-400 flex gap-2",children:[s.jsx("span",{className:"text-primary",children:""}),s.jsx("span",{children:H})]},he))})]})]}),T.strongerExample&&T.strongerExample.text&&s.jsxs("div",{className:"mt-4 p-4 bg-purple-50 dark:bg-purple-900/10 border border-purple-200 dark:border-purple-900/30 rounded-lg",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("h5",{className:"font-bold text-purple-900 dark:text-purple-200 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"auto_fix_high"}),"Stronger Example Response"]})}),s.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 mb-3 leading-relaxed",children:s.jsx(jI,{text:(T.strongerExample.text||"").replace(/<\/?u>/g,""),wordsToUnderline:T.strongerExample.underlinedWords||[]})}),s.jsx(vI,{text:(T.strongerExample.text||"").replace(/<\/?u>/g,""),label:"Play Example",voiceId:h,playbackRate:m,onPlay:w,isCurrentlyPlaying:y===(T.strongerExample.text||"").replace(/<\/?u>/g,""),onError:()=>x(!0),onFallback:()=>j(!0)})]}),(()=>{var ee;const H=((ee=T.strongerExample)==null?void 0:ee.vocab)||[];if(H.length===0)return null;const he=H.filter(ne=>{if(!(ne!=null&&ne.word))return!1;const Oe=ne.word.trim().toLowerCase();return Ee.has(Oe)?!1:(Ee.add(Oe),!0)});return he.length===0?s.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-100 dark:border-slate-700 border-dashed",children:s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic text-center",children:"More vocabulary suggestions will appear as you answer more questions."})}):s.jsxs("div",{className:"mt-4",children:[s.jsxs("h5",{className:"font-bold text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"school"}),"Vocabulary to level up your answer"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:he.map((ne,Oe)=>s.jsx(wI,{word:ne.word,ipa:ne.ipa,definition:ne.definition,example:ne.example,pos:ne.pos,voiceId:h,onPlay:w,isCurrentlyPlaying:y===ne.word,onError:()=>x(!0),onFallback:()=>j(!0)},Oe))})]})})()]},q))})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-6 mb-12",children:[s.jsx("button",{onClick:S,className:"px-6 py-3 rounded-xl border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors shadow-sm w-full sm:w-auto",children:"Return to Dashboard"}),!d&&(l==null?void 0:l.blocked)&&s.jsx("div",{className:"w-full max-w-md bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:(()=>{const T=new Date,q=l!=null&&l.nextAllowedAt?new Date(l.nextAllowedAt):null;if(!q)return s.jsx("p",{className:"text-sm font-semibold text-amber-900 dark:text-amber-200",children:"Next free mock: check back later"});const H=Math.ceil((q-T)/(1e3*60*60*24)),he=q.toLocaleDateString("en-US",{weekday:"long"}),ee=q.toLocaleDateString("en-US",{month:"short"}),ne=q.getDate(),Oe=`${he}, ${ee} ${ne}`,ge=H>1?`In ${H} days`:H===1?"Tomorrow":"Available soon";return s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-amber-600 dark:text-amber-400 text-xl",children:"schedule"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm font-bold text-amber-900 dark:text-amber-200 mb-1",children:["Next free mock: ",Oe]}),s.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:ge})]})]})})()}),l!=null&&l.canStartMock&&!(l!=null&&l.blocked)&&!(l!=null&&l.isGuest)?s.jsxs("button",{onClick:E,disabled:d,className:"px-8 py-3 rounded-xl bg-primary hover:bg-blue-700 text-white font-bold shadow-md transition-all flex items-center justify-center gap-2 w-full sm:w-auto",children:[s.jsx("span",{className:"material-symbols-outlined",children:"add_circle"}),d?"Checking...":"Start New Mock Interview"]}):!(l!=null&&l.blocked)&&s.jsxs("button",{onClick:()=>t(l!=null&&l.isGuest?"/signup":"/pricing"),className:"px-8 py-3 rounded-xl bg-purple-600 hover:bg-purple-700 text-white font-bold shadow-md transition-all flex items-center justify-center gap-2 w-full sm:w-auto",children:[s.jsx("span",{className:"material-symbols-outlined",children:"workspace_premium"}),d?"Checking...":l!=null&&l.isGuest?"Create Free Account":"Upgrade to Pro"]})]}),s.jsxs("p",{className:"text-center text-xs text-slate-600 dark:text-slate-400 mt-[-1rem]",children:["Mock interviews are evaluation mode. Use ",s.jsx("button",{onClick:()=>t("/practice"),className:"text-primary hover:underline",children:"Practice Mode"})," to build skills with real-time coaching."]})]}),v&&s.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-50 bg-blue-600 text-white px-4 py-2 rounded-full shadow-lg text-sm font-medium animate-in fade-in slide-in-from-bottom-4",children:"Using browser voice fallback."}),b&&s.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-[100] bg-rose-50 dark:bg-rose-900/30 border border-rose-200 dark:border-rose-800 rounded-lg px-4 py-3 shadow-lg animate-in fade-in slide-in-from-top-5 duration-200 pointer-events-auto",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-rose-600 dark:text-rose-400",children:"volume_off"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-semibold text-rose-900 dark:text-rose-200",children:"Audio unavailable right now"})}),s.jsx("button",{onClick:()=>x(!1),className:"ml-auto text-rose-600 dark:text-rose-400 hover:text-rose-800 dark:hover:text-rose-200",children:""})]})})]})}function NI(){const{id:e}=Vy(),t=De(),{user:r}=Rt(),[n,a]=p.useState(null),[i,o]=p.useState(!0),[l,c]=p.useState(null);p.useEffect(()=>{(async()=>{if(e){o(!0);try{const x=await Te(`/api/practice/summary?sessionId=${e}`),v=_v(x);a(v)}catch(x){console.error("[PRACTICE SUMMARY] Failed to fetch summary:",x),c("Failed to load practice summary.")}finally{o(!1)}}})()},[e]);const d=()=>{t("/progress")},u=()=>{t("/practice")};if(i)return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsx("main",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]});if(l||!n)return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[s.jsx("p",{className:"text-red-500 mb-4",children:l||"Summary not found"}),s.jsx("button",{onClick:d,className:"text-primary hover:underline",children:"Return to Progress"})]})]});const h=n.score,f=Array.isArray(n.whatWorked)?n.whatWorked:[],m=Array.isArray(n.improveNext)?n.improveNext:[],g=n.improved||"",y=n.questionText||"Practice Question",w=n.transcript||"";return s.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-1 w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col gap-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:s.jsx("span",{className:"material-symbols-outlined text-slate-500",children:"arrow_back"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Practice Session Review"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(n.created_at||Date.now()).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),s.jsxs("section",{className:"bg-white dark:bg-[#1A222C] rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800",children:[s.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Question"}),s.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:y})]}),s.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900/30",children:[s.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Your Answer"}),s.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:w})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm flex flex-col items-center justify-center text-center",children:[s.jsxs("div",{className:"size-20 rounded-full border-4 border-primary/20 flex items-center justify-center mb-3 relative",children:[s.jsx("span",{className:"text-2xl font-black text-primary",children:h}),s.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:"/100"})]}),s.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:"Analysis Score"})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/10 p-5 rounded-xl border border-green-100 dark:border-green-900/30",children:[s.jsxs("h4",{className:"font-bold text-green-800 dark:text-green-400 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"thumb_up"}),"What Worked"]}),s.jsx("ul",{className:"space-y-2",children:f.map((b,x)=>s.jsxs("li",{className:"text-sm text-green-900 dark:text-green-300 flex gap-2",children:[s.jsx("span",{className:"mt-1.5 size-1.5 bg-green-500 rounded-full shrink-0"}),b]},x))})]}),s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-5 rounded-xl border border-amber-100 dark:border-amber-900/30",children:[s.jsxs("h4",{className:"font-bold text-amber-800 dark:text-amber-400 mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"lightbulb"}),"To Improve"]}),s.jsx("ul",{className:"space-y-2",children:m.map((b,x)=>s.jsxs("li",{className:"text-sm text-amber-900 dark:text-amber-300 flex gap-2",children:[s.jsx("span",{className:"mt-1.5 size-1.5 bg-amber-500 rounded-full shrink-0"}),b]},x))})]})]})]}),g&&s.jsxs("section",{className:"bg-gradient-to-br from-indigo-50 to-white dark:from-indigo-900/20 dark:to-[#1A222C] rounded-xl border border-indigo-100 dark:border-indigo-900/30 shadow-sm p-6",children:[s.jsxs("h3",{className:"flex items-center gap-2 font-bold text-indigo-900 dark:text-indigo-300 mb-4",children:[s.jsx("span",{className:"material-symbols-outlined",children:"auto_fix_high"}),"AI Suggested Improvement"]}),s.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",children:s.jsx("p",{children:g})})]}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsxs("button",{onClick:u,className:"px-8 py-3 rounded-xl bg-primary hover:bg-blue-700 text-white font-bold shadow-md transition-all flex items-center justify-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"mic"}),"Practice Another Question"]})})]})]})}function _I(){const[e,t]=p.useState(null),[r,n]=p.useState(!0);p.useEffect(()=>{document.title="JobSpeakPro - Practice Is Better With Friends";async function i(){var o;try{const l=await Te("/api/referrals/me");t(((o=l==null?void 0:l.data)==null?void 0:o.referralCode)||(l==null?void 0:l.referralCode))}catch(l){console.error("Fetch referral code error:",l)}finally{n(!1)}}i()},[]);const a=e?`https://jobspeakpro.com?ref=${e}`:"Loading...";return s.jsxs("div",{className:"bg-white dark:bg-[#0d1117] font-display text-[#111418] dark:text-white transition-colors duration-300 min-h-screen flex flex-col",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"flex-1 w-full max-w-[1024px] mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-[#1A222C] rounded-xl border border-[#dbe0e6] dark:border-gray-800 shadow-sm overflow-hidden relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-white/50 dark:from-blue-900/10 dark:to-[#1A222C] pointer-events-none"}),s.jsxs("div",{className:"relative z-10 p-8 md:p-12 text-center flex flex-col items-center gap-6",children:[s.jsx("div",{className:"size-16 rounded-full bg-[#197fe6]/10 text-[#197fe6] flex items-center justify-center mb-2",children:s.jsx("span",{className:"material-symbols-outlined text-4xl",children:"group_add"})}),s.jsx("h1",{className:"text-3xl md:text-5xl font-black leading-tight tracking-[-0.033em] text-[#111418] dark:text-white max-w-2xl",children:"Practice Is Better With Friends"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 text-lg font-normal leading-relaxed max-w-xl",children:"Invite someone you know to JobSpeakPro. Help them practice interviews and advance their career. Get rewarded for every success."})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-[#197fe6]",children:"redeem"}),"The Reward Offer"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full",children:[s.jsxs("div",{className:"w-full min-w-0 flex flex-col sm:flex-row gap-4 rounded-xl border border-[#dce0e5] dark:border-[#2a343f] bg-white dark:bg-[#1A222C] p-6 shadow-sm hover:border-[#197fe6]/30 transition-colors overflow-hidden relative h-full",children:[s.jsx("div",{className:"bg-[#197fe6]/10 text-[#197fe6] size-12 rounded-full flex items-center justify-center shrink-0",children:s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"celebration"})}),s.jsxs("div",{className:"flex flex-col gap-1 z-10 relative",children:[s.jsx("h3",{className:"text-[#111418] dark:text-white text-lg font-bold leading-tight break-words",children:"For them"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 text-base",children:"7 days of full Pro access to all premium tools"})]})]}),s.jsxs("div",{className:"w-full min-w-0 flex flex-col sm:flex-row gap-4 rounded-xl border border-[#dce0e5] dark:border-[#2a343f] bg-white dark:bg-[#1A222C] p-6 shadow-sm hover:border-[#197fe6]/30 transition-colors overflow-hidden relative h-full",children:[s.jsx("div",{className:"bg-[#197fe6]/10 text-[#197fe6] size-12 rounded-full flex items-center justify-center shrink-0",children:s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"wallet_giftcard"})}),s.jsxs("div",{className:"flex flex-col gap-1 z-10 relative min-w-0",children:[s.jsx("h3",{className:"text-[#111418] dark:text-white text-lg font-bold leading-tight break-words",children:"For you"}),s.jsx("p",{className:"text-[#637588] dark:text-gray-400 text-base",children:"1 free mock interview credit for your next session"})]})]})]})]}),s.jsxs("section",{className:"bg-white dark:bg-[#1A222C] rounded-xl border border-[#dce0e5] dark:border-gray-800 p-8 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-bold mb-6",children:"What they get"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-4 gap-x-8",children:["Unlimited practice sessions","No paywalls or restricted features","Unlimited mock interviews","Full JobSpeakPro experience"].map((i,o)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"material-symbols-outlined text-[#197fe6]",children:"check_circle"}),s.jsx("span",{className:"text-sm md:text-base font-medium text-[#111418] dark:text-gray-200",children:i})]},o))})]}),s.jsxs("section",{className:"bg-white dark:bg-[#1A222C] rounded-xl border border-[#197fe6]/20 shadow-lg shadow-[#197fe6]/5 p-8 flex flex-col gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h3",{className:"text-xl font-bold text-[#111418] dark:text-white",children:"Your Unique Invite Link"}),s.jsx("p",{className:"text-sm text-[#637588] dark:text-gray-400",children:"Copy this link and send it to your friends or colleagues."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[s.jsx("div",{className:"relative flex-1",children:s.jsx("input",{className:"w-full bg-gray-50 dark:bg-[#141b23] border border-gray-200 dark:border-gray-700 rounded-xl h-12 px-5 text-gray-700 dark:text-gray-200 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-[#197fe6] transition-all",readOnly:!0,type:"text",id:"referral-link-input","data-testid":"referral-code",value:a})}),s.jsxs("button",{onClick:()=>{e&&(async()=>{try{return await navigator.clipboard.writeText(a),!0}catch{const l=document.getElementById("referral-link-input");return l?(l.select(),document.execCommand("copy"),!0):!1}})().then(()=>{const o=document.createElement("div");o.className="fixed bottom-4 right-4 bg-[#197fe6] text-white px-6 py-3 rounded-lg shadow-xl z-50 animate-in fade-in slide-in-from-bottom-2 font-bold flex items-center gap-2",o.innerHTML='<span class="material-symbols-outlined">check_circle</span> Link copied!',document.body.appendChild(o),setTimeout(()=>o.remove(),3e3)})},disabled:r||!e,"data-testid":"referral-copy",className:"bg-[#197fe6] text-white px-8 h-12 rounded-xl font-bold hover:bg-[#197fe6]/90 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-[#197fe6]/20 active:scale-95 shrink-0",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"content_copy"}),"Copy Link"]})]}),s.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-800 flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Share via:"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>window.open(`mailto:?subject=Join JobSpeakPro&body=Check out JobSpeakPro! ${a}`,"_blank"),className:"size-10 rounded-full bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 flex items-center justify-center hover:bg-[#197fe6] hover:text-white transition-all",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"mail"})}),s.jsx("button",{onClick:()=>window.open(`sms:?&body=Check out JobSpeakPro! ${a}`,"_blank"),className:"size-10 rounded-full bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 flex items-center justify-center hover:bg-[#197fe6] hover:text-white transition-all",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"sms"})}),s.jsx("button",{onClick:()=>window.open(`https://wa.me/?text=Check out JobSpeakPro! ${a}`,"_blank"),className:"size-10 rounded-full bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 flex items-center justify-center hover:bg-[#197fe6] hover:text-white transition-all",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"chat"})})]})]}),s.jsxs(ve,{to:"/referral/history",className:"text-[#197fe6] hover:underline text-sm font-bold flex items-center gap-1",children:["View Referral History",s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]})]})]})]})}function SI({error:e,errorInfo:t,onReset:r}){return s.jsx("div",{className:"min-h-screen bg-rose-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-rose-100 p-8 text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-rose-100 flex items-center justify-center mb-4",children:s.jsx("span",{className:"material-symbols-outlined text-rose-500 text-4xl",children:"error"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Oops, something went wrong"}),s.jsx("p",{className:"text-sm text-slate-600",children:"We hit a small snag. Don't worryyour data is safe."})]}),s.jsx("div",{className:"mb-6",children:s.jsx("button",{onClick:r,className:"w-full px-6 py-3 rounded-full bg-rose-500 hover:bg-rose-600 text-white font-semibold transition-colors shadow-sm",children:"Try again"})}),s.jsx("div",{className:"mb-4",children:s.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-2 rounded-full border border-rose-200 text-rose-600 hover:bg-rose-50 font-medium transition-colors text-sm",children:"Reload page"})}),!1,s.jsx("p",{className:"text-xs text-slate-400 mt-6",children:"If this keeps happening, reach out to our support team."})]})})}class EI extends se.Component{constructor(r){super(r);fm(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?s.jsx(SI,{error:this.state.error,errorInfo:this.state.errorInfo,onReset:this.handleReset}):this.props.children}}function ai({children:e}){const{isAuthed:t,loading:r}=Rt();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):t?e:s.jsx(wi,{to:"/signin",replace:!0})}function TI(){const e=De(),t=lr();return p.useEffect(()=>{if(new URLSearchParams(t.search).get("canceled")==="true"){const a=window.location.hostname,i="www.jobspeakpro.com";if(a!==i&&a!=="jobspeakpro.com"){const o=`https://${i}/pricing?canceled=true`;window.location.href=o;return}}},[t.search,e]),null}function CI(){const e=lr();return se.useEffect(()=>{console.log("ROUTE:",e.pathname)},[e.pathname]),null}function PI(){return se.useEffect(()=>{},[]),null}const xw="prod-routes-v1";console.log(`[BUILD_ID] ${xw}`);typeof window<"u"&&(window.__BUILD_ID__=xw);M1({dsn:"https://9e271eacb66c6071c16651670549c101@o4510463592497152.ingest.us.sentry.io/4510585485000704",environment:"production",tracesSampleRate:1});Kd.createRoot(document.getElementById("root")).render(s.jsx(se.StrictMode,{children:s.jsx(W1,{fallback:s.jsx("p",{children:"Something went wrong."}),children:s.jsx(EI,{children:s.jsx(ZE,{children:s.jsx(F4,{children:s.jsxs(VE,{children:[s.jsx(CI,{}),s.jsx(PI,{}),s.jsx(TI,{}),s.jsxs($E,{children:[s.jsx(Ce,{path:"/",element:s.jsx(V4,{})}),s.jsx(Ce,{path:"/pricing",element:s.jsx(K4,{})}),s.jsx(Ce,{path:"/upgrade",element:s.jsx(J4,{})}),s.jsx(Ce,{path:"/how-it-works",element:s.jsx(Y4,{})}),s.jsx(Ce,{path:"/start",element:s.jsx(Q4,{})}),s.jsx(Ce,{path:"/support",element:s.jsx(X4,{})}),s.jsx(Ce,{path:"/signin",element:s.jsx(tP,{})}),s.jsx(Ce,{path:"/signup",element:s.jsx(rP,{})}),s.jsx(Ce,{path:"/auth/callback",element:s.jsx(sP,{})}),s.jsx(Ce,{path:"/contact",element:s.jsx(nP,{})}),s.jsx(Ce,{path:"/help",element:s.jsx(aP,{})}),s.jsx(Ce,{path:"/privacy",element:s.jsx(Z4,{})}),s.jsx(Ce,{path:"/terms",element:s.jsx(eP,{})}),s.jsx(Ce,{path:"/affiliate",element:s.jsx(W4,{})}),s.jsx(Ce,{path:"/affiliate/apply",element:s.jsx(q4,{})}),s.jsx(Ce,{path:"/affiliate/joined",element:s.jsx(H4,{})}),s.jsx(Ce,{path:"/affiliate/terms",element:s.jsx(G4,{})}),s.jsx(Ce,{path:"/practice",element:s.jsx(mI,{})}),s.jsx(Ce,{path:"/interview",element:s.jsx(wi,{to:"/practice",replace:!0})}),s.jsx(Ce,{path:"/speaking",element:s.jsx(wi,{to:"/practice",replace:!0})}),s.jsx(Ce,{path:"/practice-legacy",element:s.jsx(dP,{})}),s.jsx(Ce,{path:"/resume",element:s.jsx(tg,{defaultTab:"resume"})}),s.jsx(Ce,{path:"/progress",element:s.jsx(cP,{})}),s.jsx(Ce,{path:"/app/progress",element:s.jsx(tg,{defaultTab:"progress"})}),s.jsx(Ce,{path:"/dashboard",element:s.jsx(lP,{})}),s.jsx(Ce,{path:"/mock-interview",element:s.jsx(pI,{})}),s.jsx(Ce,{path:"/mock-interview/session",element:s.jsx(gI,{})}),s.jsx(Ce,{path:"/mock-interview/summary/:id",element:s.jsx(ai,{children:s.jsx(kI,{})})}),s.jsx(Ce,{path:"/practice/summary/:id",element:s.jsx(ai,{children:s.jsx(NI,{})})}),s.jsx(Ce,{path:"/profile",element:s.jsx(ai,{children:s.jsx(iP,{})})}),s.jsx(Ce,{path:"/referral",element:s.jsx(ai,{children:s.jsx(_I,{})})}),s.jsx(Ce,{path:"/referral/history",element:s.jsx(ai,{children:s.jsx(z4,{})})}),s.jsx(Ce,{path:"*",element:s.jsx(wi,{to:"/",replace:!0})})]})]})})})})})}));
